{"ast":null,"code":"var _jsxFileName = \"/Users/Gary 1/Desktop/Code stuff/\\u8CC7\\u7B56\\u6703/\\u5C08\\u984C/\\u5927\\u5C08/artddict-react/src/pages/cart/components/CartFormFinish.js\",\n    _s = $RefreshSig$();\n\nimport { React, useState, useEffect } from 'react';\nimport { ReactComponent as Logo } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../../pics/logo-bk.svg\";\nimport { withRouter } from 'react-router-dom';\nimport '../../../bootstrap/css/bootstrap.css';\nimport '../styles/cart-finish.scss'; // imgae\n\nimport img1 from '../img/1.png';\nimport img2 from '../img/2.png'; // icon\n\nimport { FaLock } from 'react-icons/fa';\nimport { RiArrowRightSLine } from 'react-icons/ri';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction CartFormFinish(props) {\n  _s();\n\n  const orderId = props.sentorder;\n  console.log(props); // 定義要列出的資料\n  // orders內容\n\n  const [orderbyid, setOrderById] = useState('');\n  const [username, setUsername] = useState('');\n  const [address, setAddress] = useState('');\n  const [mobile, setMobile] = useState('');\n  const [shipmethod, setShipMethod] = useState('');\n  const [credittype, setCreditType] = useState('');\n  const [date, setDate] = useState('');\n  const [total, setTotal] = useState(''); // order_details內容\n\n  const [proid, setProId] = useState('');\n  const [proqty, setProQty] = useState('');\n  const [orderitems, setOrderItems] = useState([]);\n\n  async function getOrdersServer(orderId) {\n    // 取得剛剛父層寫入的訂單 orders\n    // 連接的伺服器資料網址\n    const url = 'http://localhost:6005/orders/' + orderId; // 注意header資料格式要設定，伺服器才知道是json格式\n\n    const request = new Request(url, {\n      method: 'GET',\n      headers: new Headers({\n        Accept: 'application/json',\n        'Content-Type': 'appliaction/json'\n      })\n    }); // fetch是呼叫後台api, response=得到的資料\n\n    const response = await fetch(request);\n    console.log(response);\n    const data = await response.json();\n    console.log(data); // 設定資料\n\n    setOrderById(data.orderId);\n    setUsername(data.name);\n    setAddress(data.userAddress);\n    setMobile(data.userPhone);\n    setShipMethod(data.shipMethod);\n    setCreditType(data.creditType);\n    let tempdate = new Date(data.created_at);\n    let newdate = tempdate.getFullYear() + '-' + parseInt(tempdate.getMonth() + 1) + '-' + tempdate.getDate();\n    setDate(newdate);\n    setTotal(data.totalPrice); // 取得order_details\n    // 連接的伺服器資料網址\n\n    const url2 = 'http://localhost:6005/order_details/' + orderId; // 注意header資料格式要設定，伺服器才知道是json格式\n\n    const request2 = new Request(url2, {\n      method: 'GET',\n      headers: new Headers({\n        Accept: 'application/json',\n        'Content-Type': 'appliaction/json'\n      })\n    }); // fetch是呼叫後台api, response=得到的資料\n\n    const response2 = await fetch(request2);\n    console.log(response2);\n    const data2 = await response2.json();\n    console.log(data2); // 設定資料\n\n    setProId(data2.proId);\n    setProQty(data2.orderQty);\n    let tempitems = [];\n\n    for (let i = 0; i < data2.length; i++) {\n      let proId = data2[i].orderId;\n      let orderQty = data2[i].orderQty;\n      tempitems.push({\n        id: proId,\n        sid: '20056',\n        name: '梵谷自畫像T-Shirt',\n        price: 780,\n        size: 'S',\n        image: '/img/1.png',\n        orderQty: orderQty\n      });\n    }\n\n    setOrderItems(tempitems);\n  } // 呼叫剛剛的assync func\n\n\n  useEffect(() => {\n    getOrdersServer(orderId);\n  }, []);\n  const orderItemsDisplay = orderitems.map(orderitems => {\n    return /*#__PURE__*/_jsxDEV(\"td\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"c-td-p1 d-flex align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: orderitems.image\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col ml-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"pb-2\",\n            children: orderitems.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"c-fgray\",\n            children: [\"\\u5546\\u54C1\\u7DE8\\u865F # \", orderitems.sid]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"col\",\n          children: [\"\\u5C3A\\u5BF8\\uFF1A\", orderitems.size]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"col\",\n          children: [\"\\u6578\\u91CF\\uFF1A\", orderitems.orderQty]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"col\",\n          children: [\"NT$ \", orderitems.price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this);\n  });\n\n  const orderDisplay = /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"c-order\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u8A02\\u55AE\\u660E\\u7D30\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\"\\u8A02\\u55AE\\u7DE8\\u865F\\uFF1A\", orderbyid]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"c-td-dark\",\n              children: [\"\\u8A02\\u55AE\\u65E5\\u671F\\uFF1A\", date]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\"\\u7E3D\\u50F9\\uFF1ANT$ \", total]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"d-flex flex-column\",\n              children: orderItemsDisplay\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"c-order mt-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u4ED8\\u6B3E\\u8CC7\\u8A0A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\"\\u4FE1\\u7528\\u5361\\u5225\\uFF1A\", credittype]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"c-td-dark\",\n              children: [\"\\u5237\\u5361\\u91D1\\u984D\\uFF1ANT$ \", total]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"c-order mt-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u6536\\u4EF6\\u8CC7\\u8A0A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\"\\u6536\\u4EF6\\u4EBA\\uFF1A\", username]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"c-td-dark\",\n              children: [\"\\u6536\\u4EF6\\u5730\\u5740\\uFF1A\", address]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\"\\u806F\\u7D61\\u96FB\\u8A71\\uFF1A\", mobile]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"c-td-dark\",\n              children: [\"\\u5BC4\\u9001\\u65B9\\u5F0F\\uFF1A\", shipmethod]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"c-bg2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"c-thank\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"h5\",\n          children: \"\\u611F\\u8B1D\\u60A8\\u7684\\u8A02\\u8CFC\\uFF01\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"pt-2\",\n          children: \"\\u60A8\\u7684\\u8A02\\u55AE\\u8CC7\\u8A0A\\u5982\\u4E0B\\uFF0C\\u4E26\\u5DF2\\u540C\\u6B65\\u5BC4\\u5230\\u60A8\\u586B\\u5BEB\\u7684e-mail\\u4FE1\\u7BB1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this), orderDisplay, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"c-finish-bottom\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"#\",\n          className: \"\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"c-finbtn1\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u67E5\\u8A62\\u8A02\\u55AE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"#\",\n          className: \"ml-5\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"c-finbtn\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u56DE\\u5230\\u8CE3\\u5834\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"c-checkout1 pt-3 pb-5 d-flex align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(FaLock, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"c-lock ml-3\",\n          children: [\"\\u66F4\\u591A\\u8CC7\\u8A0A\\u8ACB\\u53C3\\u8003\", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            className: \"c-store pb-0\",\n            children: \"\\u96B1\\u79C1\\u6B0A\\u689D\\u6B3E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(CartFormFinish, \"EOcbk4w3HDXli8rAHLr9fvm8xeo=\");\n\n_c = CartFormFinish;\nexport default _c2 = withRouter(CartFormFinish);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"CartFormFinish\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/Users/Gary 1/Desktop/Code stuff/資策會/專題/大專/artddict-react/src/pages/cart/components/CartFormFinish.js"],"names":["React","useState","useEffect","withRouter","img1","img2","FaLock","RiArrowRightSLine","CartFormFinish","props","orderId","sentorder","console","log","orderbyid","setOrderById","username","setUsername","address","setAddress","mobile","setMobile","shipmethod","setShipMethod","credittype","setCreditType","date","setDate","total","setTotal","proid","setProId","proqty","setProQty","orderitems","setOrderItems","getOrdersServer","url","request","Request","method","headers","Headers","Accept","response","fetch","data","json","name","userAddress","userPhone","shipMethod","creditType","tempdate","Date","created_at","newdate","getFullYear","parseInt","getMonth","getDate","totalPrice","url2","request2","response2","data2","proId","orderQty","tempitems","i","length","push","id","sid","price","size","image","orderItemsDisplay","map","orderDisplay"],"mappings":"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","sourcesContent":["import { React, useState, useEffect } from 'react'\nimport { ReactComponent as Logo } from '../../../pics/logo-bk.svg'\nimport { withRouter } from 'react-router-dom'\n\nimport '../../../bootstrap/css/bootstrap.css'\nimport '../styles/cart-finish.scss'\n\n// imgae\nimport img1 from '../img/1.png'\nimport img2 from '../img/2.png'\n\n// icon\nimport { FaLock } from 'react-icons/fa'\nimport { RiArrowRightSLine } from 'react-icons/ri'\n\nfunction CartFormFinish(props) {\n  const orderId = props.sentorder\n  console.log(props)\n\n  // 定義要列出的資料\n  // orders內容\n  const [orderbyid, setOrderById] = useState('')\n  const [username, setUsername] = useState('')\n  const [address, setAddress] = useState('')\n  const [mobile, setMobile] = useState('')\n  const [shipmethod, setShipMethod] = useState('')\n  const [credittype, setCreditType] = useState('')\n  const [date, setDate] = useState('')\n  const [total, setTotal] = useState('')\n  // order_details內容\n  const [proid, setProId] = useState('')\n  const [proqty, setProQty] = useState('')\n\n  const [orderitems, setOrderItems] = useState([])\n\n  async function getOrdersServer(orderId) {\n    // 取得剛剛父層寫入的訂單 orders\n    // 連接的伺服器資料網址\n    const url = 'http://localhost:6005/orders/' + orderId\n\n    // 注意header資料格式要設定，伺服器才知道是json格式\n    const request = new Request(url, {\n      method: 'GET',\n      headers: new Headers({\n        Accept: 'application/json',\n        'Content-Type': 'appliaction/json',\n      }),\n    })\n\n    // fetch是呼叫後台api, response=得到的資料\n    const response = await fetch(request)\n    console.log(response)\n    const data = await response.json()\n    console.log(data)\n\n    // 設定資料\n    setOrderById(data.orderId)\n    setUsername(data.name)\n    setAddress(data.userAddress)\n    setMobile(data.userPhone)\n    setShipMethod(data.shipMethod)\n    setCreditType(data.creditType)\n    let tempdate = new Date(data.created_at)\n    let newdate =\n      tempdate.getFullYear() +\n      '-' +\n      parseInt(tempdate.getMonth() + 1) +\n      '-' +\n      tempdate.getDate()\n    setDate(newdate)\n    setTotal(data.totalPrice)\n\n    // 取得order_details\n    // 連接的伺服器資料網址\n    const url2 =\n      'http://localhost:6005/order_details/' + orderId\n\n    // 注意header資料格式要設定，伺服器才知道是json格式\n    const request2 = new Request(url2, {\n      method: 'GET',\n      headers: new Headers({\n        Accept: 'application/json',\n        'Content-Type': 'appliaction/json',\n      }),\n    })\n\n    // fetch是呼叫後台api, response=得到的資料\n    const response2 = await fetch(request2)\n    console.log(response2)\n    const data2 = await response2.json()\n    console.log(data2)\n\n    // 設定資料\n    setProId(data2.proId)\n    setProQty(data2.orderQty)\n\n    let tempitems = []\n    for (let i = 0; i < data2.length; i++) {\n      let proId = data2[i].orderId\n      let orderQty = data2[i].orderQty\n      tempitems.push({\n        id: proId,\n        sid: '20056',\n        name: '梵谷自畫像T-Shirt',\n        price: 780,\n        size: 'S',\n        image: '/img/1.png',\n        orderQty: orderQty,\n      })\n    }\n    setOrderItems(tempitems)\n  }\n\n  // 呼叫剛剛的assync func\n  useEffect(() => {\n    getOrdersServer(orderId)\n  }, [])\n\n  const orderItemsDisplay = orderitems.map((orderitems) => {\n    return (\n      <td>\n        <div class=\"c-td-p1 d-flex align-items-center\">\n          <img src={orderitems.image} />\n          <div className=\"col ml-4\">\n            <p className=\"pb-2\">{orderitems.name}</p>\n            <p className=\"c-fgray\">\n              商品編號 # {orderitems.sid}\n            </p>\n          </div>\n          <p className=\"col\">尺寸：{orderitems.size}</p>\n          <p className=\"col\">數量：{orderitems.orderQty}</p>\n          <p className=\"col\">NT$ {orderitems.price}</p>\n        </div>\n      </td>\n    )\n  })\n\n  const orderDisplay = (\n    <>\n      <div>\n        <table className=\"c-order\">\n          <thead>\n            <th>訂單明細</th>\n          </thead>\n          <tbody>\n            <tr>\n              <td>訂單編號：{orderbyid}</td>\n            </tr>\n\n            <tr>\n              <td className=\"c-td-dark\">\n                訂單日期：{date}\n              </td>\n            </tr>\n            {/* <tr>\n                <td>商品小計：NT$ 1,560</td>\n              </tr>\n              <tr>\n                <td className=\"c-td-dark\">\n                  運費小計：NT$ 80\n                </td>\n              </tr>\n              <tr>\n                <td>折扣碼：- NT$ 50</td>\n              </tr> */}\n            <tr>\n              <td>總價：NT$ {total}</td>\n            </tr>\n            <tr>\n              <td className=\"d-flex flex-column\">\n                {orderItemsDisplay}\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <table className=\"c-order mt-5\">\n          <thead>\n            <th>付款資訊</th>\n          </thead>\n          <tbody>\n            <tr>\n              <td>信用卡別：{credittype}</td>\n            </tr>\n            {/* <tr>\n                <td className=\"c-td-dark\">\n                  信用卡號：XXXX-XXXX-XXXX-2348\n                </td>\n              </tr>\n              <tr>\n                <td>有效期限：XX-2025</td>\n              </tr> */}\n            <tr>\n              <td className=\"c-td-dark\">\n                刷卡金額：NT$ {total}\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <table className=\"c-order mt-5\">\n          <thead>\n            <th>收件資訊</th>\n          </thead>\n          <tbody>\n            <tr>\n              <td>收件人：{username}</td>\n            </tr>\n            <tr>\n              <td className=\"c-td-dark\">\n                收件地址：{address}\n              </td>\n            </tr>\n            <tr>\n              <td>聯絡電話：{mobile}</td>\n            </tr>\n            <tr>\n              <td className=\"c-td-dark\">\n                寄送方式：{shipmethod}\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </>\n  )\n\n  return (\n    <>\n      <div className=\"c-bg2\">\n        <div className=\"c-thank\">\n          <p className=\"h5\">感謝您的訂購！</p>\n          <p className=\"pt-2\">\n            您的訂單資訊如下，並已同步寄到您填寫的e-mail信箱\n          </p>\n        </div>\n\n        {/* 訂單資訊 */}\n        {orderDisplay}\n\n        <div className=\"c-finish-bottom\">\n          <a href=\"#\" className=\"\">\n            <div className=\"c-finbtn1\">\n              <p>查詢訂單</p>\n            </div>\n          </a>\n          <a href=\"#\" className=\"ml-5\">\n            <div className=\"c-finbtn\">\n              <p>回到賣場</p>\n            </div>\n          </a>\n        </div>\n        <div className=\"c-checkout1 pt-3 pb-5 d-flex align-items-center\">\n          <FaLock size={20} />\n          <p className=\"c-lock ml-3\">\n            更多資訊請參考\n            <a href=\"#\" className=\"c-store pb-0\">\n              隱私權條款\n            </a>\n          </p>\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default withRouter(CartFormFinish)\n"]},"metadata":{},"sourceType":"module"}