{"ast":null,"code":"var _jsxFileName = \"/Users/Gary 1/Desktop/Code stuff/\\u8CC7\\u7B56\\u6703/\\u5C08\\u984C/\\u5927\\u5C08/artddict-react/src/pages/user/components/Logoheader.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport logo from \"../img/logo-bk.svg\";\nimport '../styles/Logoheader.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Logoheader(props) {\n  _s();\n\n  /* \n  呼叫Logoheader時, 附上兩個參數\n   - user_id = 根據這個ID我們去fetch user name來顯示在header\n   - show_user_name = 決定要不要顯示抓到的user name\n  */\n  const [username, setUsername] = useState('');\n  const [welcometext, setWelcome] = useState('');\n\n  if (props.user_id !== null) {\n    console.log('props at header = ', props);\n    const user_id = props.user_id;\n    const showusername = props.show_user_name; // react hook\n\n    getUserById();\n\n    async function getUserById() {\n      console.log('sending request'); // 連接的伺服器資料網址\n\n      const url = `http://localhost:6005/users/${user_id}`; // 注意資料格式要設定，伺服器才知道是json格式\n\n      const request = new Request(url, {\n        method: 'GET',\n        headers: new Headers({\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        })\n      });\n      const response = await fetch(request);\n      const data = await response.json();\n      setUsername(data.name); //取得要顯示的字串\n\n      if (showusername) {\n        // 如果不是登入或註冊的狀況, 根據ID去抓mysql的name欄位來顯示\n        setWelcome(`Hello! ${username}`);\n        console.log('user name = ', username);\n        console.log('welcome text = ', welcometext);\n      }\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"d-none d-lg-block d-xl-block\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"u-container-fluid\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"u-logo-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: logo,\n            alt: \"logo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"u-username\",\n            children: welcometext\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(Logoheader, \"/Didgf4o6/Tyb8d3U3bdsK9LOTc=\");\n\n_c = Logoheader;\nexport default Logoheader;\n\nvar _c;\n\n$RefreshReg$(_c, \"Logoheader\");","map":{"version":3,"sources":["/Users/Gary 1/Desktop/Code stuff/資策會/專題/大專/artddict-react/src/pages/user/components/Logoheader.js"],"names":["React","useState","Logoheader","props","username","setUsername","welcometext","setWelcome","user_id","console","log","showusername","show_user_name","getUserById","url","request","Request","method","headers","Headers","Accept","response","fetch","data","json","name","logo"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;;AAEA,OAAO,2BAAP;;;;AAEA,SAASC,UAAT,CAAoBC,KAApB,EAA2B;AAAA;;AACzB;AACF;AACA;AACA;AACA;AACE,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BJ,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACK,WAAD,EAAcC,UAAd,IAA4BN,QAAQ,CAAC,EAAD,CAA1C;;AACA,MAAIE,KAAK,CAACK,OAAN,KAAkB,IAAtB,EAA4B;AAC1BC,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCP,KAAlC;AACA,UAAMK,OAAO,GAAGL,KAAK,CAACK,OAAtB;AACA,UAAMG,YAAY,GAAGR,KAAK,CAACS,cAA3B,CAH0B,CAI1B;;AACAC,IAAAA,WAAW;;AAEX,mBAAeA,WAAf,GAA6B;AAC3BJ,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAD2B,CAE3B;;AACA,YAAMI,GAAG,GAAI,+BAA8BN,OAAQ,EAAnD,CAH2B,CAK3B;;AACA,YAAMO,OAAO,GAAG,IAAIC,OAAJ,CAAYF,GAAZ,EAAiB;AAC/BG,QAAAA,MAAM,EAAE,KADuB;AAE/BC,QAAAA,OAAO,EAAE,IAAIC,OAAJ,CAAY;AACnBC,UAAAA,MAAM,EAAE,kBADW;AAEnB,0BAAgB;AAFG,SAAZ;AAFsB,OAAjB,CAAhB;AAOA,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACP,OAAD,CAA5B;AACA,YAAMQ,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;AACAnB,MAAAA,WAAW,CAACkB,IAAI,CAACE,IAAN,CAAX,CAf2B,CAgB3B;;AACA,UAAId,YAAJ,EAAkB;AAChB;AACAJ,QAAAA,UAAU,CAAE,UAASH,QAAS,EAApB,CAAV;AACAK,QAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BN,QAA5B;AACAK,QAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BJ,WAA/B;AACD;AACF;AACF;;AAED,sBACE;AAAA,2BACE;AAAQ,MAAA,SAAS,EAAC,8BAAlB;AAAA,6BACE;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA,+BACE;AAAK,UAAA,SAAS,EAAC,eAAf;AAAA,kCACE;AAAK,YAAA,GAAG,EAAEoB,IAAV;AAAgB,YAAA,GAAG,EAAC;AAApB;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAK,YAAA,SAAS,EAAC,YAAf;AAAA,sBAA6BpB;AAA7B;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF,mBADF;AAYD;;GArDQJ,U;;KAAAA,U;AAuDT,eAAeA,UAAf","sourcesContent":["import React, { useState } from 'react'\nimport logo from '../img/logo-bk.svg'\nimport '../styles/Logoheader.scss'\n\nfunction Logoheader(props) {\n  /* \n  呼叫Logoheader時, 附上兩個參數\n   - user_id = 根據這個ID我們去fetch user name來顯示在header\n   - show_user_name = 決定要不要顯示抓到的user name\n  */\n  const [username, setUsername] = useState('')\n  const [welcometext, setWelcome] = useState('')\n  if (props.user_id !== null) {\n    console.log('props at header = ', props)\n    const user_id = props.user_id\n    const showusername = props.show_user_name\n    // react hook\n    getUserById()\n\n    async function getUserById() {\n      console.log('sending request')\n      // 連接的伺服器資料網址\n      const url = `http://localhost:6005/users/${user_id}`\n\n      // 注意資料格式要設定，伺服器才知道是json格式\n      const request = new Request(url, {\n        method: 'GET',\n        headers: new Headers({\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n        }),\n      })\n      const response = await fetch(request)\n      const data = await response.json()\n      setUsername(data.name)\n      //取得要顯示的字串\n      if (showusername) {\n        // 如果不是登入或註冊的狀況, 根據ID去抓mysql的name欄位來顯示\n        setWelcome(`Hello! ${username}`)\n        console.log('user name = ', username)\n        console.log('welcome text = ', welcometext)\n      }\n    }\n  }\n\n  return (\n    <>\n      <header className=\"d-none d-lg-block d-xl-block\">\n        <div className=\"u-container-fluid\">\n          <div className=\"u-logo-header\">\n            <img src={logo} alt=\"logo\" />\n            <div className=\"u-username\">{welcometext}</div>\n          </div>\n        </div>\n      </header>\n    </>\n  )\n}\n\nexport default Logoheader\n"]},"metadata":{},"sourceType":"module"}