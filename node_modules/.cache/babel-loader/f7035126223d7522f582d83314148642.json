{"ast":null,"code":"var _jsxFileName = \"/Users/Gary 1/Desktop/Code stuff/\\u8CC7\\u7B56\\u6703/\\u5C08\\u984C/\\u5927\\u5C08/artddict-react/src/pages/cart/CartFormProduct.js\",\n    _s = $RefreshSig$();\n\nimport { React, useState, useEffect } from 'react';\nimport { countries, townships, data } from './data/townships';\nimport Cookies from 'universal-cookie';\nimport Basket2Product from './components/Basket2Product';\nimport { ReactComponent as Logo } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../pics/logo-bk.svg\"; // components\n\nimport CartProductFinish from './components/CartProductFinish'; // @material-ui\n\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox'; // styles\n\nimport '../../bootstrap/css/bootstrap.css';\nimport './styles/cart-shipping.scss';\nimport './styles/cart-payment.scss'; // icon\n\nimport { FaLock } from 'react-icons/fa';\nimport { RiArrowRightSLine } from 'react-icons/ri';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction CartFormProduct() {\n  _s();\n\n  //假設會員id\n  const [memberid, setMemberId] = useState('');\n  const [membername, setMemberName] = useState(''); //驗證身分\n\n  async function getjwtvertifyFromServer() {\n    const token = localStorage.getItem('token');\n    const response = await fetch('http://localhost:6005/users/checklogin', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        token\n      })\n    });\n    const data = await response.json();\n    console.log(data);\n\n    if (!data.id) {\n      window.location.href = './user-login';\n    }\n\n    setMemberId(data.id);\n    setMemberName(data.name);\n  }\n\n  useEffect(() => {\n    //驗證身分\n    getjwtvertifyFromServer();\n  }, []); // 城市與地區\n\n  const [country, setCountry] = useState(-1);\n  const [township, setTownship] = useState(-1); // 組合信用卡過期日用\n\n  const [cardexpmon, setCardExpMon] = useState('');\n  const [cardexpyr, setCardExpYr] = useState(''); // checkbox\n\n  const [state, setState] = useState({\n    checkedA: true,\n    checkedB: true\n  });\n\n  const handleChange = event => {\n    setState({ ...state,\n      [event.target.name]: event.target.checked\n    });\n  };\n\n  const [formStep, setFormStep] = useState(0);\n\n  const completeFormStep = () => {\n    // 組合日期\n    setWholeAddress(`${countries[country]}${townships[country][township]}${useraddress}`); // 下一頁\n\n    setFormStep(cur => cur + 1);\n  }; // formbutton\n\n\n  const renderButton = () => {\n    if (formStep > 1) {\n      return undefined;\n    } else if (formStep === 1) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"my-4\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          disabled: !username || country == -1 || township == -1 || !useraddress || !userphone || !cardnumber || !cardsec,\n          onClick: postOrderToSever,\n          // onClick={completeFormStep}\n          className: \"c-checkoutbtn2\",\n          children: \"\\u78BA\\u8A8D\\u4ED8\\u6B3E\"\n        }, \"1\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"my-4\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: !username || country == -1 || township == -1 || !useraddress || !userphone,\n          onClick: completeFormStep,\n          type: \"button\",\n          className: \"c-checkoutbtn2\",\n          children: \"\\u7E7C\\u7E8C\\u7D50\\u5E33\"\n        }, \"2\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this);\n    }\n  }; // 回前一頁\n\n\n  const goToPreviousStep = () => {\n    setFormStep(cur => cur - 1);\n  };\n\n  const [cartItems, setCartItems] = useState([]);\n  const cookies = new Cookies();\n  useEffect(() => {\n    let tempArr = [];\n    let cookieProductArr = cookies.get('product'); // get Cookies\n\n    if (cookieProductArr) {\n      for (let i = 0; i < cookieProductArr.length; i++) {\n        let product = cookieProductArr[i];\n        tempArr.push(product);\n      }\n\n      setCartItems(tempArr);\n    }\n  }, []); // 開始存入訂單\n  // 定義要存入的資料\n  // 訂單\n\n  const [userid, setUserId] = useState('');\n  const [orderpay, setOrderPay] = useState('VISA');\n  const [cardnumber, setCardNumber] = useState('');\n  const [cardexpdate, setCardExpDate] = useState('');\n  const [username, setUserName] = useState('');\n  const [userphone, setUserPhone] = useState('');\n  const [useraddress, setUserAddress] = useState('');\n  const [ordership, setOrderShip] = useState('宅配到府 - 運費：NT$ 80');\n  const [orderstatus, setOrderStatus] = useState('0');\n  const [orderprice, setOrderPrice] = useState('');\n  const [ordertype, setOrdertype] = useState('');\n  const [whole_address, setWholeAddress] = useState(''); // 訂單細節\n  // 定義此筆訂單產生的訂單編號\n\n  const [sentorder, setSentOrder] = useState(''); // 傳訂單到伺服器\n\n  async function postOrderToSever() {\n    // 準備好送給node的json資料\n    const orderid = new Date().getTime();\n    setSentOrder(orderid);\n    const newData = {\n      orderid,\n      userid: memberid,\n      orderpay,\n      cardnumber,\n      cardexpdate: `${cardexpmon}/${cardexpyr}`,\n      username,\n      userphone,\n      useraddress: whole_address,\n      ordership,\n      orderstatus: '0',\n      orderprice: itemsPrice + shipfee - discount,\n      ordertype: 'a'\n    }; // 連接的伺服器資料網址\n\n    const url = 'http://localhost:6005/orders/orders'; // 注意資料格式要設定，伺服器才知道是json格式\n\n    const request = new Request(url, {\n      method: 'POST',\n      body: JSON.stringify(newData),\n      headers: new Headers({\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      })\n    });\n    console.log(`data from react = ${JSON.stringify(newData)}`);\n    const response = await fetch(request);\n    console.log(response);\n    const data = await response.json();\n    console.log('伺服器回傳的json資料', data); // 要等驗証過，再設定資料(簡單的直接設定)\n    // post到order_details\n    // 用for loop把訂購商品跟數量寫進order_details\n\n    for (let i = 0; i < cartItems.length; i++) {\n      let item = cartItems[i];\n      let orderqty = item.qty;\n      let proid = item.id.split('-')[0];\n      let orderspec = item.id.split('-')[1];\n      let eventid = '';\n      let aucid = '';\n      const newData2 = {\n        orderid,\n        orderspec,\n        orderqty,\n        eventid,\n        proid,\n        aucid\n      }; // 連接的伺服器資料網址\n\n      const url2 = 'http://localhost:6005/order_details/order_details'; // 注意資料格式要設定，伺服器才知道是json格式\n\n      const request2 = new Request(url2, {\n        method: 'POST',\n        body: JSON.stringify(newData2),\n        headers: new Headers({\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        })\n      });\n      console.log(`data from react = ${JSON.stringify(newData2)}`);\n      const response2 = await fetch(request2);\n      console.log(response2);\n    }\n\n    setFormStep(cur => cur + 1);\n    cookies.remove('product');\n  }\n\n  const [shipfee, setShipFee] = useState(80); // Basket2Product\n\n  const [displaycartitems, setDisplayCartItems] = useState([]);\n  const itemsPrice = displaycartitems.reduce((a, c) => a + c.qty * c.eventPrice, 0);\n  const [sqleventid, setSqlEventId] = useState(''); // 去後台SQL撈資料\n\n  async function getEventIdServer() {\n    // 連接的伺服器資料網址\n    const url = 'http://localhost:6005/product/product-list'; // 注意資料格式要設定，伺服器才知道是json格式\n\n    const request = new Request(url, {\n      method: 'GET',\n      headers: new Headers({\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      })\n    });\n    const response = await fetch(request); // 再把response變成json\n\n    const data = await response.json();\n    let cookieProductArr = cookies.get('product');\n    var temp = [];\n\n    if (cookieProductArr) {\n      for (let i = 0; i < data.length; i++) {\n        for (let j = 0; j < cookieProductArr.length; j++) {\n          let product = cookieProductArr[j];\n          setSqlEventId(product.id);\n\n          if (data[i].proId == product.id.split('-')[0]) {\n            let eventtype = product.id.split('-')[1];\n            let eventqty = product.qty;\n            let proImg = data[i].proImg.replace(/[\\[\\]\"]+/g, '');\n            let newDisplay = {\n              id: data[i].id,\n              eventId: data[i].proId,\n              eventName: data[i].proName,\n              eventPrice: data[i].proPrice,\n              eventImg: proImg,\n              eventType: eventtype,\n              qty: eventqty\n            };\n            temp.push(newDisplay);\n          }\n        }\n      }\n    }\n\n    setDisplayCartItems(temp);\n  } // 定義coupon\n\n\n  useEffect(() => {\n    getEventIdServer('', '', '');\n    const couponcode = getUrlParameter('coupon');\n    setCoupon(couponcode);\n\n    if (couponcode == 'tru4r8') {\n      setDiscount(300);\n    } else if (couponcode == 'DFg2FW') {\n      setDiscount(100);\n    } else {\n      setDiscount(0);\n    }\n  }, []);\n  const [coupon, setCoupon] = useState('');\n  const [discount, setDiscount] = useState(0); // 從url抓出折扣碼\n\n  function getUrlParameter(sParam) {\n    // sParam就是key\n    var sPageURL = window.location.search.substring(1),\n        sURLVariables = sPageURL.split('&'),\n        sParameterName,\n        i;\n\n    for (i = 0; i < sURLVariables.length; i++) {\n      sParameterName = sURLVariables[i].split('=');\n\n      if (sParameterName[0] === sParam) {\n        return typeof sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);\n      }\n    }\n\n    return false;\n  } // 一鍵輸入\n\n\n  const autofill1 = () => {\n    setUserName('劉國良');\n    setCountry(0);\n    setTownship(0);\n    setUserAddress('大馬路二段30號5樓');\n    setUserPhone('0987656012');\n  };\n\n  const [cardsec, setCardSec] = useState('');\n\n  const autofill2 = () => {\n    setOrderPay('MASTER');\n    setCardNumber('2876546308091320');\n    setCardExpMon('03');\n    setCardExpYr('2023');\n    setCardSec('470');\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"c-bg\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"c-header\",\n        children: [/*#__PURE__*/_jsxDEV(Logo, {\n          className: \"c-logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Hello \", membername]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"c-crumbs1\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"./\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u9996\\u9801\\xA0/\\xA0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"./cart-product\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u8CFC\\u7269\\u8ECA\\xA0/\\xA0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u7D50\\u5E33\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 9\n      }, this), formStep === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"c-step d-flex align-items-center justify-content-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"c-shipment\",\n          children: \"\\u6536\\u4EF6\\u8CC7\\u8A0A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(RiArrowRightSLine, {\n          size: 30,\n          className: \"c-grayarrow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"c-payment\",\n          children: \"\\u4ED8\\u6B3E\\u8CC7\\u8A0A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(RiArrowRightSLine, {\n          size: 30,\n          className: \"c-grayarrow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"c-complete\",\n          children: \"\\u5B8C\\u6210\\u8A02\\u55AE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 11\n      }, this), formStep === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"c-step d-flex align-items-center justify-content-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"c-shipment2\",\n          children: \"\\u6536\\u4EF6\\u8CC7\\u8A0A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(RiArrowRightSLine, {\n          size: 30\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"c-payment2\",\n          children: \"\\u4ED8\\u6B3E\\u8CC7\\u8A0A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(RiArrowRightSLine, {\n          size: 30,\n          className: \"c-grayarrow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"c-complete\",\n          children: \"\\u5B8C\\u6210\\u8A02\\u55AE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 11\n      }, this), formStep === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"c-step d-flex align-items-center justify-content-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"c-shipment2\",\n          children: \"\\u6536\\u4EF6\\u8CC7\\u8A0A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(RiArrowRightSLine, {\n          size: 30\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"c-payment3\",\n          children: \"\\u4ED8\\u6B3E\\u8CC7\\u8A0A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(RiArrowRightSLine, {\n          size: 30\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"c-complete3\",\n          children: \"\\u5B8C\\u6210\\u8A02\\u55AE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex\",\n        children: [formStep < 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-6 mr-auto px-0\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [formStep >= 0 && /*#__PURE__*/_jsxDEV(\"section\", {\n                className: formStep === 0 ? 'd-block c-shippinginfo1 px-0' : 'd-none',\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"c-shipleft d-flex\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mr-auto\",\n                    children: \"\\u6536\\u4EF6\\u8CC7\\u8A0A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 461,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: autofill1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 462,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"c-f12\",\n                    children: \"*\\u5FC5\\u586B\\u9805\\u76EE\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 466,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 460,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"c-new py-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"\\u6536\\u4EF6\\u4EBA\\u59D3\\u540D*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 469,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    id: \"username\",\n                    value: username,\n                    onChange: event => {\n                      setUserName(event.target.value);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 470,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-6 pl-0\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"pt-3\",\n                        children: \"\\b\\u7E23\\u5E02*\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 480,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                        className: \"w-100 c-ed-select\",\n                        value: country,\n                        onChange: e => {\n                          // 將字串轉成數字\n                          setCountry(+e.target.value); // register\n                          // selectCity.onChange(e)\n                          // 重置township的值\n\n                          setTownship(-1);\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"-1\",\n                          children: \"\\u9078\\u64C7\\u7E23\\u5E02\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 493,\n                          columnNumber: 31\n                        }, this), countries.map((value, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: index,\n                          children: value\n                        }, index, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 498,\n                          columnNumber: 35\n                        }, this))]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 481,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 479,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-6 pr-0\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"pt-3\",\n                        children: \"\\b\\u5730\\u5340*\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 509,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                        className: \"w-100 c-ed-select\",\n                        value: township,\n                        onChange: e => {\n                          // 將字串轉成數字\n                          setTownship(+e.target.value);\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"-1\",\n                          children: \"\\u9078\\u64C7\\u5340\\u57DF\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 518,\n                          columnNumber: 31\n                        }, this), country > -1 && townships[country].map((value, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: index,\n                          children: value\n                        }, index, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 524,\n                          columnNumber: 37\n                        }, this))]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 510,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 508,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 478,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"pt-3\",\n                    children: \"\\u6536\\u4EF6\\u5730\\u5740*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 535,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: useraddress,\n                    id: \"useraddress\",\n                    onChange: event => {\n                      setUserAddress(event.target.value);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 536,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"pt-3\",\n                    type: \"text\",\n                    children: \"\\u806F\\u7D61\\u96FB\\u8A71*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 546,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: userphone,\n                    onChange: event => {\n                      setUserPhone(event.target.value);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 549,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 468,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"c-shipmethod pt-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"pb-4\",\n                    children: \"\\u904B\\u9001\\u65B9\\u5F0F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 559,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"c-label-r1 d-flex align-items-baseline pb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"radio\",\n                      name: \"radio\",\n                      value: \"\\u5B85\\u914D\\u5230\\u5E9C - \\u904B\\u8CBB\\uFF1ANT$ 80\",\n                      checked: true,\n                      onClick: event => {\n                        setOrderShip(event.target.value);\n                        setShipFee(80);\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 561,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"c-label\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 573,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: \"\\u5B85\\u914D\\u5230\\u5E9C - \\u904B\\u8CBB\\uFF1ANT$ 80\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 574,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 560,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"c-label-r1 d-flex align-items-baseline\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"radio\",\n                      name: \"radio\",\n                      value: \"\\u5B85\\u914D\\u5230\\u5E9C\\uFF08\\u9694\\u65E5\\uFF09- \\u904B\\u8CBB\\uFF1ANT$ 200\",\n                      onClick: event => {\n                        setOrderShip(event.target.value);\n                        setShipFee(200);\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 577,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"c-label\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 588,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: \"\\u5B85\\u914D\\u5230\\u5E9C\\uFF08\\u9694\\u65E5\\uFF09- \\u904B\\u8CBB\\uFF1ANT$ 200\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 589,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 576,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 558,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 453,\n                columnNumber: 21\n              }, this), formStep === 1 && /*#__PURE__*/_jsxDEV(\"section\", {\n                className: \"c-shippinginfo1 px-0\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"c-shipleft d-flex\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mr-auto\",\n                    children: \"\\u4ED8\\u6B3E\\u8CC7\\u8A0A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 606,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: autofill2\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 607,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"c-f12\",\n                    children: \"*\\u5FC5\\u586B\\u9805\\u76EE\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 611,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 605,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"c-ship2 py-4\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"c-paymethod\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      children: \"\\u4FE1\\u7528\\u5361*\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 615,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                      className: \"c-ed-select3\",\n                      value: orderpay,\n                      onChange: event => {\n                        setOrderPay(event.target.value);\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"VISA\",\n                        children: \"VISA\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 625,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"MASTER\",\n                        children: \"MASTER\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 628,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"JCB\",\n                        children: \"JCB\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 631,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 616,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"pt-3\",\n                      children: \"\\u4FE1\\u7528\\u5361\\u865F\\u78BC*\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 633,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      id: \"cardnumber\",\n                      value: cardnumber,\n                      onChange: event => {\n                        setCardNumber(event.target.value);\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 636,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"d-flex\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-3 pl-0\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"pt-3\",\n                          children: \"\\b\\u6709\\u6548\\u671F\\u9650*\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 648,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                          className: \"w-100 c-ed-select2\",\n                          value: cardexpmon,\n                          onChange: event => {\n                            setCardExpMon(event.target.value);\n                          },\n                          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"\",\n                            disabled: true,\n                            selected: true,\n                            children: \"MM\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 660,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            children: \"01\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 667,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            children: \"02\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 668,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            children: \"03\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 669,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            children: \"04\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 670,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            children: \"05\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 671,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            children: \"06\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 672,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            children: \"07\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 673,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            children: \"08\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 674,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            children: \"09\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 675,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            children: \"10\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 676,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            children: \"11\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 677,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            children: \"12\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 678,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 651,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 647,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-3 pl-1\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"pt-3\",\n                          children: \"\\b \"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 682,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                          className: \"w-100 c-ed-select2\",\n                          value: cardexpyr,\n                          onChange: event => {\n                            setCardExpYr(event.target.value);\n                          },\n                          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"\",\n                            disabled: true,\n                            selected: true,\n                            children: \"YYYY\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 692,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            children: \"2021\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 699,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            children: \"2022\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 700,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            children: \"2023\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 701,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            children: \"2024\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 702,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            children: \"2025\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 703,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            children: \"2026\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 704,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 683,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 681,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-3 pr-0 ml-auto\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"pt-3\",\n                          children: \"\\u5B89\\u5168\\u78BC*\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 708,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"text\",\n                          id: \"cardsec\",\n                          value: cardsec,\n                          onChange: event => {\n                            setCardSec(event.target.value);\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 711,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 707,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                        href: \"##\",\n                        className: \"ml-2 mt-auto c-store px-0 pb-0\",\n                        children: \"\\u9019\\u662F\\u4EC0\\u9EBC?\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 722,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 646,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 614,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 613,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"c-shipleft mt-4\",\n                  children: \"\\u901A\\u8A0A\\u9078\\u9805\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 732,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"c-shipmethod pt-4\",\n                  children: /*#__PURE__*/_jsxDEV(FormControlLabel, {\n                    control: /*#__PURE__*/_jsxDEV(Checkbox, {\n                      checked: state.checkedB,\n                      onChange: handleChange,\n                      name: \"checkedB\",\n                      style: {\n                        color: 'black'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 758,\n                      columnNumber: 29\n                    }, this),\n                    label: /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        fontFamily: 'Noto Sans TC Medium'\n                      },\n                      children: \"\\u6211\\u9858\\u610F\\u6536\\u5230\\u6D3B\\u52D5\\u53CA\\u5546\\u54C1\\u7684\\u76F8\\u95DC\\u512A\\u60E0\\u8CC7\\u8A0A\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 766,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 756,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 735,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 604,\n                columnNumber: 21\n              }, this), formStep < 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"c-f12 mt-3\",\n                  children: [\"\\u9EDE\\u9078\\u300C\\u78BA\\u8A8D\\u4ED8\\u6B3E\\u300D\\u8868\\u793A\\u60A8\\u63A5\\u53D7\\u6211\\u5011\\u7684\", /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: \"##\",\n                    className: \"c-store pb-0\",\n                    children: \"\\u4ED8\\u8CBB\\uFF06\\u9000\\u8CA8\\u689D\\u6B3E\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 783,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 781,\n                  columnNumber: 23\n                }, this), renderButton(), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"c-checkout1 pt-3 pb-5 d-flex align-items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(FaLock, {\n                    size: 20\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 792,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"c-lock ml-1\",\n                    children: \"\\u672C\\u8CE3\\u5834\\u4F7F\\u7528\\u7DA0\\u754C\\u79D1\\u6280\\u5B89\\u5168\\u7D50\\u5E33\\u7CFB\\u7D71\\uFF0C\\u4FDD\\u969C\\u60A8\\u7684\\u8CC7\\u5B89\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 793,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 791,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 780,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 13\n        }, this), formStep < 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-5 px-0\",\n          children: [/*#__PURE__*/_jsxDEV(Basket2Product, {\n            displaycartitems: displaycartitems\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 806,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"c-bb d-flex pb-4 px-3 mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mr-auto\",\n              children: \"\\u5546\\u54C1\\u5C0F\\u8A08\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 810,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"NT$ \", itemsPrice]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 811,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 809,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"c-bb d-flex pb-4 px-3 mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mr-auto\",\n              children: \"\\u904B\\u8CBB\\u5C0F\\u8A08\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 814,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"NT$ \", shipfee]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 815,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 813,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: coupon == 'tru4r8' ? '' : 'd-none',\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"c-bb d-flex align-items-baseline pb-4 px-3 mb-4 \",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mr-3\",\n                children: \"\\u6298\\u6263\\u78BC - \\u9031\\u5E74\\u6176\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 823,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"javascript:void(0)\",\n                className: \"mr-auto c-store pb-0\",\n                onClick: () => {\n                  setCoupon();\n                  setDiscount(0);\n                },\n                children: \"\\u79FB\\u9664\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 824,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"- NT$ 300\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 834,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 822,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 817,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: coupon == 'DFg2FW' ? '' : 'd-none',\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"c-bb d-flex align-items-baseline pb-4 px-3 mb-4 \",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mr-3\",\n                children: \"\\u6298\\u6263\\u78BC - \\u7279\\u8CE3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 843,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"javascript:void(0)\",\n                className: \"mr-auto c-store pb-0\",\n                onClick: () => {\n                  setCoupon();\n                  setDiscount(0);\n                },\n                children: \"\\u79FB\\u9664\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 844,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"- NT$ 100\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 854,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 842,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 837,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"c-bb1 d-flex pb-3 px-3 mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"h5 mr-auto\",\n              children: \"\\u7E3D\\u8A08\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 859,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"h5\",\n              children: [\"NT$ \", itemsPrice + shipfee - discount]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 860,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 858,\n            columnNumber: 15\n          }, this), formStep === 1 && /*#__PURE__*/_jsxDEV(\"section\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-5\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"c-shipleft\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"px-3  d-flex\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mr-auto\",\n                    children: \"\\u6536\\u4EF6\\u8CC7\\u8A0A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 869,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: \"##\",\n                      className: \"c-store pb-0\",\n                      onClick: goToPreviousStep,\n                      children: \"\\u56DE\\u4E0A\\u4E00\\u9801\\u4FEE\\u6539\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 871,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 870,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 868,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 867,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"c-shipdetail px-3 pb-5\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"\\u6536\\u4EF6\\u4EBA\\uFF1A\", username]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 882,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"\\u6536\\u4EF6\\u5730\\u5740\\uFF1A\", whole_address]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 886,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"\\u806F\\u7D61\\u96FB\\u8A71\\uFF1A\", userphone]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 887,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"\\u5BC4\\u9001\\u65B9\\u5F0F\\uFF1A\", ordership]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 888,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 881,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 866,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 865,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 805,\n          columnNumber: 13\n        }, this), formStep === 2 && /*#__PURE__*/_jsxDEV(CartProductFinish, {\n          cartItems: cartItems,\n          sentorder: sentorder,\n          displaycartitems: displaycartitems,\n          discount: discount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 896,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(CartFormProduct, \"qJmqA6Iat1kWUHMb4qeqWhtpuLA=\");\n\n_c = CartFormProduct;\nexport default CartFormProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartFormProduct\");","map":{"version":3,"sources":["/Users/Gary 1/Desktop/Code stuff/資策會/專題/大專/artddict-react/src/pages/cart/CartFormProduct.js"],"names":["React","useState","useEffect","countries","townships","data","Cookies","Basket2Product","CartProductFinish","FormControlLabel","Checkbox","FaLock","RiArrowRightSLine","CartFormProduct","memberid","setMemberId","membername","setMemberName","getjwtvertifyFromServer","token","localStorage","getItem","response","fetch","method","headers","body","JSON","stringify","json","console","log","id","window","location","href","name","country","setCountry","township","setTownship","cardexpmon","setCardExpMon","cardexpyr","setCardExpYr","state","setState","checkedA","checkedB","handleChange","event","target","checked","formStep","setFormStep","completeFormStep","setWholeAddress","useraddress","cur","renderButton","undefined","username","userphone","cardnumber","cardsec","postOrderToSever","goToPreviousStep","cartItems","setCartItems","cookies","tempArr","cookieProductArr","get","i","length","product","push","userid","setUserId","orderpay","setOrderPay","setCardNumber","cardexpdate","setCardExpDate","setUserName","setUserPhone","setUserAddress","ordership","setOrderShip","orderstatus","setOrderStatus","orderprice","setOrderPrice","ordertype","setOrdertype","whole_address","sentorder","setSentOrder","orderid","Date","getTime","newData","itemsPrice","shipfee","discount","url","request","Request","Headers","Accept","item","orderqty","qty","proid","split","orderspec","eventid","aucid","newData2","url2","request2","response2","remove","setShipFee","displaycartitems","setDisplayCartItems","reduce","a","c","eventPrice","sqleventid","setSqlEventId","getEventIdServer","temp","j","proId","eventtype","eventqty","proImg","replace","newDisplay","eventId","eventName","proName","proPrice","eventImg","eventType","couponcode","getUrlParameter","setCoupon","setDiscount","coupon","sParam","sPageURL","search","substring","sURLVariables","sParameterName","decodeURIComponent","autofill1","setCardSec","autofill2","value","e","map","index","color","fontFamily"],"mappings":";;;AAAA,SAASA,KAAT,EAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SACEC,SADF,EAEEC,SAFF,EAGEC,IAHF,QAIO,kBAJP;AAKA,OAAOC,OAAP,MAAoB,kBAApB;AAEA,OAAOC,cAAP,MAA2B,6BAA3B;qGAIA;;AACA,OAAOC,iBAAP,MAA8B,gCAA9B,C,CAEA;;AACA,OAAOC,gBAAP,MAA6B,oCAA7B;AACA,OAAOC,QAAP,MAAqB,4BAArB,C,CAEA;;AACA,OAAO,mCAAP;AACA,OAAO,6BAAP;AACA,OAAO,4BAAP,C,CAEA;;AACA,SAASC,MAAT,QAAuB,gBAAvB;AACA,SAASC,iBAAT,QAAkC,gBAAlC;;;;AAEA,SAASC,eAAT,GAA2B;AAAA;;AACzB;AACA,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0Bd,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACe,UAAD,EAAaC,aAAb,IAA8BhB,QAAQ,CAAC,EAAD,CAA5C,CAHyB,CAKzB;;AACA,iBAAeiB,uBAAf,GAAyC;AACvC,UAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AAEA,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CAC1B,wCAD0B,EAE1B;AACEC,MAAAA,MAAM,EAAE,MADV;AAEEC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFX;AAKEC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBT,QAAAA;AADmB,OAAf;AALR,KAF0B,CAA5B;AAaA,UAAMd,IAAI,GAAG,MAAMiB,QAAQ,CAACO,IAAT,EAAnB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY1B,IAAZ;;AACA,QAAI,CAACA,IAAI,CAAC2B,EAAV,EAAc;AACZC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,cAAvB;AACD;;AACDpB,IAAAA,WAAW,CAACV,IAAI,CAAC2B,EAAN,CAAX;AACAf,IAAAA,aAAa,CAACZ,IAAI,CAAC+B,IAAN,CAAb;AACD;;AAEDlC,EAAAA,SAAS,CAAC,MAAM;AACd;AACAgB,IAAAA,uBAAuB;AACxB,GAHQ,EAGN,EAHM,CAAT,CA/ByB,CAoCzB;;AACA,QAAM,CAACmB,OAAD,EAAUC,UAAV,IAAwBrC,QAAQ,CAAC,CAAC,CAAF,CAAtC;AACA,QAAM,CAACsC,QAAD,EAAWC,WAAX,IAA0BvC,QAAQ,CAAC,CAAC,CAAF,CAAxC,CAtCyB,CAwCzB;;AACA,QAAM,CAACwC,UAAD,EAAaC,aAAb,IAA8BzC,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAAC0C,SAAD,EAAYC,YAAZ,IAA4B3C,QAAQ,CAAC,EAAD,CAA1C,CA1CyB,CA4CzB;;AACA,QAAM,CAAC4C,KAAD,EAAQC,QAAR,IAAoB7C,QAAQ,CAAC;AACjC8C,IAAAA,QAAQ,EAAE,IADuB;AAEjCC,IAAAA,QAAQ,EAAE;AAFuB,GAAD,CAAlC;;AAIA,QAAMC,YAAY,GAAIC,KAAD,IAAW;AAC9BJ,IAAAA,QAAQ,CAAC,EACP,GAAGD,KADI;AAEP,OAACK,KAAK,CAACC,MAAN,CAAaf,IAAd,GAAqBc,KAAK,CAACC,MAAN,CAAaC;AAF3B,KAAD,CAAR;AAID,GALD;;AAOA,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BrD,QAAQ,CAAC,CAAD,CAAxC;;AACA,QAAMsD,gBAAgB,GAAG,MAAM;AAC7B;AACAC,IAAAA,eAAe,CACZ,GAAErD,SAAS,CAACkC,OAAD,CAAU,GAAEjC,SAAS,CAACiC,OAAD,CAAT,CAAmBE,QAAnB,CAA6B,GAAEkB,WAAY,EADtD,CAAf,CAF6B,CAM7B;;AACAH,IAAAA,WAAW,CAAEI,GAAD,IAASA,GAAG,GAAG,CAAhB,CAAX;AACD,GARD,CAzDyB,CAkEzB;;;AACA,QAAMC,YAAY,GAAG,MAAM;AACzB,QAAIN,QAAQ,GAAG,CAAf,EAAkB;AAChB,aAAOO,SAAP;AACD,KAFD,MAEO,IAAIP,QAAQ,KAAK,CAAjB,EAAoB;AACzB,0BACE;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA,+BACE;AACE,UAAA,IAAI,EAAC,QADP;AAEE,UAAA,QAAQ,EACN,CAACQ,QAAD,IACAxB,OAAO,IAAI,CAAC,CADZ,IAEAE,QAAQ,IAAI,CAAC,CAFb,IAGA,CAACkB,WAHD,IAIA,CAACK,SAJD,IAKA,CAACC,UALD,IAMA,CAACC,OATL;AAWE,UAAA,OAAO,EAAEC,gBAXX;AAaE;AACA,UAAA,SAAS,EAAC,gBAdZ;AAAA;AAAA,WAYM,GAZN;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF;AAsBD,KAvBM,MAuBA;AACL,0BACE;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA,+BACE;AACE,UAAA,QAAQ,EACN,CAACJ,QAAD,IACAxB,OAAO,IAAI,CAAC,CADZ,IAEAE,QAAQ,IAAI,CAAC,CAFb,IAGA,CAACkB,WAHD,IAIA,CAACK,SANL;AAQE,UAAA,OAAO,EAAEP,gBARX;AASE,UAAA,IAAI,EAAC,QATP;AAWE,UAAA,SAAS,EAAC,gBAXZ;AAAA;AAAA,WAUM,GAVN;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF;AAmBD;AACF,GA/CD,CAnEyB,CAmHzB;;;AACA,QAAMW,gBAAgB,GAAG,MAAM;AAC7BZ,IAAAA,WAAW,CAAEI,GAAD,IAASA,GAAG,GAAG,CAAhB,CAAX;AACD,GAFD;;AAIA,QAAM,CAACS,SAAD,EAAYC,YAAZ,IAA4BnE,QAAQ,CAAC,EAAD,CAA1C;AAEA,QAAMoE,OAAO,GAAG,IAAI/D,OAAJ,EAAhB;AAEAJ,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIoE,OAAO,GAAG,EAAd;AACA,QAAIC,gBAAgB,GAAGF,OAAO,CAACG,GAAR,CAAY,SAAZ,CAAvB,CAFc,CAEgC;;AAC9C,QAAID,gBAAJ,EAAsB;AACpB,WAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,gBAAgB,CAACG,MAArC,EAA6CD,CAAC,EAA9C,EAAkD;AAChD,YAAIE,OAAO,GAAGJ,gBAAgB,CAACE,CAAD,CAA9B;AACAH,QAAAA,OAAO,CAACM,IAAR,CAAaD,OAAb;AACD;;AACDP,MAAAA,YAAY,CAACE,OAAD,CAAZ;AACD;AACF,GAVQ,EAUN,EAVM,CAAT,CA5HyB,CAwIzB;AACA;AACA;;AACA,QAAM,CAACO,MAAD,EAASC,SAAT,IAAsB7E,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAAC8E,QAAD,EAAWC,WAAX,IAA0B/E,QAAQ,CAAC,MAAD,CAAxC;AACA,QAAM,CAAC8D,UAAD,EAAakB,aAAb,IAA8BhF,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACiF,WAAD,EAAcC,cAAd,IAAgClF,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAAC4D,QAAD,EAAWuB,WAAX,IAA0BnF,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAAC6D,SAAD,EAAYuB,YAAZ,IAA4BpF,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACwD,WAAD,EAAc6B,cAAd,IAAgCrF,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAACsF,SAAD,EAAYC,YAAZ,IAA4BvF,QAAQ,CACxC,kBADwC,CAA1C;AAGA,QAAM,CAACwF,WAAD,EAAcC,cAAd,IAAgCzF,QAAQ,CAAC,GAAD,CAA9C;AACA,QAAM,CAAC0F,UAAD,EAAaC,aAAb,IAA8B3F,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAAC4F,SAAD,EAAYC,YAAZ,IAA4B7F,QAAQ,CAAC,EAAD,CAA1C;AAEA,QAAM,CAAC8F,aAAD,EAAgBvC,eAAhB,IAAmCvD,QAAQ,CAAC,EAAD,CAAjD,CAzJyB,CA2JzB;AAEA;;AACA,QAAM,CAAC+F,SAAD,EAAYC,YAAZ,IAA4BhG,QAAQ,CAAC,EAAD,CAA1C,CA9JyB,CAgKzB;;AACA,iBAAegE,gBAAf,GAAkC;AAChC;AACA,UAAMiC,OAAO,GAAG,IAAIC,IAAJ,GAAWC,OAAX,EAAhB;AACAH,IAAAA,YAAY,CAACC,OAAD,CAAZ;AAEA,UAAMG,OAAO,GAAG;AACdH,MAAAA,OADc;AAEdrB,MAAAA,MAAM,EAAE/D,QAFM;AAGdiE,MAAAA,QAHc;AAIdhB,MAAAA,UAJc;AAKdmB,MAAAA,WAAW,EAAG,GAAEzC,UAAW,IAAGE,SAAU,EAL1B;AAMdkB,MAAAA,QANc;AAOdC,MAAAA,SAPc;AAQdL,MAAAA,WAAW,EAAEsC,aARC;AASdR,MAAAA,SATc;AAUdE,MAAAA,WAAW,EAAE,GAVC;AAWdE,MAAAA,UAAU,EAAEW,UAAU,GAAGC,OAAb,GAAuBC,QAXrB;AAYdX,MAAAA,SAAS,EAAE;AAZG,KAAhB,CALgC,CAoBhC;;AACA,UAAMY,GAAG,GAAG,qCAAZ,CArBgC,CAuBhC;;AACA,UAAMC,OAAO,GAAG,IAAIC,OAAJ,CAAYF,GAAZ,EAAiB;AAC/BjF,MAAAA,MAAM,EAAE,MADuB;AAE/BE,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeyE,OAAf,CAFyB;AAG/B5E,MAAAA,OAAO,EAAE,IAAImF,OAAJ,CAAY;AACnBC,QAAAA,MAAM,EAAE,kBADW;AAEnB,wBAAgB;AAFG,OAAZ;AAHsB,KAAjB,CAAhB;AASA/E,IAAAA,OAAO,CAACC,GAAR,CACG,qBAAoBJ,IAAI,CAACC,SAAL,CAAeyE,OAAf,CAAwB,EAD/C;AAIA,UAAM/E,QAAQ,GAAG,MAAMC,KAAK,CAACmF,OAAD,CAA5B;AACA5E,IAAAA,OAAO,CAACC,GAAR,CAAYT,QAAZ;AACA,UAAMjB,IAAI,GAAG,MAAMiB,QAAQ,CAACO,IAAT,EAAnB;AAEAC,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4B1B,IAA5B,EAzCgC,CA0ChC;AAEA;AACA;;AAEA,SAAK,IAAIoE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,SAAS,CAACO,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AACzC,UAAIqC,IAAI,GAAG3C,SAAS,CAACM,CAAD,CAApB;AACA,UAAIsC,QAAQ,GAAGD,IAAI,CAACE,GAApB;AACA,UAAIC,KAAK,GAAGH,IAAI,CAAC9E,EAAL,CAAQkF,KAAR,CAAc,GAAd,EAAmB,CAAnB,CAAZ;AACA,UAAIC,SAAS,GAAGL,IAAI,CAAC9E,EAAL,CAAQkF,KAAR,CAAc,GAAd,EAAmB,CAAnB,CAAhB;AACA,UAAIE,OAAO,GAAG,EAAd;AACA,UAAIC,KAAK,GAAG,EAAZ;AAEA,YAAMC,QAAQ,GAAG;AACfpB,QAAAA,OADe;AAEfiB,QAAAA,SAFe;AAGfJ,QAAAA,QAHe;AAIfK,QAAAA,OAJe;AAKfH,QAAAA,KALe;AAMfI,QAAAA;AANe,OAAjB,CARyC,CAgBzC;;AACA,YAAME,IAAI,GACR,mDADF,CAjByC,CAoBzC;;AACA,YAAMC,QAAQ,GAAG,IAAIb,OAAJ,CAAYY,IAAZ,EAAkB;AACjC/F,QAAAA,MAAM,EAAE,MADyB;AAEjCE,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe0F,QAAf,CAF2B;AAGjC7F,QAAAA,OAAO,EAAE,IAAImF,OAAJ,CAAY;AACnBC,UAAAA,MAAM,EAAE,kBADW;AAEnB,0BAAgB;AAFG,SAAZ;AAHwB,OAAlB,CAAjB;AASA/E,MAAAA,OAAO,CAACC,GAAR,CACG,qBAAoBJ,IAAI,CAACC,SAAL,CAAe0F,QAAf,CAAyB,EADhD;AAGA,YAAMG,SAAS,GAAG,MAAMlG,KAAK,CAACiG,QAAD,CAA7B;AACA1F,MAAAA,OAAO,CAACC,GAAR,CAAY0F,SAAZ;AACD;;AAEDnE,IAAAA,WAAW,CAAEI,GAAD,IAASA,GAAG,GAAG,CAAhB,CAAX;AACAW,IAAAA,OAAO,CAACqD,MAAR,CAAe,SAAf;AACD;;AAED,QAAM,CAACnB,OAAD,EAAUoB,UAAV,IAAwB1H,QAAQ,CAAC,EAAD,CAAtC,CAzPyB,CA2PzB;;AAEA,QAAM,CAAC2H,gBAAD,EAAmBC,mBAAnB,IAA0C5H,QAAQ,CACtD,EADsD,CAAxD;AAGA,QAAMqG,UAAU,GAAGsB,gBAAgB,CAACE,MAAjB,CACjB,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,GAAGC,CAAC,CAAChB,GAAF,GAAQgB,CAAC,CAACC,UADP,EAEjB,CAFiB,CAAnB;AAIA,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BlI,QAAQ,CAAC,EAAD,CAA5C,CApQyB,CAsQzB;;AACA,iBAAemI,gBAAf,GAAkC;AAChC;AACA,UAAM3B,GAAG,GAAG,4CAAZ,CAFgC,CAIhC;;AACA,UAAMC,OAAO,GAAG,IAAIC,OAAJ,CAAYF,GAAZ,EAAiB;AAC/BjF,MAAAA,MAAM,EAAE,KADuB;AAE/BC,MAAAA,OAAO,EAAE,IAAImF,OAAJ,CAAY;AACnBC,QAAAA,MAAM,EAAE,kBADW;AAEnB,wBAAgB;AAFG,OAAZ;AAFsB,KAAjB,CAAhB;AAOA,UAAMvF,QAAQ,GAAG,MAAMC,KAAK,CAACmF,OAAD,CAA5B,CAZgC,CAahC;;AACA,UAAMrG,IAAI,GAAG,MAAMiB,QAAQ,CAACO,IAAT,EAAnB;AAEA,QAAI0C,gBAAgB,GAAGF,OAAO,CAACG,GAAR,CAAY,SAAZ,CAAvB;AACA,QAAI6D,IAAI,GAAG,EAAX;;AACA,QAAI9D,gBAAJ,EAAsB;AACpB,WAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGpE,IAAI,CAACqE,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;AACpC,aAAK,IAAI6D,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG/D,gBAAgB,CAACG,MAArC,EAA6C4D,CAAC,EAA9C,EAAkD;AAChD,cAAI3D,OAAO,GAAGJ,gBAAgB,CAAC+D,CAAD,CAA9B;AACAH,UAAAA,aAAa,CAACxD,OAAO,CAAC3C,EAAT,CAAb;;AAEA,cAAI3B,IAAI,CAACoE,CAAD,CAAJ,CAAQ8D,KAAR,IAAiB5D,OAAO,CAAC3C,EAAR,CAAWkF,KAAX,CAAiB,GAAjB,EAAsB,CAAtB,CAArB,EAA+C;AAC7C,gBAAIsB,SAAS,GAAG7D,OAAO,CAAC3C,EAAR,CAAWkF,KAAX,CAAiB,GAAjB,EAAsB,CAAtB,CAAhB;AACA,gBAAIuB,QAAQ,GAAG9D,OAAO,CAACqC,GAAvB;AACA,gBAAI0B,MAAM,GAAGrI,IAAI,CAACoE,CAAD,CAAJ,CAAQiE,MAAR,CAAeC,OAAf,CACX,WADW,EAEX,EAFW,CAAb;AAIA,gBAAIC,UAAU,GAAG;AACf5G,cAAAA,EAAE,EAAE3B,IAAI,CAACoE,CAAD,CAAJ,CAAQzC,EADG;AAEf6G,cAAAA,OAAO,EAAExI,IAAI,CAACoE,CAAD,CAAJ,CAAQ8D,KAFF;AAGfO,cAAAA,SAAS,EAAEzI,IAAI,CAACoE,CAAD,CAAJ,CAAQsE,OAHJ;AAIfd,cAAAA,UAAU,EAAE5H,IAAI,CAACoE,CAAD,CAAJ,CAAQuE,QAJL;AAKfC,cAAAA,QAAQ,EAAEP,MALK;AAMfQ,cAAAA,SAAS,EAAEV,SANI;AAOfxB,cAAAA,GAAG,EAAEyB;AAPU,aAAjB;AASAJ,YAAAA,IAAI,CAACzD,IAAL,CAAUgE,UAAV;AACD;AACF;AACF;AACF;;AACDf,IAAAA,mBAAmB,CAACQ,IAAD,CAAnB;AACD,GArTwB,CAuTzB;;;AACAnI,EAAAA,SAAS,CAAC,MAAM;AACdkI,IAAAA,gBAAgB,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,CAAhB;AACA,UAAMe,UAAU,GAAGC,eAAe,CAAC,QAAD,CAAlC;AACAC,IAAAA,SAAS,CAACF,UAAD,CAAT;;AACA,QAAIA,UAAU,IAAI,QAAlB,EAA4B;AAC1BG,MAAAA,WAAW,CAAC,GAAD,CAAX;AACD,KAFD,MAEO,IAAIH,UAAU,IAAI,QAAlB,EAA4B;AACjCG,MAAAA,WAAW,CAAC,GAAD,CAAX;AACD,KAFM,MAEA;AACLA,MAAAA,WAAW,CAAC,CAAD,CAAX;AACD;AACF,GAXQ,EAWN,EAXM,CAAT;AAYA,QAAM,CAACC,MAAD,EAASF,SAAT,IAAsBpJ,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACuG,QAAD,EAAW8C,WAAX,IAA0BrJ,QAAQ,CAAC,CAAD,CAAxC,CArUyB,CAuUzB;;AACA,WAASmJ,eAAT,CAAyBI,MAAzB,EAAiC;AAC/B;AACA,QAAIC,QAAQ,GAAGxH,MAAM,CAACC,QAAP,CAAgBwH,MAAhB,CAAuBC,SAAvB,CAAiC,CAAjC,CAAf;AAAA,QACEC,aAAa,GAAGH,QAAQ,CAACvC,KAAT,CAAe,GAAf,CADlB;AAAA,QAEE2C,cAFF;AAAA,QAGEpF,CAHF;;AAKA,SAAKA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGmF,aAAa,CAAClF,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AACzCoF,MAAAA,cAAc,GAAGD,aAAa,CAACnF,CAAD,CAAb,CAAiByC,KAAjB,CAAuB,GAAvB,CAAjB;;AAEA,UAAI2C,cAAc,CAAC,CAAD,CAAd,KAAsBL,MAA1B,EAAkC;AAChC,eAAO,OAAOK,cAAc,CAAC,CAAD,CAArB,KAA6BjG,SAA7B,GACH,IADG,GAEHkG,kBAAkB,CAACD,cAAc,CAAC,CAAD,CAAf,CAFtB;AAGD;AACF;;AACD,WAAO,KAAP;AACD,GAzVwB,CA2VzB;;;AACA,QAAME,SAAS,GAAG,MAAM;AACtB3E,IAAAA,WAAW,CAAC,KAAD,CAAX;AACA9C,IAAAA,UAAU,CAAC,CAAD,CAAV;AACAE,IAAAA,WAAW,CAAC,CAAD,CAAX;AACA8C,IAAAA,cAAc,CAAC,YAAD,CAAd;AACAD,IAAAA,YAAY,CAAC,YAAD,CAAZ;AACD,GAND;;AAOA,QAAM,CAACrB,OAAD,EAAUgG,UAAV,IAAwB/J,QAAQ,CAAC,EAAD,CAAtC;;AACA,QAAMgK,SAAS,GAAG,MAAM;AACtBjF,IAAAA,WAAW,CAAC,QAAD,CAAX;AACAC,IAAAA,aAAa,CAAC,kBAAD,CAAb;AACAvC,IAAAA,aAAa,CAAC,IAAD,CAAb;AACAE,IAAAA,YAAY,CAAC,MAAD,CAAZ;AACAoH,IAAAA,UAAU,CAAC,KAAD,CAAV;AACD,GAND;;AAQA,sBACE;AAAA,2BACE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA,gCACE,QAAC,IAAD;AAAM,UAAA,SAAS,EAAC;AAAhB;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAA,+BAAUhJ,UAAV;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAKE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA,gCACE;AAAG,UAAA,IAAI,EAAC,IAAR;AAAA,iCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADF,eAIE;AAAG,UAAA,IAAI,EAAC,gBAAR;AAAA,iCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAJF,eAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPF;AAAA;AAAA;AAAA;AAAA;AAAA,cALF,EAcGqC,QAAQ,KAAK,CAAb,iBACC;AAAK,QAAA,SAAS,EAAC,yDAAf;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,iBAAD;AACE,UAAA,IAAI,EAAE,EADR;AAEE,UAAA,SAAS,EAAC;AAFZ;AAAA;AAAA;AAAA;AAAA,gBAFF,eAME;AAAK,UAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBANF,eAOE,QAAC,iBAAD;AACE,UAAA,IAAI,EAAE,EADR;AAEE,UAAA,SAAS,EAAC;AAFZ;AAAA;AAAA;AAAA;AAAA,gBAPF,eAWE;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAXF;AAAA;AAAA;AAAA;AAAA;AAAA,cAfJ,EA6BGA,QAAQ,KAAK,CAAb,iBACC;AAAK,QAAA,SAAS,EAAC,yDAAf;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,iBAAD;AAAmB,UAAA,IAAI,EAAE;AAAzB;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,eAIE,QAAC,iBAAD;AACE,UAAA,IAAI,EAAE,EADR;AAEE,UAAA,SAAS,EAAC;AAFZ;AAAA;AAAA;AAAA;AAAA,gBAJF,eAQE;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBARF;AAAA;AAAA;AAAA;AAAA;AAAA,cA9BJ,EAyCGA,QAAQ,KAAK,CAAb,iBACC;AAAK,QAAA,SAAS,EAAC,yDAAf;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,iBAAD;AAAmB,UAAA,IAAI,EAAE;AAAzB;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,eAIE,QAAC,iBAAD;AAAmB,UAAA,IAAI,EAAE;AAAzB;AAAA;AAAA;AAAA;AAAA,gBAJF,eAKE;AAAK,UAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF;AAAA;AAAA;AAAA;AAAA;AAAA,cA1CJ,eAmDE;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA,mBACGA,QAAQ,GAAG,CAAX,iBACC;AAAK,UAAA,SAAS,EAAC,oBAAf;AAAA,iCACE;AAAA,mCACE;AAAA,yBAEGA,QAAQ,IAAI,CAAZ,iBACC;AACE,gBAAA,SAAS,EACPA,QAAQ,KAAK,CAAb,GACI,8BADJ,GAEI,QAJR;AAAA,wCAOE;AAAK,kBAAA,SAAS,EAAC,mBAAf;AAAA,0CACE;AAAG,oBAAA,SAAS,EAAC,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,eAEE;AACE,oBAAA,IAAI,EAAC,QADP;AAEE,oBAAA,OAAO,EAAE0G;AAFX;AAAA;AAAA;AAAA;AAAA,0BAFF,eAME;AAAG,oBAAA,SAAS,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BANF;AAAA;AAAA;AAAA;AAAA;AAAA,wBAPF,eAeE;AAAK,kBAAA,SAAS,EAAC,YAAf;AAAA,0CACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,eAEE;AACE,oBAAA,IAAI,EAAC,MADP;AAEE,oBAAA,EAAE,EAAC,UAFL;AAGE,oBAAA,KAAK,EAAElG,QAHT;AAIE,oBAAA,QAAQ,EAAGX,KAAD,IAAW;AACnBkC,sBAAAA,WAAW,CAAClC,KAAK,CAACC,MAAN,CAAa+G,KAAd,CAAX;AACD;AANH;AAAA;AAAA;AAAA;AAAA,0BAFF,eAUE;AAAK,oBAAA,SAAS,EAAC,QAAf;AAAA,4CACE;AAAK,sBAAA,SAAS,EAAC,YAAf;AAAA,8CACE;AAAG,wBAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADF,eAEE;AACE,wBAAA,SAAS,EAAC,mBADZ;AAEE,wBAAA,KAAK,EAAE7H,OAFT;AAGE,wBAAA,QAAQ,EAAG8H,CAAD,IAAO;AACf;AACA7H,0BAAAA,UAAU,CAAC,CAAC6H,CAAC,CAAChH,MAAF,CAAS+G,KAAX,CAAV,CAFe,CAGf;AACA;AACA;;AACA1H,0BAAAA,WAAW,CAAC,CAAC,CAAF,CAAX;AACD,yBAVH;AAAA,gDAYE;AAAQ,0BAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAZF,EAeGrC,SAAS,CAACiK,GAAV,CACC,CAACF,KAAD,EAAQG,KAAR,kBACE;AAEE,0BAAA,KAAK,EAAEA,KAFT;AAAA,oCAIGH;AAJH,2BACOG,KADP;AAAA;AAAA;AAAA;AAAA,gCAFH,CAfH;AAAA;AAAA;AAAA;AAAA;AAAA,8BAFF;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,eA8BE;AAAK,sBAAA,SAAS,EAAC,YAAf;AAAA,8CACE;AAAG,wBAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADF,eAEE;AACE,wBAAA,SAAS,EAAC,mBADZ;AAEE,wBAAA,KAAK,EAAE9H,QAFT;AAGE,wBAAA,QAAQ,EAAG4H,CAAD,IAAO;AACf;AACA3H,0BAAAA,WAAW,CAAC,CAAC2H,CAAC,CAAChH,MAAF,CAAS+G,KAAX,CAAX;AACD,yBANH;AAAA,gDAQE;AAAQ,0BAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCARF,EAWG7H,OAAO,GAAG,CAAC,CAAX,IACCjC,SAAS,CAACiC,OAAD,CAAT,CAAmB+H,GAAnB,CACE,CAACF,KAAD,EAAQG,KAAR,kBACE;AAEE,0BAAA,KAAK,EAAEA,KAFT;AAAA,oCAIGH;AAJH,2BACOG,KADP;AAAA;AAAA;AAAA;AAAA,gCAFJ,CAZJ;AAAA;AAAA;AAAA;AAAA;AAAA,8BAFF;AAAA;AAAA;AAAA;AAAA;AAAA,4BA9BF;AAAA;AAAA;AAAA;AAAA;AAAA,0BAVF,eAmEE;AAAG,oBAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAnEF,eAoEE;AACE,oBAAA,IAAI,EAAC,MADP;AAEE,oBAAA,KAAK,EAAE5G,WAFT;AAGE,oBAAA,EAAE,EAAC,aAHL;AAIE,oBAAA,QAAQ,EAAGP,KAAD,IAAW;AACnBoC,sBAAAA,cAAc,CACZpC,KAAK,CAACC,MAAN,CAAa+G,KADD,CAAd;AAGD;AARH;AAAA;AAAA;AAAA;AAAA,0BApEF,eA8EE;AAAG,oBAAA,SAAS,EAAC,MAAb;AAAoB,oBAAA,IAAI,EAAC,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BA9EF,eAiFE;AACE,oBAAA,IAAI,EAAC,MADP;AAEE,oBAAA,KAAK,EAAEpG,SAFT;AAGE,oBAAA,QAAQ,EAAGZ,KAAD,IAAW;AACnBmC,sBAAAA,YAAY,CAACnC,KAAK,CAACC,MAAN,CAAa+G,KAAd,CAAZ;AACD;AALH;AAAA;AAAA;AAAA;AAAA,0BAjFF;AAAA;AAAA;AAAA;AAAA;AAAA,wBAfF,eAyGE;AAAK,kBAAA,SAAS,EAAC,mBAAf;AAAA,0CACE;AAAG,oBAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,eAEE;AAAO,oBAAA,SAAS,EAAC,6CAAjB;AAAA,4CACE;AACE,sBAAA,IAAI,EAAC,OADP;AAEE,sBAAA,IAAI,EAAC,OAFP;AAGE,sBAAA,KAAK,EAAC,qDAHR;AAIE,sBAAA,OAAO,MAJT;AAKE,sBAAA,OAAO,EAAGhH,KAAD,IAAW;AAClBsC,wBAAAA,YAAY,CACVtC,KAAK,CAACC,MAAN,CAAa+G,KADH,CAAZ;AAGAvC,wBAAAA,UAAU,CAAC,EAAD,CAAV;AACD;AAVH;AAAA;AAAA;AAAA;AAAA,4BADF,eAaE;AAAM,sBAAA,SAAS,EAAC;AAAhB;AAAA;AAAA;AAAA;AAAA,4BAbF,eAcE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAdF;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFF,eAkBE;AAAO,oBAAA,SAAS,EAAC,wCAAjB;AAAA,4CACE;AACE,sBAAA,IAAI,EAAC,OADP;AAEE,sBAAA,IAAI,EAAC,OAFP;AAGE,sBAAA,KAAK,EAAC,6EAHR;AAIE,sBAAA,OAAO,EAAGzE,KAAD,IAAW;AAClBsC,wBAAAA,YAAY,CACVtC,KAAK,CAACC,MAAN,CAAa+G,KADH,CAAZ;AAGAvC,wBAAAA,UAAU,CAAC,GAAD,CAAV;AACD;AATH;AAAA;AAAA;AAAA;AAAA,4BADF,eAYE;AAAM,sBAAA,SAAS,EAAC;AAAhB;AAAA;AAAA;AAAA;AAAA,4BAZF,eAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAbF;AAAA;AAAA;AAAA;AAAA;AAAA,0BAlBF;AAAA;AAAA;AAAA;AAAA;AAAA,wBAzGF;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHJ,EAyJGtE,QAAQ,KAAK,CAAb,iBACC;AAAS,gBAAA,SAAS,EAAC,sBAAnB;AAAA,wCACE;AAAK,kBAAA,SAAS,EAAC,mBAAf;AAAA,0CACE;AAAG,oBAAA,SAAS,EAAC,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,eAEE;AACE,oBAAA,IAAI,EAAC,QADP;AAEE,oBAAA,OAAO,EAAE4G;AAFX;AAAA;AAAA;AAAA;AAAA,0BAFF,eAME;AAAG,oBAAA,SAAS,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BANF;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eASE;AAAK,kBAAA,SAAS,EAAC,cAAf;AAAA,yCACE;AAAK,oBAAA,SAAS,EAAC,aAAf;AAAA,4CACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,eAEE;AACE,sBAAA,SAAS,EAAC,cADZ;AAEE,sBAAA,KAAK,EAAElF,QAFT;AAGE,sBAAA,QAAQ,EAAG7B,KAAD,IAAW;AACnB8B,wBAAAA,WAAW,CACT9B,KAAK,CAACC,MAAN,CAAa+G,KADJ,CAAX;AAGD,uBAPH;AAAA,8CASE;AAAQ,wBAAA,KAAK,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BATF,eAYE;AAAQ,wBAAA,KAAK,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAZF,eAeE;AAAQ,wBAAA,KAAK,EAAC,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAfF;AAAA;AAAA;AAAA;AAAA;AAAA,4BAFF,eAmBE;AAAG,sBAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAnBF,eAsBE;AACE,sBAAA,IAAI,EAAC,MADP;AAEE,sBAAA,EAAE,EAAC,YAFL;AAGE,sBAAA,KAAK,EAAEnG,UAHT;AAIE,sBAAA,QAAQ,EAAGb,KAAD,IAAW;AACnB+B,wBAAAA,aAAa,CACX/B,KAAK,CAACC,MAAN,CAAa+G,KADF,CAAb;AAGD;AARH;AAAA;AAAA;AAAA;AAAA,4BAtBF,eAgCE;AAAK,sBAAA,SAAS,EAAC,QAAf;AAAA,8CACE;AAAK,wBAAA,SAAS,EAAC,YAAf;AAAA,gDACE;AAAG,0BAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADF,eAIE;AACE,0BAAA,SAAS,EAAC,oBADZ;AAEE,0BAAA,KAAK,EAAEzH,UAFT;AAGE,0BAAA,QAAQ,EAAGS,KAAD,IAAW;AACnBR,4BAAAA,aAAa,CACXQ,KAAK,CAACC,MAAN,CAAa+G,KADF,CAAb;AAGD,2BAPH;AAAA,kDASE;AACE,4BAAA,KAAK,EAAC,EADR;AAEE,4BAAA,QAAQ,MAFV;AAGE,4BAAA,QAAQ,MAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCATF,eAgBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAhBF,eAiBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAjBF,eAkBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAlBF,eAmBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAnBF,eAoBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCApBF,eAqBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCArBF,eAsBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAtBF,eAuBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAvBF,eAwBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAxBF,eAyBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAzBF,eA0BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCA1BF,eA2BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCA3BF;AAAA;AAAA;AAAA;AAAA;AAAA,gCAJF;AAAA;AAAA;AAAA;AAAA;AAAA,8BADF,eAmCE;AAAK,wBAAA,SAAS,EAAC,YAAf;AAAA,gDACE;AAAG,0BAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADF,eAEE;AACE,0BAAA,SAAS,EAAC,oBADZ;AAEE,0BAAA,KAAK,EAAEvH,SAFT;AAGE,0BAAA,QAAQ,EAAGO,KAAD,IAAW;AACnBN,4BAAAA,YAAY,CACVM,KAAK,CAACC,MAAN,CAAa+G,KADH,CAAZ;AAGD,2BAPH;AAAA,kDASE;AACE,4BAAA,KAAK,EAAC,EADR;AAEE,4BAAA,QAAQ,MAFV;AAGE,4BAAA,QAAQ,MAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCATF,eAgBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAhBF,eAiBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAjBF,eAkBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAlBF,eAmBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAnBF,eAoBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCApBF,eAqBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCArBF;AAAA;AAAA;AAAA;AAAA;AAAA,gCAFF;AAAA;AAAA;AAAA;AAAA;AAAA,8BAnCF,eA6DE;AAAK,wBAAA,SAAS,EAAC,oBAAf;AAAA,gDACE;AAAG,0BAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADF,eAIE;AACE,0BAAA,IAAI,EAAC,MADP;AAEE,0BAAA,EAAE,EAAC,SAFL;AAGE,0BAAA,KAAK,EAAElG,OAHT;AAIE,0BAAA,QAAQ,EAAGd,KAAD,IAAW;AACnB8G,4BAAAA,UAAU,CACR9G,KAAK,CAACC,MAAN,CAAa+G,KADL,CAAV;AAGD;AARH;AAAA;AAAA;AAAA;AAAA,gCAJF;AAAA;AAAA;AAAA;AAAA;AAAA,8BA7DF,eA4EE;AACE,wBAAA,IAAI,EAAC,IADP;AAEE,wBAAA,SAAS,EAAC,gCAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BA5EF;AAAA;AAAA;AAAA;AAAA;AAAA,4BAhCF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,wBATF,eAgIE;AAAG,kBAAA,SAAS,EAAC,iBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAhIF,eAmIE;AAAK,kBAAA,SAAS,EAAC,mBAAf;AAAA,yCAqBE,QAAC,gBAAD;AACE,oBAAA,OAAO,eACL,QAAC,QAAD;AACE,sBAAA,OAAO,EAAErH,KAAK,CAACG,QADjB;AAEE,sBAAA,QAAQ,EAAEC,YAFZ;AAGE,sBAAA,IAAI,EAAC,UAHP;AAIE,sBAAA,KAAK,EAAE;AAAEqH,wBAAAA,KAAK,EAAE;AAAT;AAJT;AAAA;AAAA;AAAA;AAAA,4BAFJ;AASE,oBAAA,KAAK,eACH;AACE,sBAAA,KAAK,EAAE;AACLC,wBAAAA,UAAU,EACR;AAFG,uBADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAVJ;AAAA;AAAA;AAAA;AAAA;AArBF;AAAA;AAAA;AAAA;AAAA,wBAnIF;AAAA;AAAA;AAAA;AAAA;AAAA,sBA1JJ,EAyUGlH,QAAQ,GAAG,CAAX,iBACC;AAAA,wCACE;AAAG,kBAAA,SAAS,EAAC,YAAb;AAAA,8IAEE;AACE,oBAAA,IAAI,EAAC,IADP;AAEE,oBAAA,SAAS,EAAC,cAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFF;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,EAUGM,YAAY,EAVf,eAWE;AAAK,kBAAA,SAAS,EAAC,iDAAf;AAAA,0CACE,QAAC,MAAD;AAAQ,oBAAA,IAAI,EAAE;AAAd;AAAA;AAAA;AAAA;AAAA,0BADF,eAEE;AAAG,oBAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFF;AAAA;AAAA;AAAA;AAAA;AAAA,wBAXF;AAAA;AAAA;AAAA;AAAA;AAAA,sBA1UJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAFJ,EAsWGN,QAAQ,GAAG,CAAX,iBACC;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA,kCACE,QAAC,cAAD;AACE,YAAA,gBAAgB,EAAEuE;AADpB;AAAA;AAAA;AAAA;AAAA,kBADF,eAIE;AAAK,YAAA,SAAS,EAAC,4BAAf;AAAA,oCACE;AAAG,cAAA,SAAS,EAAC,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAA,iCAAQtB,UAAR;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJF,eAQE;AAAK,YAAA,SAAS,EAAC,4BAAf;AAAA,oCACE;AAAG,cAAA,SAAS,EAAC,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAA,iCAAQC,OAAR;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,kBARF,eAYE;AACE,YAAA,SAAS,EACPgD,MAAM,IAAI,QAAV,GAAqB,EAArB,GAA0B,QAF9B;AAAA,mCAKE;AAAK,cAAA,SAAS,EAAC,kDAAf;AAAA,sCACE;AAAG,gBAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AACE,gBAAA,IAAI,EAAC,oBADP;AAEE,gBAAA,SAAS,EAAC,sBAFZ;AAGE,gBAAA,OAAO,EAAE,MAAM;AACbF,kBAAAA,SAAS;AACTC,kBAAAA,WAAW,CAAC,CAAD,CAAX;AACD,iBANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFF,eAYE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAZF;AAAA;AAAA;AAAA;AAAA;AAAA;AALF;AAAA;AAAA;AAAA;AAAA,kBAZF,eAgCE;AACE,YAAA,SAAS,EACPC,MAAM,IAAI,QAAV,GAAqB,EAArB,GAA0B,QAF9B;AAAA,mCAKE;AAAK,cAAA,SAAS,EAAC,kDAAf;AAAA,sCACE;AAAG,gBAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AACE,gBAAA,IAAI,EAAC,oBADP;AAEE,gBAAA,SAAS,EAAC,sBAFZ;AAGE,gBAAA,OAAO,EAAE,MAAM;AACbF,kBAAAA,SAAS;AACTC,kBAAAA,WAAW,CAAC,CAAD,CAAX;AACD,iBANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFF,eAYE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAZF;AAAA;AAAA;AAAA;AAAA;AAAA;AALF;AAAA;AAAA;AAAA;AAAA,kBAhCF,eAqDE;AAAK,YAAA,SAAS,EAAC,6BAAf;AAAA,oCACE;AAAG,cAAA,SAAS,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAG,cAAA,SAAS,EAAC,IAAb;AAAA,iCACOhD,UAAU,GAAGC,OAAb,GAAuBC,QAD9B;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,kBArDF,EA2DGnD,QAAQ,KAAK,CAAb,iBACC;AAAA,mCACE;AAAK,cAAA,SAAS,EAAC,MAAf;AAAA,sCACE;AAAK,gBAAA,SAAS,EAAC,YAAf;AAAA,uCACE;AAAK,kBAAA,SAAS,EAAC,cAAf;AAAA,0CACE;AAAG,oBAAA,SAAS,EAAC,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,eAEE;AAAA,2CACE;AACE,sBAAA,IAAI,EAAC,IADP;AAEE,sBAAA,SAAS,EAAC,cAFZ;AAGE,sBAAA,OAAO,EAAEa,gBAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,0BAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBADF,eAeE;AAAK,gBAAA,KAAK,EAAC,wBAAX;AAAA,wCACE;AAAA,yDAEGL,QAFH;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAKE;AAAA,+DAASkC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA,wBALF,eAME;AAAA,+DAASjC,SAAT;AAAA;AAAA;AAAA;AAAA;AAAA,wBANF,eAOE;AAAA,+DAASyB,SAAT;AAAA;AAAA;AAAA;AAAA;AAAA,wBAPF;AAAA;AAAA;AAAA;AAAA;AAAA,sBAfF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBA5DJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAvWJ,EAicGlC,QAAQ,KAAK,CAAb,iBACC,QAAC,iBAAD;AACE,UAAA,SAAS,EAAEc,SADb;AAEE,UAAA,SAAS,EAAE6B,SAFb;AAGE,UAAA,gBAAgB,EAAE4B,gBAHpB;AAIE,UAAA,QAAQ,EAAEpB;AAJZ;AAAA;AAAA;AAAA;AAAA,gBAlcJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAnDF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF,mBADF;AAkgBD;;GA92BQ3F,e;;KAAAA,e;AAg3BT,eAAeA,eAAf","sourcesContent":["import { React, useState, useEffect } from 'react'\nimport {\n  countries,\n  townships,\n  data,\n} from './data/townships'\nimport Cookies from 'universal-cookie'\n\nimport Basket2Product from './components/Basket2Product'\n\nimport { ReactComponent as Logo } from '../../pics/logo-bk.svg'\n\n// components\nimport CartProductFinish from './components/CartProductFinish'\n\n// @material-ui\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport Checkbox from '@material-ui/core/Checkbox'\n\n// styles\nimport '../../bootstrap/css/bootstrap.css'\nimport './styles/cart-shipping.scss'\nimport './styles/cart-payment.scss'\n\n// icon\nimport { FaLock } from 'react-icons/fa'\nimport { RiArrowRightSLine } from 'react-icons/ri'\n\nfunction CartFormProduct() {\n  //假設會員id\n  const [memberid, setMemberId] = useState('')\n  const [membername, setMemberName] = useState('')\n\n  //驗證身分\n  async function getjwtvertifyFromServer() {\n    const token = localStorage.getItem('token')\n\n    const response = await fetch(\n      'http://localhost:6005/users/checklogin',\n      {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          token,\n        }),\n      }\n    )\n\n    const data = await response.json()\n    console.log(data)\n    if (!data.id) {\n      window.location.href = './user-login'\n    }\n    setMemberId(data.id)\n    setMemberName(data.name)\n  }\n\n  useEffect(() => {\n    //驗證身分\n    getjwtvertifyFromServer()\n  }, [])\n\n  // 城市與地區\n  const [country, setCountry] = useState(-1)\n  const [township, setTownship] = useState(-1)\n\n  // 組合信用卡過期日用\n  const [cardexpmon, setCardExpMon] = useState('')\n  const [cardexpyr, setCardExpYr] = useState('')\n\n  // checkbox\n  const [state, setState] = useState({\n    checkedA: true,\n    checkedB: true,\n  })\n  const handleChange = (event) => {\n    setState({\n      ...state,\n      [event.target.name]: event.target.checked,\n    })\n  }\n\n  const [formStep, setFormStep] = useState(0)\n  const completeFormStep = () => {\n    // 組合日期\n    setWholeAddress(\n      `${countries[country]}${townships[country][township]}${useraddress}`\n    )\n\n    // 下一頁\n    setFormStep((cur) => cur + 1)\n  }\n  // formbutton\n  const renderButton = () => {\n    if (formStep > 1) {\n      return undefined\n    } else if (formStep === 1) {\n      return (\n        <div className=\"my-4\">\n          <button\n            type=\"button\"\n            disabled={\n              !username ||\n              country == -1 ||\n              township == -1 ||\n              !useraddress ||\n              !userphone ||\n              !cardnumber ||\n              !cardsec\n            }\n            onClick={postOrderToSever}\n            key=\"1\"\n            // onClick={completeFormStep}\n            className=\"c-checkoutbtn2\"\n          >\n            確認付款\n          </button>\n        </div>\n      )\n    } else {\n      return (\n        <div className=\"my-4\">\n          <button\n            disabled={\n              !username ||\n              country == -1 ||\n              township == -1 ||\n              !useraddress ||\n              !userphone\n            }\n            onClick={completeFormStep}\n            type=\"button\"\n            key=\"2\"\n            className=\"c-checkoutbtn2\"\n          >\n            繼續結帳\n          </button>\n        </div>\n      )\n    }\n  }\n  // 回前一頁\n  const goToPreviousStep = () => {\n    setFormStep((cur) => cur - 1)\n  }\n\n  const [cartItems, setCartItems] = useState([])\n\n  const cookies = new Cookies()\n\n  useEffect(() => {\n    let tempArr = []\n    let cookieProductArr = cookies.get('product') // get Cookies\n    if (cookieProductArr) {\n      for (let i = 0; i < cookieProductArr.length; i++) {\n        let product = cookieProductArr[i]\n        tempArr.push(product)\n      }\n      setCartItems(tempArr)\n    }\n  }, [])\n\n  // 開始存入訂單\n  // 定義要存入的資料\n  // 訂單\n  const [userid, setUserId] = useState('')\n  const [orderpay, setOrderPay] = useState('VISA')\n  const [cardnumber, setCardNumber] = useState('')\n  const [cardexpdate, setCardExpDate] = useState('')\n  const [username, setUserName] = useState('')\n  const [userphone, setUserPhone] = useState('')\n  const [useraddress, setUserAddress] = useState('')\n  const [ordership, setOrderShip] = useState(\n    '宅配到府 - 運費：NT$ 80'\n  )\n  const [orderstatus, setOrderStatus] = useState('0')\n  const [orderprice, setOrderPrice] = useState('')\n  const [ordertype, setOrdertype] = useState('')\n\n  const [whole_address, setWholeAddress] = useState('')\n\n  // 訂單細節\n\n  // 定義此筆訂單產生的訂單編號\n  const [sentorder, setSentOrder] = useState('')\n\n  // 傳訂單到伺服器\n  async function postOrderToSever() {\n    // 準備好送給node的json資料\n    const orderid = new Date().getTime()\n    setSentOrder(orderid)\n\n    const newData = {\n      orderid,\n      userid: memberid,\n      orderpay,\n      cardnumber,\n      cardexpdate: `${cardexpmon}/${cardexpyr}`,\n      username,\n      userphone,\n      useraddress: whole_address,\n      ordership,\n      orderstatus: '0',\n      orderprice: itemsPrice + shipfee - discount,\n      ordertype: 'a',\n    }\n\n    // 連接的伺服器資料網址\n    const url = 'http://localhost:6005/orders/orders'\n\n    // 注意資料格式要設定，伺服器才知道是json格式\n    const request = new Request(url, {\n      method: 'POST',\n      body: JSON.stringify(newData),\n      headers: new Headers({\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      }),\n    })\n\n    console.log(\n      `data from react = ${JSON.stringify(newData)}`\n    )\n\n    const response = await fetch(request)\n    console.log(response)\n    const data = await response.json()\n\n    console.log('伺服器回傳的json資料', data)\n    // 要等驗証過，再設定資料(簡單的直接設定)\n\n    // post到order_details\n    // 用for loop把訂購商品跟數量寫進order_details\n\n    for (let i = 0; i < cartItems.length; i++) {\n      let item = cartItems[i]\n      let orderqty = item.qty\n      let proid = item.id.split('-')[0]\n      let orderspec = item.id.split('-')[1]\n      let eventid = ''\n      let aucid = ''\n\n      const newData2 = {\n        orderid,\n        orderspec,\n        orderqty,\n        eventid,\n        proid,\n        aucid,\n      }\n      // 連接的伺服器資料網址\n      const url2 =\n        'http://localhost:6005/order_details/order_details'\n\n      // 注意資料格式要設定，伺服器才知道是json格式\n      const request2 = new Request(url2, {\n        method: 'POST',\n        body: JSON.stringify(newData2),\n        headers: new Headers({\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n        }),\n      })\n\n      console.log(\n        `data from react = ${JSON.stringify(newData2)}`\n      )\n      const response2 = await fetch(request2)\n      console.log(response2)\n    }\n\n    setFormStep((cur) => cur + 1)\n    cookies.remove('product')\n  }\n\n  const [shipfee, setShipFee] = useState(80)\n\n  // Basket2Product\n\n  const [displaycartitems, setDisplayCartItems] = useState(\n    []\n  )\n  const itemsPrice = displaycartitems.reduce(\n    (a, c) => a + c.qty * c.eventPrice,\n    0\n  )\n  const [sqleventid, setSqlEventId] = useState('')\n\n  // 去後台SQL撈資料\n  async function getEventIdServer() {\n    // 連接的伺服器資料網址\n    const url = 'http://localhost:6005/product/product-list'\n\n    // 注意資料格式要設定，伺服器才知道是json格式\n    const request = new Request(url, {\n      method: 'GET',\n      headers: new Headers({\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      }),\n    })\n    const response = await fetch(request)\n    // 再把response變成json\n    const data = await response.json()\n\n    let cookieProductArr = cookies.get('product')\n    var temp = []\n    if (cookieProductArr) {\n      for (let i = 0; i < data.length; i++) {\n        for (let j = 0; j < cookieProductArr.length; j++) {\n          let product = cookieProductArr[j]\n          setSqlEventId(product.id)\n\n          if (data[i].proId == product.id.split('-')[0]) {\n            let eventtype = product.id.split('-')[1]\n            let eventqty = product.qty\n            let proImg = data[i].proImg.replace(\n              /[\\[\\]\"]+/g,\n              ''\n            )\n            let newDisplay = {\n              id: data[i].id,\n              eventId: data[i].proId,\n              eventName: data[i].proName,\n              eventPrice: data[i].proPrice,\n              eventImg: proImg,\n              eventType: eventtype,\n              qty: eventqty,\n            }\n            temp.push(newDisplay)\n          }\n        }\n      }\n    }\n    setDisplayCartItems(temp)\n  }\n\n  // 定義coupon\n  useEffect(() => {\n    getEventIdServer('', '', '')\n    const couponcode = getUrlParameter('coupon')\n    setCoupon(couponcode)\n    if (couponcode == 'tru4r8') {\n      setDiscount(300)\n    } else if (couponcode == 'DFg2FW') {\n      setDiscount(100)\n    } else {\n      setDiscount(0)\n    }\n  }, [])\n  const [coupon, setCoupon] = useState('')\n  const [discount, setDiscount] = useState(0)\n\n  // 從url抓出折扣碼\n  function getUrlParameter(sParam) {\n    // sParam就是key\n    var sPageURL = window.location.search.substring(1),\n      sURLVariables = sPageURL.split('&'),\n      sParameterName,\n      i\n\n    for (i = 0; i < sURLVariables.length; i++) {\n      sParameterName = sURLVariables[i].split('=')\n\n      if (sParameterName[0] === sParam) {\n        return typeof sParameterName[1] === undefined\n          ? true\n          : decodeURIComponent(sParameterName[1])\n      }\n    }\n    return false\n  }\n\n  // 一鍵輸入\n  const autofill1 = () => {\n    setUserName('劉國良')\n    setCountry(0)\n    setTownship(0)\n    setUserAddress('大馬路二段30號5樓')\n    setUserPhone('0987656012')\n  }\n  const [cardsec, setCardSec] = useState('')\n  const autofill2 = () => {\n    setOrderPay('MASTER')\n    setCardNumber('2876546308091320')\n    setCardExpMon('03')\n    setCardExpYr('2023')\n    setCardSec('470')\n  }\n\n  return (\n    <>\n      <div className=\"c-bg\">\n        <div className=\"c-header\">\n          <Logo className=\"c-logo\" />\n          <p>Hello {membername}</p>\n        </div>\n        <div className=\"c-crumbs1\">\n          <a href=\"./\">\n            <p>首頁&nbsp;/&nbsp;</p>\n          </a>\n          <a href=\"./cart-product\">\n            <p>購物車&nbsp;/&nbsp;</p>\n          </a>\n          <p>結帳</p>\n        </div>\n        {formStep === 0 && (\n          <div className=\"c-step d-flex align-items-center justify-content-center\">\n            <div className=\"c-shipment\">收件資訊</div>\n            <RiArrowRightSLine\n              size={30}\n              className=\"c-grayarrow\"\n            />\n            <div className=\"c-payment\">付款資訊</div>\n            <RiArrowRightSLine\n              size={30}\n              className=\"c-grayarrow\"\n            />\n            <div className=\"c-complete\">完成訂單</div>\n          </div>\n        )}\n        {formStep === 1 && (\n          <div className=\"c-step d-flex align-items-center justify-content-center\">\n            <div className=\"c-shipment2\">收件資訊</div>\n            <RiArrowRightSLine size={30} />\n            <div className=\"c-payment2\">付款資訊</div>\n            <RiArrowRightSLine\n              size={30}\n              className=\"c-grayarrow\"\n            />\n            <div className=\"c-complete\">完成訂單</div>\n          </div>\n        )}\n        {formStep === 2 && (\n          <div className=\"c-step d-flex align-items-center justify-content-center\">\n            <div className=\"c-shipment2\">收件資訊</div>\n            <RiArrowRightSLine size={30} />\n            <div className=\"c-payment3\">付款資訊</div>\n            <RiArrowRightSLine size={30} />\n            <div className=\"c-complete3\">完成訂單</div>\n          </div>\n        )}\n\n        <div className=\"d-flex\">\n          {formStep < 2 && (\n            <div className=\"col-6 mr-auto px-0\">\n              <form>\n                <div>\n                  {/* shipping */}\n                  {formStep >= 0 && (\n                    <section\n                      className={\n                        formStep === 0\n                          ? 'd-block c-shippinginfo1 px-0'\n                          : 'd-none'\n                      }\n                    >\n                      <div className=\"c-shipleft d-flex\">\n                        <p className=\"mr-auto\">收件資訊</p>\n                        <button\n                          type=\"button\"\n                          onClick={autofill1}\n                        ></button>\n                        <p className=\"c-f12\">*必填項目</p>\n                      </div>\n                      <div className=\"c-new py-4\">\n                        <p>收件人姓名*</p>\n                        <input\n                          type=\"text\"\n                          id=\"username\"\n                          value={username}\n                          onChange={(event) => {\n                            setUserName(event.target.value)\n                          }}\n                        />\n                        <div className=\"d-flex\">\n                          <div className=\"col-6 pl-0\">\n                            <p className=\"pt-3\">\b縣市*</p>\n                            <select\n                              className=\"w-100 c-ed-select\"\n                              value={country}\n                              onChange={(e) => {\n                                // 將字串轉成數字\n                                setCountry(+e.target.value)\n                                // register\n                                // selectCity.onChange(e)\n                                // 重置township的值\n                                setTownship(-1)\n                              }}\n                            >\n                              <option value=\"-1\">\n                                選擇縣市\n                              </option>\n                              {countries.map(\n                                (value, index) => (\n                                  <option\n                                    key={index}\n                                    value={index}\n                                  >\n                                    {value}\n                                  </option>\n                                )\n                              )}\n                            </select>\n                          </div>\n                          <div className=\"col-6 pr-0\">\n                            <p className=\"pt-3\">\b地區*</p>\n                            <select\n                              className=\"w-100 c-ed-select\"\n                              value={township}\n                              onChange={(e) => {\n                                // 將字串轉成數字\n                                setTownship(+e.target.value)\n                              }}\n                            >\n                              <option value=\"-1\">\n                                選擇區域\n                              </option>\n                              {country > -1 &&\n                                townships[country].map(\n                                  (value, index) => (\n                                    <option\n                                      key={index}\n                                      value={index}\n                                    >\n                                      {value}\n                                    </option>\n                                  )\n                                )}\n                            </select>\n                          </div>\n                        </div>\n                        <p className=\"pt-3\">收件地址*</p>\n                        <input\n                          type=\"text\"\n                          value={useraddress}\n                          id=\"useraddress\"\n                          onChange={(event) => {\n                            setUserAddress(\n                              event.target.value\n                            )\n                          }}\n                        />\n                        <p className=\"pt-3\" type=\"text\">\n                          聯絡電話*\n                        </p>\n                        <input\n                          type=\"text\"\n                          value={userphone}\n                          onChange={(event) => {\n                            setUserPhone(event.target.value)\n                          }}\n                        />\n                      </div>\n                      {/* )} */}\n                      <div className=\"c-shipmethod pt-4\">\n                        <p className=\"pb-4\">運送方式</p>\n                        <label className=\"c-label-r1 d-flex align-items-baseline pb-3\">\n                          <input\n                            type=\"radio\"\n                            name=\"radio\"\n                            value=\"宅配到府 - 運費：NT$ 80\"\n                            checked\n                            onClick={(event) => {\n                              setOrderShip(\n                                event.target.value\n                              )\n                              setShipFee(80)\n                            }}\n                          />\n                          <span className=\"c-label\"></span>\n                          <p>宅配到府 - 運費：NT$ 80</p>\n                        </label>\n                        <label className=\"c-label-r1 d-flex align-items-baseline\">\n                          <input\n                            type=\"radio\"\n                            name=\"radio\"\n                            value=\"宅配到府（隔日）- 運費：NT$ 200\"\n                            onClick={(event) => {\n                              setOrderShip(\n                                event.target.value\n                              )\n                              setShipFee(200)\n                            }}\n                          />\n                          <span className=\"c-label\"></span>\n                          <p>\n                            宅配到府（隔日）- 運費：NT$ 200\n                          </p>\n                          {/* <a\n                            href=\"##\"\n                            className=\"c-store ml-3 pb-0\"\n                          >\n                            選擇門市\n                          </a> */}\n                        </label>\n                      </div>\n                    </section>\n                  )}\n                  {/* payment */}\n                  {formStep === 1 && (\n                    <section className=\"c-shippinginfo1 px-0\">\n                      <div className=\"c-shipleft d-flex\">\n                        <p className=\"mr-auto\">付款資訊</p>\n                        <button\n                          type=\"button\"\n                          onClick={autofill2}\n                        ></button>\n                        <p className=\"c-f12\">*必填項目</p>\n                      </div>\n                      <div className=\"c-ship2 py-4\">\n                        <div className=\"c-paymethod\">\n                          <p>信用卡*</p>\n                          <select\n                            className=\"c-ed-select3\"\n                            value={orderpay}\n                            onChange={(event) => {\n                              setOrderPay(\n                                event.target.value\n                              )\n                            }}\n                          >\n                            <option value=\"VISA\">\n                              VISA\n                            </option>\n                            <option value=\"MASTER\">\n                              MASTER\n                            </option>\n                            <option value=\"JCB\">JCB</option>\n                          </select>\n                          <p className=\"pt-3\">\n                            信用卡號碼*\n                          </p>\n                          <input\n                            type=\"text\"\n                            id=\"cardnumber\"\n                            value={cardnumber}\n                            onChange={(event) => {\n                              setCardNumber(\n                                event.target.value\n                              )\n                            }}\n                          />\n                          <div className=\"d-flex\">\n                            <div className=\"col-3 pl-0\">\n                              <p className=\"pt-3\">\n                                \b有效期限*\n                              </p>\n                              <select\n                                className=\"w-100 c-ed-select2\"\n                                value={cardexpmon}\n                                onChange={(event) => {\n                                  setCardExpMon(\n                                    event.target.value\n                                  )\n                                }}\n                              >\n                                <option\n                                  value=\"\"\n                                  disabled\n                                  selected\n                                >\n                                  MM\n                                </option>\n                                <option>01</option>\n                                <option>02</option>\n                                <option>03</option>\n                                <option>04</option>\n                                <option>05</option>\n                                <option>06</option>\n                                <option>07</option>\n                                <option>08</option>\n                                <option>09</option>\n                                <option>10</option>\n                                <option>11</option>\n                                <option>12</option>\n                              </select>\n                            </div>\n                            <div className=\"col-3 pl-1\">\n                              <p className=\"pt-3\">\b </p>\n                              <select\n                                className=\"w-100 c-ed-select2\"\n                                value={cardexpyr}\n                                onChange={(event) => {\n                                  setCardExpYr(\n                                    event.target.value\n                                  )\n                                }}\n                              >\n                                <option\n                                  value=\"\"\n                                  disabled\n                                  selected\n                                >\n                                  YYYY\n                                </option>\n                                <option>2021</option>\n                                <option>2022</option>\n                                <option>2023</option>\n                                <option>2024</option>\n                                <option>2025</option>\n                                <option>2026</option>\n                              </select>\n                            </div>\n                            <div className=\"col-3 pr-0 ml-auto\">\n                              <p className=\"pt-3\">\n                                安全碼*\n                              </p>\n                              <input\n                                type=\"text\"\n                                id=\"cardsec\"\n                                value={cardsec}\n                                onChange={(event) => {\n                                  setCardSec(\n                                    event.target.value\n                                  )\n                                }}\n                              />\n                            </div>\n                            <a\n                              href=\"##\"\n                              className=\"ml-2 mt-auto c-store px-0 pb-0\"\n                            >\n                              這是什麼?\n                            </a>\n                          </div>\n                        </div>\n                      </div>\n                      {/* 通訊選項 */}\n                      <p className=\"c-shipleft mt-4\">\n                        通訊選項\n                      </p>\n                      <div className=\"c-shipmethod pt-4\">\n                        {/* <FormControlLabel\n                          control={\n                            <Checkbox\n                              checked={state.checkedA}\n                              onChange={handleChange}\n                              name=\"checkedA\"\n                              style={{ color: 'black' }}\n                            />\n                          }\n                          label={\n                            <span\n                              style={{\n                                fontFamily:\n                                  'Noto Sans TC Medium',\n                              }}\n                            >\n                              儲存我的收件資訊，以便未來的訂購使用\n                            </span>\n                          }\n                        /> */}\n                        <FormControlLabel\n                          control={\n                            <Checkbox\n                              checked={state.checkedB}\n                              onChange={handleChange}\n                              name=\"checkedB\"\n                              style={{ color: 'black' }}\n                            />\n                          }\n                          label={\n                            <span\n                              style={{\n                                fontFamily:\n                                  'Noto Sans TC Medium',\n                              }}\n                            >\n                              我願意收到活動及商品的相關優惠資訊\n                            </span>\n                          }\n                        />\n                      </div>\n                    </section>\n                  )}\n                  {formStep < 2 && (\n                    <div>\n                      <p className=\"c-f12 mt-3\">\n                        點選「確認付款」表示您接受我們的\n                        <a\n                          href=\"##\"\n                          className=\"c-store pb-0\"\n                        >\n                          付費＆退貨條款\n                        </a>\n                      </p>\n                      {renderButton()}\n                      <div className=\"c-checkout1 pt-3 pb-5 d-flex align-items-center\">\n                        <FaLock size={20} />\n                        <p className=\"c-lock ml-1\">\n                          本賣場使用綠界科技安全結帳系統，保障您的資安\n                        </p>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </form>\n            </div>\n          )}\n\n          {formStep < 2 && (\n            <div className=\"col-5 px-0\">\n              <Basket2Product\n                displaycartitems={displaycartitems}\n              ></Basket2Product>\n              <div className=\"c-bb d-flex pb-4 px-3 mb-4\">\n                <p className=\"mr-auto\">商品小計</p>\n                <p>NT$ {itemsPrice}</p>\n              </div>\n              <div className=\"c-bb d-flex pb-4 px-3 mb-4\">\n                <p className=\"mr-auto\">運費小計</p>\n                <p>NT$ {shipfee}</p>\n              </div>\n              <div\n                className={\n                  coupon == 'tru4r8' ? '' : 'd-none'\n                }\n              >\n                <div className=\"c-bb d-flex align-items-baseline pb-4 px-3 mb-4 \">\n                  <p className=\"mr-3\">折扣碼 - 週年慶</p>\n                  <a\n                    href=\"javascript:void(0)\"\n                    className=\"mr-auto c-store pb-0\"\n                    onClick={() => {\n                      setCoupon()\n                      setDiscount(0)\n                    }}\n                  >\n                    移除\n                  </a>\n                  <p>- NT$ 300</p>\n                </div>\n              </div>\n              <div\n                className={\n                  coupon == 'DFg2FW' ? '' : 'd-none'\n                }\n              >\n                <div className=\"c-bb d-flex align-items-baseline pb-4 px-3 mb-4 \">\n                  <p className=\"mr-3\">折扣碼 - 特賣</p>\n                  <a\n                    href=\"javascript:void(0)\"\n                    className=\"mr-auto c-store pb-0\"\n                    onClick={() => {\n                      setCoupon()\n                      setDiscount(0)\n                    }}\n                  >\n                    移除\n                  </a>\n                  <p>- NT$ 100</p>\n                </div>\n              </div>\n\n              <div className=\"c-bb1 d-flex pb-3 px-3 mb-4\">\n                <p className=\"h5 mr-auto\">總計</p>\n                <p className=\"h5\">\n                  NT$ {itemsPrice + shipfee - discount}\n                </p>\n              </div>\n              {formStep === 1 && (\n                <section>\n                  <div className=\"mt-5\">\n                    <div className=\"c-shipleft\">\n                      <div className=\"px-3  d-flex\">\n                        <p className=\"mr-auto\">收件資訊</p>\n                        <p>\n                          <a\n                            href=\"##\"\n                            className=\"c-store pb-0\"\n                            onClick={goToPreviousStep}\n                          >\n                            回上一頁修改\n                          </a>\n                        </p>\n                      </div>\n                    </div>\n                    <div class=\"c-shipdetail px-3 pb-5\">\n                      <p>\n                        收件人：\n                        {username}\n                      </p>\n                      <p>收件地址：{whole_address}</p>\n                      <p>聯絡電話：{userphone}</p>\n                      <p>寄送方式：{ordership}</p>\n                    </div>\n                  </div>\n                </section>\n              )}\n            </div>\n          )}\n          {formStep === 2 && (\n            <CartProductFinish\n              cartItems={cartItems}\n              sentorder={sentorder}\n              displaycartitems={displaycartitems}\n              discount={discount}\n            ></CartProductFinish>\n          )}\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default CartFormProduct\n"]},"metadata":{},"sourceType":"module"}