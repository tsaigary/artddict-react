{"ast":null,"code":"var _jsxFileName = \"/Users/Gary 1/Desktop/Code stuff/\\u8CC7\\u7B56\\u6703/\\u5C08\\u984C/\\u5927\\u5C08/artddict-react/src/pages/event/WorkshopUpload.js\",\n    _s = $RefreshSig$();\n\nimport { React, useState, useRef, useEffect } from 'react';\nimport axios from 'axios';\nimport { Link, withRouter } from 'react-router-dom';\nimport { Container, Row, Modal, Button } from 'react-bootstrap';\nimport swal from 'sweetalert';\nimport $ from 'jquery'; // import component\n\nimport Lightheader from './components/Lightheader';\nimport BreadCrumb from './components/EventBreadCrumb'; // react icons\n\nimport { IoIosArrowForward, IoMdAdd } from 'react-icons/io'; // import pictures\n\nimport Square from './images/square.gif'; // Pictures\n\nimport EuListCardPic from './images/event/108.jpg';\nimport EuListCardPic2 from './images/event/011.jpg';\nimport EuListCardPic3 from './images/event/009.jpg';\nimport EuGreySpin from \"./images/arddict-circle-gr.svg\";\nimport './style/reset.css';\nimport './style/fontAndBtn.scss';\nimport './style/WorkshopUpload.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction WorkshopUpload(props) {\n  _s();\n\n  const id = props.match.params.id; // input useRef\n\n  const inputRef = useRef();\n  const inputRef2 = useRef();\n  const inputRef3 = useRef();\n  const inputRef4 = useRef(); // button 啟動 input\n\n  const triggerFileSelectPopup = () => inputRef.current.click();\n\n  const triggerFileSelectPopup2 = () => inputRef2.current.click();\n\n  const triggerFileSelectPopup3 = () => inputRef3.current.click();\n\n  const triggerFileSelectPopup4 = () => inputRef4.current.click(); // 圖片的上傳file\n\n\n  const [isImg, setIsImg] = useState();\n  const [isImg2, setIsImg2] = useState();\n  const [isImg3, setIsImg3] = useState();\n  const [isImg4, setIsImg4] = useState(); // 圖檔名稱\n\n  const [fileName, setFileName] = useState('');\n  const [fileName2, setFileName2] = useState('');\n  const [fileName3, setFileName3] = useState('');\n  const [fileName4, setFileName4] = useState(''); // 圖片的base64資料\n\n  const [preview, setPreview] = useState();\n  const [preview2, setPreview2] = useState();\n  const [preview3, setPreview3] = useState();\n  const [preview4, setPreview4] = useState();\n  const [event, setEvent] = useState();\n  const [eventName, setEventName] = useState('');\n  const [eventDes, setEventDes] = useState('');\n  const [shareImg, setShareImg] = useState('[]');\n  const [userId, setUserId] = useState('');\n  const [shareComment, setShareComment] = useState('');\n\n  async function getEventIdServer() {\n    const url = `http://localhost:6005/event/event-list/${id}`;\n    const request = new Request(url, {\n      method: 'GET',\n      headers: new Headers({\n        Accept: 'application/json',\n        'Content-Type': 'appliaction/json'\n      })\n    });\n    const response = await fetch(request);\n    const data = await response.json();\n    setEventName(data.eventName);\n    setEvent(data);\n  }\n\n  useEffect(() => {\n    getEventIdServer();\n  }, []);\n\n  const uploadFile = async e => {\n    const formData = new FormData();\n    formData.append('file', isImg);\n    formData.append('file', isImg2);\n    formData.append('file', isImg3);\n    formData.append('file', isImg4);\n\n    try {\n      const res = await axios.post('http://localhost:6005/event/uploadPic', formData);\n      console.log(res);\n    } catch (ex) {\n      console.log(ex);\n    }\n\n    console.log(formData, isImg, fileName);\n  };\n\n  async function addEventShareSever() {\n    const sharePhoto = [fileName, fileName2, fileName3, fileName4];\n    const newData = {\n      id,\n      shareComment,\n      sharePhoto\n    }; // 連接的伺服器資料網址\n\n    const url = 'http://localhost:6005/event/upload'; // 注意資料格式要設定，伺服器才知道是json格式\n\n    const request = new Request(url, {\n      method: 'POST',\n      body: JSON.stringify(newData),\n      headers: new Headers({\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      })\n    });\n    console.log(JSON.stringify(newData, fileName));\n    const response = await fetch(request);\n    const data = await response.json();\n    console.log('伺服器回傳的json資料', data); // 要等驗証過，再設定資料(簡單的直接設定)\n    //直接在一段x秒關掉指示器\n\n    setTimeout(() => {\n      props.history.push(`/event/event-list/detail/share/${id}`);\n    }, 500);\n  } //驗證身分\n\n\n  async function getjwtvertifyFromServer() {\n    const token = localStorage.getItem('token');\n    const response = await fetch('http://localhost:6005/users/checklogin', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        token\n      })\n    });\n    const data = await response.json();\n    console.log(data);\n    setUserId(data.id);\n\n    if (!data.id) {\n      swal({\n        title: '請先登入',\n        text: '您的登入驗證已過期或者尚未登入, 請重新登入\\n正在將您導向登入頁面 ...',\n        button: false,\n        timer: 9000\n      });\n      setTimeout(() => {\n        window.location.replace(`../../../../user-login/`);\n      }, 2000);\n    }\n  }\n\n  useEffect(() => {\n    if (isImg) {\n      const reader = new FileReader();\n\n      reader.onloadend = () => {\n        setPreview(reader.result);\n      };\n\n      reader.readAsDataURL(isImg);\n    } else {\n      setPreview(null);\n    }\n  }, [isImg]);\n  useEffect(() => {\n    if (isImg2) {\n      const reader2 = new FileReader();\n\n      reader2.onloadend = () => {\n        setPreview2(reader2.result);\n      };\n\n      reader2.readAsDataURL(isImg2);\n    } else {\n      setPreview2(null);\n    }\n  }, [isImg2]);\n  useEffect(() => {\n    if (isImg3) {\n      const reader3 = new FileReader();\n\n      reader3.onloadend = () => {\n        setPreview3(reader3.result);\n      };\n\n      reader3.readAsDataURL(isImg3);\n    } else {\n      setPreview3(null);\n    }\n  }, [isImg3]);\n  useEffect(() => {\n    if (isImg4) {\n      const reader4 = new FileReader();\n\n      reader4.onloadend = () => {\n        setPreview4(reader4.result);\n      };\n\n      reader4.readAsDataURL(isImg4);\n    } else {\n      setPreview4(null);\n    }\n  }, [isImg4]);\n  useEffect(() => {\n    getjwtvertifyFromServer();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"reduce-width\",\n      children: [/*#__PURE__*/_jsxDEV(Lightheader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        className: \"e-upload \",\n        fluid: true,\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          className: \"py-4 eu-bread both-padding\",\n          children: /*#__PURE__*/_jsxDEV(BreadCrumb, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"both-padding\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"eu-pic-up col-12 p-0 mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"cn-font\",\n              children: \"\\u4E3B\\u984C\\u5DE5\\u4F5C\\u574A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: eventName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12 pl-0 justify-content-between d-flex flex-wrap\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"eu-upload-title col-12 p-0 cn-font mb-3\",\n              children: \"\\u4F5C\\u54C1\\u5716\\u7247:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              className: \"col-8 p-0 justify-content-start d-flex flex-wrap\",\n              action: \"\",\n              method: \"post\",\n              enctype: \"multipart/form-data\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"eu-pic-left col-8 p-0 mr-3\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"position-relative\",\n                  onClick: () => triggerFileSelectPopup(),\n                  id: \"#bgImg\",\n                  style: {\n                    backgroundImage: 'url(' + `http://localhost:6005/eventpic/share/` + ')',\n                    backgroundSize: 'cover'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"up-spin position-absolute\",\n                    src: EuGreySpin,\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 279,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"file\",\n                    style: {\n                      display: 'none'\n                    },\n                    ref: inputRef,\n                    accept: \"image/*\",\n                    onChange: e => {\n                      const file = e.target.files[0];\n\n                      if (file) {\n                        setIsImg(file);\n                        setFileName(file.name);\n                      } else {\n                        setIsImg(null);\n                      }\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 285,\n                    columnNumber: 21\n                  }, this), preview ? /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"w-100 h-100 position-absolute\",\n                    src: preview,\n                    style: {\n                      objectFit: 'cover'\n                    },\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 301,\n                    columnNumber: 23\n                  }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"e-btn-m cn-font position-absolute\",\n                    type: \"button\",\n                    children: [\"\\u4E0A\\u50B3\\u5716\\u7247\", /*#__PURE__*/_jsxDEV(IoMdAdd, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 313,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 308,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: Square,\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 316,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 267,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"eu-pic-right col-3 p-0\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-12 p-0 d-flex flex-wrap\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-10 p-0 position-relative\",\n                    onClick: () => triggerFileSelectPopup2(),\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"file\",\n                      style: {\n                        display: 'none'\n                      },\n                      ref: inputRef2,\n                      accept: \"image/*\",\n                      onChange: e => {\n                        const file = e.target.files[0];\n\n                        if (file) {\n                          setIsImg2(file);\n                          setFileName2(file.name);\n                        } else {\n                          setIsImg2(null);\n                        }\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 328,\n                      columnNumber: 23\n                    }, this), preview2 ? /*#__PURE__*/_jsxDEV(\"img\", {\n                      className: \"w-100 h-100 position-absolute\",\n                      src: preview2,\n                      style: {\n                        objectFit: 'cover'\n                      },\n                      alt: \"\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 344,\n                      columnNumber: 25\n                    }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"position-absolute\",\n                      type: \"button\",\n                      children: /*#__PURE__*/_jsxDEV(IoMdAdd, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 355,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 351,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: Square,\n                      alt: \"\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 358,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 322,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-10 my-2 p-0\",\n                    onClick: () => triggerFileSelectPopup3(),\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"file\",\n                      style: {\n                        display: 'none'\n                      },\n                      ref: inputRef3,\n                      accept: \"image/*\",\n                      onChange: e => {\n                        const file = e.target.files[0];\n\n                        if (file) {\n                          setIsImg3(file);\n                          setFileName3(file.name);\n                        } else {\n                          setIsImg3(null);\n                        }\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 366,\n                      columnNumber: 23\n                    }, this), preview3 ? /*#__PURE__*/_jsxDEV(\"img\", {\n                      className: \"w-100 h-100 position-absolute\",\n                      src: preview3,\n                      style: {\n                        objectFit: 'cover'\n                      },\n                      alt: \"\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 382,\n                      columnNumber: 25\n                    }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"position-absolute\",\n                      type: \"button\",\n                      children: /*#__PURE__*/_jsxDEV(IoMdAdd, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 393,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 389,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: Square,\n                      alt: \"\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 396,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 360,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-10 p-0\",\n                    onClick: () => triggerFileSelectPopup4(),\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"file\",\n                      style: {\n                        display: 'none'\n                      },\n                      ref: inputRef4,\n                      accept: \"image/*\",\n                      onChange: e => {\n                        const file = e.target.files[0];\n\n                        if (file) {\n                          setIsImg4(file);\n                          setFileName4(file.name);\n                        } else {\n                          setIsImg4(null);\n                        }\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 404,\n                      columnNumber: 23\n                    }, this), preview4 ? /*#__PURE__*/_jsxDEV(\"img\", {\n                      className: \"w-100 h-100 position-absolute\",\n                      src: preview4,\n                      style: {\n                        objectFit: 'cover'\n                      },\n                      alt: \"\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 420,\n                      columnNumber: 25\n                    }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"position-absolute\",\n                      type: \"button\",\n                      children: /*#__PURE__*/_jsxDEV(IoMdAdd, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 431,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 427,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: Square,\n                      alt: \"\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 434,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 398,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"eu-upload-title col-12 p-0 cn-font mt-5 mb-3\",\n                onClick: () => {\n                  setEventDes(event.eventDescription);\n                },\n                children: \"\\u4F5C\\u54C1\\u8AAA\\u660E:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                className: \"eu-text col-11 pr-2\",\n                cols: \"30\",\n                rows: \"10\",\n                value: eventDes,\n                onChange: e => {\n                  setShareComment(e.target.value);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-11 d-flex flex-wrap justify-content-center my-4\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"eu-send-cmt e-btn-m col-l2 my-3\",\n                  type: \"button\",\n                  onClick: () => {\n                    addEventShareSever();\n                    uploadFile();\n                  },\n                  children: \"\\u4E0A\\u50B3\\u4F5C\\u54C1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 457,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"eu-more-event col-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"my-3 col-12 mb-3\",\n                children: [\"\\u5176\\u4ED6\\u6D3B\\u52D5!\", /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [/*#__PURE__*/_jsxDEV(IoIosArrowForward, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 475,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(IoIosArrowForward, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 476,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(IoIosArrowForward, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 477,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(IoIosArrowForward, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 478,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 474,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 472,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/event/event-list/detail/26\",\n                style: {\n                  textDecoration: 'none'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"eu-list-card col-12 pt-5 mb-5\",\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"col-12 p-0\",\n                    src: EuListCardPic,\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 486,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                    className: \"col-12 p-0 cn-font my-2\",\n                    children: \"VERSE Forum \\u65C5\\u904A\\u4E4B\\u591C\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 491,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-8 p-0\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        children: \"\\u5730\\u9EDE\\uFF1A\\u5F70\\u5316\\u7E23\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 496,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: \"\\u6642\\u9593\\uFF1A2021\\u5E7410\\u6708\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 497,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 495,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 494,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 485,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 481,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/event/event-list/detail/11\",\n                style: {\n                  textDecoration: 'none'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"eu-list-card col-12 pt-5 mb-5\",\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"col-12 p-0\",\n                    src: EuListCardPic2,\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 507,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                    className: \"col-12 p-0 cn-font my-2\",\n                    children: \"\\u6545\\u5BAE\\u5357\\u9662\\u6236\\u5916\\u7F8E\\u8853\\u9928-\\u85DD\\u8853\\u65B9\\u821FARK OF ART\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 512,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-8 p-0\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        children: \"\\u5730\\u9EDE\\uFF1A\\u5609\\u7FA9\\u5E02\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 517,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: \"\\u6642\\u9593\\uFF1A2021\\u5E7407\\u6708\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 518,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 516,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 515,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 506,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/event/event-list/detail/9\",\n                style: {\n                  textDecoration: 'none'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"eu-list-card col-12 pt-5 mb-5\",\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"col-12 p-0\",\n                    src: EuListCardPic3,\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 529,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                    className: \"col-12 p-0 cn-font my-2\",\n                    children: \"\\u5DF7\\u5F04\\u4E4B\\u9593-\\u5C0B\\u627E\\u85CF\\u9054\\u4EBA\\u8A08\\u756B\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 534,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-8 p-0\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        children: \"\\u5730\\u9EDE\\uFF1A\\u65B0\\u7AF9\\u5E02\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 539,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: \"\\u6642\\u9593\\uFF1A2021\\u5E7407\\u6708\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 540,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 538,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 537,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 528,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 524,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n} // class UploadPreview extends React.Component {\n//   constructor(props) {\n//     super(props)\n//     this.inputRef = React.createRef()\n//     this.state = { file: null }\n//     this.onChange = this.onChange.bind(this)\n//     this.resetFile = this.resetFile.bind(this)\n//   }\n//   onChange(event) {\n//     this.setState({\n//       file: URL.createObjectURL(event.target.files[0]),\n//     })\n//   }\n//   // const triggerFileSelectPopup = () => inputRef.current.click()\n//   triggerFileSelectPopup(){\n//     this.inputRef.current.click()\n//   }\n//   resetFile(event) {\n//     event.preventDefault()\n//     this.setState({ file: null })\n//   }\n//   render() {\n//     return (\n//       <div\n//         className=\"position-relative\"\n//         style={{\n//           backgroundImage: 'url(' + this.state.file + ')',\n//           backgroundSize: 'cover',\n//         }}\n//       >\n//         <input\n//           type=\"file\"\n//           onChange={this.onChange}\n//           ref={this.inputRef}\n//         />\n//         {this.state.file && (\n//           <div>\n//             <img\n//               className=\"up-spin position-absolute\"\n//               src={EuGreySpin}\n//               alt=\"\"\n//             />\n//             <button\n//               className=\"e-btn-m cn-font position-absolute\"\n//               type=\"button\"\n//               onClick={this.triggerFileSelectPopup}\n//             >\n//               上傳圖片\n//             </button>\n//             <img src={Square} alt=\"\" />\n//             {/* <button onClick={this.resetFile}>\n//               Remove File\n//             </button> */}\n//           </div>\n//         )}\n//       </div>\n//     )\n//   }\n// }\n\n\n_s(WorkshopUpload, \"3d4eqlAoI2HpBTceCaL8+vLUsvU=\");\n\n_c = WorkshopUpload;\nexport default _c2 = withRouter(WorkshopUpload);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"WorkshopUpload\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/Users/Gary 1/Desktop/Code stuff/資策會/專題/大專/artddict-react/src/pages/event/WorkshopUpload.js"],"names":["React","useState","useRef","useEffect","axios","Link","withRouter","Container","Row","Modal","Button","swal","$","Lightheader","BreadCrumb","IoIosArrowForward","IoMdAdd","Square","EuListCardPic","EuListCardPic2","EuListCardPic3","WorkshopUpload","props","id","match","params","inputRef","inputRef2","inputRef3","inputRef4","triggerFileSelectPopup","current","click","triggerFileSelectPopup2","triggerFileSelectPopup3","triggerFileSelectPopup4","isImg","setIsImg","isImg2","setIsImg2","isImg3","setIsImg3","isImg4","setIsImg4","fileName","setFileName","fileName2","setFileName2","fileName3","setFileName3","fileName4","setFileName4","preview","setPreview","preview2","setPreview2","preview3","setPreview3","preview4","setPreview4","event","setEvent","eventName","setEventName","eventDes","setEventDes","shareImg","setShareImg","userId","setUserId","shareComment","setShareComment","getEventIdServer","url","request","Request","method","headers","Headers","Accept","response","fetch","data","json","uploadFile","e","formData","FormData","append","res","post","console","log","ex","addEventShareSever","sharePhoto","newData","body","JSON","stringify","setTimeout","history","push","getjwtvertifyFromServer","token","localStorage","getItem","title","text","button","timer","window","location","replace","reader","FileReader","onloadend","result","readAsDataURL","reader2","reader3","reader4","backgroundImage","backgroundSize","EuGreySpin","display","file","target","files","name","objectFit","eventDescription","value","textDecoration"],"mappings":"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","sourcesContent":["import { React, useState, useRef, useEffect } from 'react'\nimport axios from 'axios'\nimport { Link, withRouter } from 'react-router-dom'\nimport {\n  Container,\n  Row,\n  Modal,\n  Button,\n} from 'react-bootstrap'\nimport swal from 'sweetalert'\n\nimport $ from 'jquery'\n\n// import component\nimport Lightheader from './components/Lightheader'\nimport BreadCrumb from './components/EventBreadCrumb'\n\n// react icons\nimport { IoIosArrowForward, IoMdAdd } from 'react-icons/io'\n\n// import pictures\nimport Square from './images/square.gif'\n// Pictures\nimport EuListCardPic from './images/event/108.jpg'\nimport EuListCardPic2 from './images/event/011.jpg'\nimport EuListCardPic3 from './images/event/009.jpg'\n\nimport EuGreySpin from './images/arddict-circle-gr.svg'\n\nimport './style/reset.css'\nimport './style/fontAndBtn.scss'\nimport './style/WorkshopUpload.scss'\n\nfunction WorkshopUpload(props) {\n  const id = props.match.params.id\n\n  // input useRef\n  const inputRef = useRef()\n  const inputRef2 = useRef()\n  const inputRef3 = useRef()\n  const inputRef4 = useRef()\n  // button 啟動 input\n  const triggerFileSelectPopup = () =>\n    inputRef.current.click()\n  const triggerFileSelectPopup2 = () =>\n    inputRef2.current.click()\n  const triggerFileSelectPopup3 = () =>\n    inputRef3.current.click()\n  const triggerFileSelectPopup4 = () =>\n    inputRef4.current.click()\n\n  // 圖片的上傳file\n  const [isImg, setIsImg] = useState()\n  const [isImg2, setIsImg2] = useState()\n  const [isImg3, setIsImg3] = useState()\n  const [isImg4, setIsImg4] = useState()\n  // 圖檔名稱\n  const [fileName, setFileName] = useState('')\n  const [fileName2, setFileName2] = useState('')\n  const [fileName3, setFileName3] = useState('')\n  const [fileName4, setFileName4] = useState('')\n  // 圖片的base64資料\n  const [preview, setPreview] = useState()\n  const [preview2, setPreview2] = useState()\n  const [preview3, setPreview3] = useState()\n  const [preview4, setPreview4] = useState()\n\n\n  const [event, setEvent] = useState()\n  const [eventName, setEventName] = useState('')\n  const [eventDes, setEventDes] = useState('')\n\n\n  const [shareImg, setShareImg] = useState('[]')\n  const [userId, setUserId] = useState('')\n  const [shareComment, setShareComment] = useState('')\n\n  async function getEventIdServer() {\n    const url = `http://localhost:6005/event/event-list/${id}`\n    const request = new Request(url, {\n      method: 'GET',\n      headers: new Headers({\n        Accept: 'application/json',\n        'Content-Type': 'appliaction/json',\n      }),\n    })\n\n    const response = await fetch(request)\n    const data = await response.json()\n\n    setEventName(data.eventName)\n    setEvent(data)\n  }\n\n\n  useEffect(() => {\n    getEventIdServer()\n  }, [])\n\n  const uploadFile = async (e) => {\n    const formData = new FormData()\n    formData.append('file', isImg)\n    formData.append('file', isImg2)\n    formData.append('file', isImg3)\n    formData.append('file', isImg4)\n    try {\n      const res = await axios.post(\n        'http://localhost:6005/event/uploadPic',\n        formData\n      )\n      console.log(res)\n    } catch (ex) {\n      console.log(ex)\n    }\n    console.log(formData, isImg, fileName)\n  }\n\n  async function addEventShareSever() {\n    const sharePhoto = [\n      fileName,\n      fileName2,\n      fileName3,\n      fileName4,\n    ]\n    const newData = { id, shareComment, sharePhoto }\n\n    // 連接的伺服器資料網址\n    const url = 'http://localhost:6005/event/upload'\n\n    // 注意資料格式要設定，伺服器才知道是json格式\n    const request = new Request(url, {\n      method: 'POST',\n      body: JSON.stringify(newData),\n      headers: new Headers({\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      }),\n    })\n\n    console.log(JSON.stringify(newData, fileName))\n\n    const response = await fetch(request)\n    const data = await response.json()\n\n    console.log('伺服器回傳的json資料', data)\n    // 要等驗証過，再設定資料(簡單的直接設定)\n\n    //直接在一段x秒關掉指示器\n    setTimeout(() => {\n      props.history.push(\n        `/event/event-list/detail/share/${id}`\n      )\n    }, 500)\n  }\n\n  //驗證身分\n  async function getjwtvertifyFromServer() {\n    const token = localStorage.getItem('token')\n\n    const response = await fetch(\n      'http://localhost:6005/users/checklogin',\n      {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          token,\n        }),\n      }\n    )\n\n    const data = await response.json()\n    console.log(data)\n    setUserId(data.id)\n\n    if (!data.id){\n      swal({\n        title: '請先登入',\n        text: '您的登入驗證已過期或者尚未登入, 請重新登入\\n正在將您導向登入頁面 ...',\n        button: false,\n        timer: 9000,\n      })\n      setTimeout(() => {\n        window.location.replace(`../../../../user-login/`)\n      }, 2000)\n    }\n  }\n\n  useEffect(() => {\n    if (isImg) {\n      const reader = new FileReader()\n      reader.onloadend = () => {\n        setPreview(reader.result)\n      }\n      reader.readAsDataURL(isImg)\n    } else {\n      setPreview(null)\n    }\n  }, [isImg])\n\n  useEffect(() => {\n    if (isImg2) {\n      const reader2 = new FileReader()\n      reader2.onloadend = () => {\n        setPreview2(reader2.result)\n      }\n      reader2.readAsDataURL(isImg2)\n    } else {\n      setPreview2(null)\n    }\n  }, [isImg2])\n\n  useEffect(() => {\n    if (isImg3) {\n      const reader3 = new FileReader()\n      reader3.onloadend = () => {\n        setPreview3(reader3.result)\n      }\n      reader3.readAsDataURL(isImg3)\n    } else {\n      setPreview3(null)\n    }\n  }, [isImg3])\n\n  useEffect(() => {\n    if (isImg4) {\n      const reader4 = new FileReader()\n      reader4.onloadend = () => {\n        setPreview4(reader4.result)\n      }\n      reader4.readAsDataURL(isImg4)\n    } else {\n      setPreview4(null)\n    }\n  }, [isImg4])\n\n  useEffect(() => {\n   getjwtvertifyFromServer()\n  }, [])\n\n  return (\n    <>\n      <div className=\"reduce-width\">\n        <Lightheader />\n        <Container className=\"e-upload \" fluid>\n          <Row className=\"py-4 eu-bread both-padding\">\n            <BreadCrumb />\n          </Row>\n          <Row className=\"both-padding\">\n            <div className=\"eu-pic-up col-12 p-0 mb-4\">\n              <h5 className=\"cn-font\">主題工作坊</h5>\n              <h2>{eventName}</h2>\n            </div>\n            {/* 資料form表單 */}\n            <div className=\"col-12 pl-0 justify-content-between d-flex flex-wrap\">\n              <h5 className=\"eu-upload-title col-12 p-0 cn-font mb-3\">\n                作品圖片:\n              </h5>\n              <form\n                className=\"col-8 p-0 justify-content-start d-flex flex-wrap\"\n                action=\"\"\n                method=\"post\"\n                enctype=\"multipart/form-data\"\n              >\n                <div className=\"eu-pic-left col-8 p-0 mr-3\">\n                  <div\n                    className=\"position-relative\"\n                    onClick={() => triggerFileSelectPopup()}\n                    id=\"#bgImg\"\n                    style={{\n                      backgroundImage:\n                        'url(' +\n                        `http://localhost:6005/eventpic/share/` +\n                        ')',\n                      backgroundSize: 'cover',\n                    }}\n                  >\n                    <img\n                      className=\"up-spin position-absolute\"\n                      src={EuGreySpin}\n                      alt=\"\"\n                    />\n\n                    <input\n                      type=\"file\"\n                      style={{ display: 'none' }}\n                      ref={inputRef}\n                      accept=\"image/*\"\n                      onChange={(e) => {\n                        const file = e.target.files[0]\n                        if (file) {\n                          setIsImg(file)\n                          setFileName(file.name)\n                        } else {\n                          setIsImg(null)\n                        }\n                      }}\n                    />\n                    {preview ? (\n                      <img\n                        className=\"w-100 h-100 position-absolute\"\n                        src={preview}\n                        style={{ objectFit: 'cover' }}\n                        alt=\"\"\n                      />\n                    ) : (\n                      <button\n                        className=\"e-btn-m cn-font position-absolute\"\n                        type=\"button\"\n                      >\n                        上傳圖片\n                        <IoMdAdd />\n                      </button>\n                    )}\n                    <img src={Square} alt=\"\" />\n                  </div>\n                </div>\n\n                <div className=\"eu-pic-right col-3 p-0\">\n                  <div className=\"col-12 p-0 d-flex flex-wrap\">\n                    <div\n                      className=\"col-10 p-0 position-relative\"\n                      onClick={() =>\n                        triggerFileSelectPopup2()\n                      }\n                    >\n                      <input\n                        type=\"file\"\n                        style={{ display: 'none' }}\n                        ref={inputRef2}\n                        accept=\"image/*\"\n                        onChange={(e) => {\n                          const file = e.target.files[0]\n                          if (file) {\n                            setIsImg2(file)\n                            setFileName2(file.name)\n                          } else {\n                            setIsImg2(null)\n                          }\n                        }}\n                      />\n                      {preview2 ? (\n                        <img\n                          className=\"w-100 h-100 position-absolute\"\n                          src={preview2}\n                          style={{ objectFit: 'cover' }}\n                          alt=\"\"\n                        />\n                      ) : (\n                        <button\n                          className=\"position-absolute\"\n                          type=\"button\"\n                        >\n                          <IoMdAdd />\n                        </button>\n                      )}\n                      <img src={Square} alt=\"\" />\n                    </div>\n                    <div\n                      className=\"col-10 my-2 p-0\"\n                      onClick={() =>\n                        triggerFileSelectPopup3()\n                      }\n                    >\n                      <input\n                        type=\"file\"\n                        style={{ display: 'none' }}\n                        ref={inputRef3}\n                        accept=\"image/*\"\n                        onChange={(e) => {\n                          const file = e.target.files[0]\n                          if (file) {\n                            setIsImg3(file)\n                            setFileName3(file.name)\n                          } else {\n                            setIsImg3(null)\n                          }\n                        }}\n                      />\n                      {preview3 ? (\n                        <img\n                          className=\"w-100 h-100 position-absolute\"\n                          src={preview3}\n                          style={{ objectFit: 'cover' }}\n                          alt=\"\"\n                        />\n                      ) : (\n                        <button\n                          className=\"position-absolute\"\n                          type=\"button\"\n                        >\n                          <IoMdAdd />\n                        </button>\n                      )}\n                      <img src={Square} alt=\"\" />\n                    </div>\n                    <div\n                      className=\"col-10 p-0\"\n                      onClick={() =>\n                        triggerFileSelectPopup4()\n                      }\n                    >\n                      <input\n                        type=\"file\"\n                        style={{ display: 'none' }}\n                        ref={inputRef4}\n                        accept=\"image/*\"\n                        onChange={(e) => {\n                          const file = e.target.files[0]\n                          if (file) {\n                            setIsImg4(file)\n                            setFileName4(file.name)\n                          } else {\n                            setIsImg4(null)\n                          }\n                        }}\n                      />\n                      {preview4 ? (\n                        <img\n                          className=\"w-100 h-100 position-absolute\"\n                          src={preview4}\n                          style={{ objectFit: 'cover' }}\n                          alt=\"\"\n                        />\n                      ) : (\n                        <button\n                          className=\"position-absolute\"\n                          type=\"button\"\n                        >\n                          <IoMdAdd />\n                        </button>\n                      )}\n                      <img src={Square} alt=\"\" />\n                    </div>\n                  </div>\n                </div>\n                <h5\n                  className=\"eu-upload-title col-12 p-0 cn-font mt-5 mb-3\"\n                  onClick={() => {\n                    setEventDes(event.eventDescription)\n                  }}\n                >\n                  作品說明:\n                </h5>\n                <textarea\n                  className=\"eu-text col-11 pr-2\"\n                  cols=\"30\"\n                  rows=\"10\"\n                  value={eventDes}\n                  onChange={(e) => {\n                    setShareComment(e.target.value)\n                  }}\n                ></textarea>\n\n                <div className=\"col-11 d-flex flex-wrap justify-content-center my-4\">\n                  <button\n                    className=\"eu-send-cmt e-btn-m col-l2 my-3\"\n                    type=\"button\"\n                    onClick={() => {\n                      addEventShareSever()\n                      uploadFile()\n                    }}\n                  >\n                    上傳作品\n                  </button>\n                </div>\n              </form>\n\n              {/* 其他活動區塊 */}\n              <div className=\"eu-more-event col-4\">\n                <h2 className=\"my-3 col-12 mb-3\">\n                  其他活動!\n                  <span>\n                    <IoIosArrowForward />\n                    <IoIosArrowForward />\n                    <IoIosArrowForward />\n                    <IoIosArrowForward />\n                  </span>\n                </h2>\n                <Link\n                  to=\"/event/event-list/detail/26\"\n                  style={{ textDecoration: 'none' }}\n                >\n                  <div className=\"eu-list-card col-12 pt-5 mb-5\">\n                    <img\n                      className=\"col-12 p-0\"\n                      src={EuListCardPic}\n                      alt=\"\"\n                    />\n                    <h6 className=\"col-12 p-0 cn-font my-2\">\n                      VERSE Forum 旅遊之夜\n                    </h6>\n                    <div className=\"d-flex\">\n                      <div className=\"col-8 p-0\">\n                        <p>地點：彰化縣</p>\n                        <p>時間：2021年10月</p>\n                      </div>\n                    </div>\n                  </div>\n                </Link>\n                <Link\n                  to=\"/event/event-list/detail/11\"\n                  style={{ textDecoration: 'none' }}\n                >\n                  <div className=\"eu-list-card col-12 pt-5 mb-5\">\n                    <img\n                      className=\"col-12 p-0\"\n                      src={EuListCardPic2}\n                      alt=\"\"\n                    />\n                    <h6 className=\"col-12 p-0 cn-font my-2\">\n                      故宮南院戶外美術館-藝術方舟ARK OF ART\n                    </h6>\n                    <div className=\"d-flex\">\n                      <div className=\"col-8 p-0\">\n                        <p>地點：嘉義市</p>\n                        <p>時間：2021年07月</p>\n                      </div>\n                    </div>\n                  </div>\n                </Link>\n\n                <Link\n                  to=\"/event/event-list/detail/9\"\n                  style={{ textDecoration: 'none' }}\n                >\n                  <div className=\"eu-list-card col-12 pt-5 mb-5\">\n                    <img\n                      className=\"col-12 p-0\"\n                      src={EuListCardPic3}\n                      alt=\"\"\n                    />\n                    <h6 className=\"col-12 p-0 cn-font my-2\">\n                      巷弄之間-尋找藏達人計畫\n                    </h6>\n                    <div className=\"d-flex\">\n                      <div className=\"col-8 p-0\">\n                        <p>地點：新竹市</p>\n                        <p>時間：2021年07月</p>\n                      </div>\n                    </div>\n                  </div>\n                </Link>\n              </div>\n            </div>\n\n            {/* <Modal show={show} onHide={handleClose}>\n              <Modal.Body>\n                Woohoo, you're reading this text in a modal!\n              </Modal.Body>\n              <Modal.Footer>\n                <Button\n                  variant=\"secondary\"\n                  onClick={handleClose}\n                >\n                  Close\n                </Button>\n                <Button\n                  variant=\"primary\"\n                  onClick={handleClose}\n                >\n                  Save Changes\n                </Button>\n              </Modal.Footer>\n            </Modal> */}\n          </Row>\n        </Container>\n      </div>\n    </>\n  )\n}\n\n// class UploadPreview extends React.Component {\n//   constructor(props) {\n//     super(props)\n//     this.inputRef = React.createRef()\n//     this.state = { file: null }\n//     this.onChange = this.onChange.bind(this)\n//     this.resetFile = this.resetFile.bind(this)\n//   }\n//   onChange(event) {\n//     this.setState({\n//       file: URL.createObjectURL(event.target.files[0]),\n//     })\n//   }\n//   // const triggerFileSelectPopup = () => inputRef.current.click()\n//   triggerFileSelectPopup(){\n//     this.inputRef.current.click()\n//   }\n\n//   resetFile(event) {\n//     event.preventDefault()\n//     this.setState({ file: null })\n//   }\n//   render() {\n//     return (\n//       <div\n//         className=\"position-relative\"\n//         style={{\n//           backgroundImage: 'url(' + this.state.file + ')',\n//           backgroundSize: 'cover',\n//         }}\n//       >\n//         <input\n//           type=\"file\"\n//           onChange={this.onChange}\n//           ref={this.inputRef}\n//         />\n//         {this.state.file && (\n//           <div>\n//             <img\n//               className=\"up-spin position-absolute\"\n//               src={EuGreySpin}\n//               alt=\"\"\n//             />\n//             <button\n//               className=\"e-btn-m cn-font position-absolute\"\n//               type=\"button\"\n//               onClick={this.triggerFileSelectPopup}\n//             >\n//               上傳圖片\n//             </button>\n//             <img src={Square} alt=\"\" />\n//             {/* <button onClick={this.resetFile}>\n//               Remove File\n//             </button> */}\n//           </div>\n//         )}\n//       </div>\n//     )\n//   }\n\n\n// }\n\nexport default withRouter(WorkshopUpload)\n"]},"metadata":{},"sourceType":"module"}