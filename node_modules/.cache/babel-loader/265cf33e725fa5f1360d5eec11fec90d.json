{"ast":null,"code":"!function (e, t) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = t(require(\"prop-types\"), require(\"react\")) : \"function\" == typeof define && define.amd ? define([\"prop-types\", \"react\"], t) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).AvatarEditor = t(e.PropTypes, e.React);\n}(this, function (e, t) {\n  \"use strict\";\n\n  function o(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n\n  var n = o(e),\n      i = o(t);\n\n  function r(e, t) {\n    for (var o = 0; o < t.length; o++) {\n      var n = t[o];\n      n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);\n    }\n  }\n\n  function s(e, t, o) {\n    return t in e ? Object.defineProperty(e, t, {\n      value: o,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }) : e[t] = o, e;\n  }\n\n  function u() {\n    return (u = Object.assign || function (e) {\n      for (var t = 1; t < arguments.length; t++) {\n        var o = arguments[t];\n\n        for (var n in o) Object.prototype.hasOwnProperty.call(o, n) && (e[n] = o[n]);\n      }\n\n      return e;\n    }).apply(this, arguments);\n  }\n\n  function a(t, e) {\n    var o,\n        n = Object.keys(t);\n    return Object.getOwnPropertySymbols && (o = Object.getOwnPropertySymbols(t), e && (o = o.filter(function (e) {\n      return Object.getOwnPropertyDescriptor(t, e).enumerable;\n    })), n.push.apply(n, o)), n;\n  }\n\n  function y(t) {\n    for (var e = 1; e < arguments.length; e++) {\n      var o = null != arguments[e] ? arguments[e] : {};\n      e % 2 ? a(Object(o), !0).forEach(function (e) {\n        s(t, e, o[e]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(o)) : a(Object(o)).forEach(function (e) {\n        Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(o, e));\n      });\n    }\n\n    return t;\n  }\n\n  function h(e) {\n    return (h = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n      return e.__proto__ || Object.getPrototypeOf(e);\n    })(e);\n  }\n\n  function c(e, t) {\n    return (c = Object.setPrototypeOf || function (e, t) {\n      return e.__proto__ = t, e;\n    })(e, t);\n  }\n\n  function l(e, t) {\n    if (null == e) return {};\n\n    var o,\n        n = function (e, t) {\n      if (null == e) return {};\n\n      for (var o, n = {}, a = Object.keys(e), r = 0; r < a.length; r++) o = a[r], 0 <= t.indexOf(o) || (n[o] = e[o]);\n\n      return n;\n    }(e, t);\n\n    if (Object.getOwnPropertySymbols) for (var a = Object.getOwnPropertySymbols(e), r = 0; r < a.length; r++) o = a[r], 0 <= t.indexOf(o) || Object.prototype.propertyIsEnumerable.call(e, o) && (n[o] = e[o]);\n    return n;\n  }\n\n  function d(e) {\n    if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    return e;\n  }\n\n  function p(r) {\n    var i = function () {\n      if (\"undefined\" == typeof Reflect || !Reflect.construct) return !1;\n      if (Reflect.construct.sham) return !1;\n      if (\"function\" == typeof Proxy) return !0;\n\n      try {\n        return Date.prototype.toString.call(Reflect.construct(Date, [], function () {})), !0;\n      } catch (e) {\n        return !1;\n      }\n    }();\n\n    return function () {\n      var e,\n          t,\n          o,\n          n,\n          a = h(r);\n      return t = i ? (e = h(this).constructor, Reflect.construct(a, arguments, e)) : a.apply(this, arguments), o = this, !(n = t) || \"object\" != typeof n && \"function\" != typeof n ? d(o) : n;\n    };\n  }\n\n  function m(e, t) {\n    return function (e) {\n      if (Array.isArray(e)) return e;\n    }(e) || function (e, t) {\n      if (\"undefined\" == typeof Symbol || !(Symbol.iterator in Object(e))) return;\n      var o = [],\n          n = !0,\n          a = !1,\n          r = void 0;\n\n      try {\n        for (var i, s = e[Symbol.iterator](); !(n = (i = s.next()).done) && (o.push(i.value), !t || o.length !== t); n = !0);\n      } catch (e) {\n        a = !0, r = e;\n      } finally {\n        try {\n          n || null == s.return || s.return();\n        } finally {\n          if (a) throw r;\n        }\n      }\n\n      return o;\n    }(e, t) || g(e, t) || function () {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }();\n  }\n\n  function g(e, t) {\n    if (e) {\n      if (\"string\" == typeof e) return f(e, t);\n      var o = Object.prototype.toString.call(e).slice(8, -1);\n      return \"Object\" === o && e.constructor && (o = e.constructor.name), \"Map\" === o || \"Set\" === o ? Array.from(e) : \"Arguments\" === o || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o) ? f(e, t) : void 0;\n    }\n  }\n\n  function f(e, t) {\n    (null == t || t > e.length) && (t = e.length);\n\n    for (var o = 0, n = new Array(t); o < t; o++) n[o] = e[o];\n\n    return n;\n  }\n\n  function v(a, r) {\n    return new Promise(function (e, t) {\n      var o,\n          n = new Image();\n      n.onload = function () {\n        return e(n);\n      }, n.onerror = t, !1 == (null !== (o = a) && !!o.match(/^\\s*data:([a-z]+\\/[a-z]+(;[a-z-]+=[a-z-]+)?)?(;base64)?,[a-z0-9!$&',()*+;=\\-._~:@/?%\\s]*\\s*$/i)) && r && (n.crossOrigin = r), n.src = a;\n    });\n  }\n\n  var b,\n      w = !(\"undefined\" == typeof window || \"undefined\" == typeof navigator || !(\"ontouchstart\" in window || 0 < navigator.msMaxTouchPoints)),\n      M = \"undefined\" != typeof File,\n      O = {\n    touch: {\n      react: {\n        down: \"onTouchStart\",\n        mouseDown: \"onMouseDown\",\n        drag: \"onTouchMove\",\n        move: \"onTouchMove\",\n        mouseMove: \"onMouseMove\",\n        up: \"onTouchEnd\",\n        mouseUp: \"onMouseUp\"\n      },\n      native: {\n        down: \"touchstart\",\n        mouseDown: \"mousedown\",\n        drag: \"touchmove\",\n        move: \"touchmove\",\n        mouseMove: \"mousemove\",\n        up: \"touchend\",\n        mouseUp: \"mouseup\"\n      }\n    },\n    desktop: {\n      react: {\n        down: \"onMouseDown\",\n        drag: \"onDragOver\",\n        move: \"onMouseMove\",\n        up: \"onMouseUp\"\n      },\n      native: {\n        down: \"mousedown\",\n        drag: \"dragStart\",\n        move: \"mousemove\",\n        up: \"mouseup\"\n      }\n    }\n  },\n      I = w ? O.touch : O.desktop,\n      P = \"undefined\" != typeof window && window.devicePixelRatio ? window.devicePixelRatio : 1,\n      C = {\n    x: .5,\n    y: .5\n  },\n      x = function () {\n    !function (e, t) {\n      if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n      e.prototype = Object.create(t && t.prototype, {\n        constructor: {\n          value: e,\n          writable: !0,\n          configurable: !0\n        }\n      }), t && c(e, t);\n    }(a, i[\"default\"].Component);\n    var e,\n        t,\n        o,\n        n = p(a);\n\n    function a(e) {\n      var v;\n      return function (e, t) {\n        if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n      }(this, a), s(d(v = n.call(this, e)), \"state\", {\n        drag: !1,\n        my: null,\n        mx: null,\n        image: C\n      }), s(d(v), \"handleImageReady\", function (e) {\n        var t = v.getInitialSize(e.width, e.height);\n        t.resource = e, t.x = .5, t.y = .5, t.backgroundColor = v.props.backgroundColor, v.setState({\n          drag: !1,\n          image: t\n        }, v.props.onImageReady), v.props.onLoadSuccess(t);\n      }), s(d(v), \"clearImage\", function () {\n        v.canvas.getContext(\"2d\").clearRect(0, 0, v.canvas.width, v.canvas.height), v.setState({\n          image: C\n        });\n      }), s(d(v), \"handleMouseDown\", function (e) {\n        (e = e || window.event).preventDefault(), v.setState({\n          drag: !0,\n          mx: null,\n          my: null\n        });\n      }), s(d(v), \"handleMouseUp\", function () {\n        v.state.drag && (v.setState({\n          drag: !1\n        }), v.props.onMouseUp());\n      }), s(d(v), \"handleMouseMove\", function (e) {\n        var t, o, n, a, r, i, s, u, h, c, l, d, p, g, f, m;\n        e = e || window.event, !1 !== v.state.drag && (e.preventDefault(), n = {\n          mx: t = e.targetTouches ? e.targetTouches[0].pageX : e.clientX,\n          my: o = e.targetTouches ? e.targetTouches[0].pageY : e.clientY\n        }, m = v.props.rotate, m = (m %= 360) < 0 ? m + 360 : m, v.state.mx && v.state.my && (a = v.state.mx - t, r = v.state.my - o, i = v.state.image.width * v.props.scale, s = v.state.image.height * v.props.scale, h = (u = v.getCroppingRect()).x, c = u.y, h *= i, c *= s, l = function (e) {\n          return e * (Math.PI / 180);\n        }, d = Math.cos(l(m)), g = c + -a * (p = Math.sin(l(m))) + r * d, f = {\n          x: (h + a * d + r * p) / i + 1 / v.props.scale * v.getXScale() / 2,\n          y: g / s + 1 / v.props.scale * v.getYScale() / 2\n        }, v.props.onPositionChange(f), n.image = y(y({}, v.state.image), f)), v.setState(n), v.props.onMouseMove(e));\n      }), s(d(v), \"setCanvas\", function (e) {\n        v.canvas = e;\n      }), v.canvas = null, v;\n    }\n\n    return e = a, (t = [{\n      key: \"componentDidMount\",\n      value: function () {\n        this.props.disableHiDPIScaling && (P = 1);\n        var e,\n            t,\n            o = this.canvas.getContext(\"2d\");\n        this.props.image && this.loadImage(this.props.image), this.paint(o), document && (e = !!function () {\n          var t = !1;\n\n          try {\n            var e = Object.defineProperty({}, \"passive\", {\n              get: function () {\n                t = !0;\n              }\n            });\n            window.addEventListener(\"test\", e, e), window.removeEventListener(\"test\", e, e);\n          } catch (e) {\n            t = !1;\n          }\n\n          return t;\n        }() && {\n          passive: !1\n        }, t = I.native, document.addEventListener(t.move, this.handleMouseMove, e), document.addEventListener(t.up, this.handleMouseUp, e), w && (document.addEventListener(t.mouseMove, this.handleMouseMove, e), document.addEventListener(t.mouseUp, this.handleMouseUp, e)));\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function (e, t) {\n        this.props.image && this.props.image !== e.image || this.props.width !== e.width || this.props.height !== e.height || this.props.backgroundColor !== e.backgroundColor ? this.loadImage(this.props.image) : this.props.image || t.image === C || this.clearImage();\n        var o = this.canvas.getContext(\"2d\");\n        o.clearRect(0, 0, this.canvas.width, this.canvas.height), this.paint(o), this.paintImage(o, this.state.image, this.props.border), e.image === this.props.image && e.width === this.props.width && e.height === this.props.height && e.position === this.props.position && e.scale === this.props.scale && e.rotate === this.props.rotate && t.my === this.state.my && t.mx === this.state.mx && t.image.x === this.state.image.x && t.image.y === this.state.image.y && t.backgroundColor === this.state.backgroundColor || this.props.onImageChange();\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function () {\n        var e;\n        document && (e = I.native, document.removeEventListener(e.move, this.handleMouseMove, !1), document.removeEventListener(e.up, this.handleMouseUp, !1), w && (document.removeEventListener(e.mouseMove, this.handleMouseMove, !1), document.removeEventListener(e.mouseUp, this.handleMouseUp, !1)));\n      }\n    }, {\n      key: \"isVertical\",\n      value: function () {\n        return !this.props.disableCanvasRotation && this.props.rotate % 180 != 0;\n      }\n    }, {\n      key: \"getBorders\",\n      value: function (e) {\n        var t = 0 < arguments.length && void 0 !== e ? e : this.props.border;\n        return Array.isArray(t) ? t : [t, t];\n      }\n    }, {\n      key: \"getDimensions\",\n      value: function () {\n        var e = this.props,\n            t = e.width,\n            o = e.height,\n            n = e.rotate,\n            a = e.border,\n            r = {},\n            i = m(this.getBorders(a), 2),\n            s = i[0],\n            u = i[1],\n            h = t,\n            c = o;\n        return this.isVertical() ? (r.width = c, r.height = h) : (r.width = h, r.height = c), r.width += 2 * s, r.height += 2 * u, {\n          canvas: r,\n          rotate: n,\n          width: t,\n          height: o,\n          border: a\n        };\n      }\n    }, {\n      key: \"getImage\",\n      value: function () {\n        var e = this.getCroppingRect(),\n            t = this.state.image;\n        e.x *= t.resource.width, e.y *= t.resource.height, e.width *= t.resource.width, e.height *= t.resource.height;\n        var o = document.createElement(\"canvas\");\n        this.isVertical() ? (o.width = e.height, o.height = e.width) : (o.width = e.width, o.height = e.height);\n        var n = o.getContext(\"2d\");\n        return n.translate(o.width / 2, o.height / 2), n.rotate(this.props.rotate * Math.PI / 180), n.translate(-o.width / 2, -o.height / 2), this.isVertical() && n.translate((o.width - o.height) / 2, (o.height - o.width) / 2), t.backgroundColor && (n.fillStyle = t.backgroundColor, n.fillRect(-e.x, -e.y, t.resource.width, t.resource.height)), n.drawImage(t.resource, -e.x, -e.y), o;\n      }\n    }, {\n      key: \"getImageScaledToCanvas\",\n      value: function () {\n        var e = this.getDimensions(),\n            t = e.width,\n            o = e.height,\n            n = document.createElement(\"canvas\");\n        return this.isVertical() ? (n.width = o, n.height = t) : (n.width = t, n.height = o), this.paintImage(n.getContext(\"2d\"), this.state.image, 0, 1), n;\n      }\n    }, {\n      key: \"getXScale\",\n      value: function () {\n        var e = this.props.width / this.props.height,\n            t = this.state.image.width / this.state.image.height;\n        return Math.min(1, e / t);\n      }\n    }, {\n      key: \"getYScale\",\n      value: function () {\n        var e = this.props.height / this.props.width,\n            t = this.state.image.height / this.state.image.width;\n        return Math.min(1, e / t);\n      }\n    }, {\n      key: \"getCroppingRect\",\n      value: function () {\n        var e = this.props.position || {\n          x: this.state.image.x,\n          y: this.state.image.y\n        },\n            t = 1 / this.props.scale * this.getXScale(),\n            o = 1 / this.props.scale * this.getYScale(),\n            n = {\n          x: e.x - t / 2,\n          y: e.y - o / 2,\n          width: t,\n          height: o\n        },\n            a = 0,\n            r = 1 - n.width,\n            i = 0,\n            s = 1 - n.height;\n        return (this.props.disableBoundaryChecks || 1 < t || 1 < o) && (a = -n.width, i = -n.height, s = r = 1), y(y({}, n), {}, {\n          x: Math.max(a, Math.min(n.x, r)),\n          y: Math.max(i, Math.min(n.y, s))\n        });\n      }\n    }, {\n      key: \"loadImage\",\n      value: function (e) {\n        var t;\n        M && e instanceof File ? this.loadingImage = (t = e, new Promise(function (o, n) {\n          var e = new FileReader();\n          e.onload = function (e) {\n            try {\n              var t = v(e.target.result);\n              o(t);\n            } catch (e) {\n              n(e);\n            }\n          }, e.readAsDataURL(t);\n        }).then(this.handleImageReady).catch(this.props.onLoadFailure)) : \"string\" == typeof e && (this.loadingImage = v(e, this.props.crossOrigin).then(this.handleImageReady).catch(this.props.onLoadFailure));\n      }\n    }, {\n      key: \"getInitialSize\",\n      value: function (e, t) {\n        var o,\n            n,\n            a = this.getDimensions();\n        return t / e < a.height / a.width ? n = e * ((o = this.getDimensions().height) / t) : o = t * ((n = this.getDimensions().width) / e), {\n          height: o,\n          width: n\n        };\n      }\n    }, {\n      key: \"paintImage\",\n      value: function (e, t, o, n) {\n        var a,\n            r = 3 < arguments.length && void 0 !== n ? n : P;\n        t.resource && (a = this.calculatePosition(t, o), e.save(), e.translate(e.canvas.width / 2, e.canvas.height / 2), e.rotate(this.props.rotate * Math.PI / 180), e.translate(-e.canvas.width / 2, -e.canvas.height / 2), this.isVertical() && e.translate((e.canvas.width - e.canvas.height) / 2, (e.canvas.height - e.canvas.width) / 2), e.scale(r, r), e.globalCompositeOperation = \"destination-over\", e.drawImage(t.resource, a.x, a.y, a.width, a.height), t.backgroundColor && (e.fillStyle = t.backgroundColor, e.fillRect(a.x, a.y, a.width, a.height)), e.restore());\n      }\n    }, {\n      key: \"calculatePosition\",\n      value: function (e, t) {\n        e = e || this.state.image;\n        var o = m(this.getBorders(t), 2),\n            n = o[0],\n            a = o[1],\n            r = this.getCroppingRect(),\n            i = e.width * this.props.scale,\n            s = e.height * this.props.scale,\n            u = -r.x * i,\n            h = -r.y * s;\n        return this.isVertical() ? (u += a, h += n) : (u += n, h += a), {\n          x: u,\n          y: h,\n          height: s,\n          width: i\n        };\n      }\n    }, {\n      key: \"paint\",\n      value: function (e) {\n        e.save(), e.scale(P, P), e.translate(0, 0), e.fillStyle = \"rgba(\" + this.props.color.slice(0, 4).join(\",\") + \")\";\n        var t,\n            o,\n            n,\n            a,\n            r,\n            i,\n            s,\n            u,\n            h = this.props.borderRadius,\n            c = this.getDimensions(),\n            l = m(this.getBorders(c.border), 2),\n            d = l[0],\n            p = l[1],\n            g = c.canvas.height,\n            f = c.canvas.width,\n            h = Math.max(h, 0);\n        h = Math.min(h, f / 2 - d, g / 2 - p), e.beginPath(), t = e, a = f - 2 * (o = d), r = g - 2 * (n = p), 0 === (i = h) ? t.rect(o, n, a, r) : (s = a - i, u = r - i, t.translate(o, n), t.arc(i, i, i, Math.PI, 1.5 * Math.PI), t.lineTo(s, 0), t.arc(s, i, i, 1.5 * Math.PI, 2 * Math.PI), t.lineTo(a, u), t.arc(s, u, i, 2 * Math.PI, .5 * Math.PI), t.lineTo(i, r), t.arc(i, u, i, .5 * Math.PI, Math.PI), t.translate(-o, -n)), e.rect(f, 0, -f, g), e.fill(\"evenodd\"), e.restore();\n      }\n    }, {\n      key: \"render\",\n      value: function () {\n        var e = this.props,\n            t = (e.scale, e.rotate, e.image, e.border, e.borderRadius, e.width, e.height, e.position, e.color, e.backgroundColor, e.style),\n            o = (e.crossOrigin, e.onLoadFailure, e.onLoadSuccess, e.onImageReady, e.onImageChange, e.onMouseUp, e.onMouseMove, e.onPositionChange, e.disableBoundaryChecks, e.disableHiDPIScaling, e.disableCanvasRotation, l(e, [\"scale\", \"rotate\", \"image\", \"border\", \"borderRadius\", \"width\", \"height\", \"position\", \"color\", \"backgroundColor\", \"style\", \"crossOrigin\", \"onLoadFailure\", \"onLoadSuccess\", \"onImageReady\", \"onImageChange\", \"onMouseUp\", \"onMouseMove\", \"onPositionChange\", \"disableBoundaryChecks\", \"disableHiDPIScaling\", \"disableCanvasRotation\"])),\n            n = this.getDimensions(),\n            a = {\n          width: n.canvas.width,\n          height: n.canvas.height,\n          cursor: this.state.drag ? \"grabbing\" : \"grab\",\n          touchAction: \"none\"\n        },\n            r = {\n          width: n.canvas.width * P,\n          height: n.canvas.height * P,\n          style: y(y({}, a), t)\n        };\n        return r[I.react.down] = this.handleMouseDown, w && (r[I.react.mouseDown] = this.handleMouseDown), i.default.createElement(\"canvas\", u({\n          ref: this.setCanvas\n        }, r, o));\n      }\n    }]) && r(e.prototype, t), o && r(e, o), a;\n  }();\n\n  return s(x, \"propTypes\", {\n    scale: n.default.number,\n    rotate: n.default.number,\n    image: n.default.oneOfType([n.default.string].concat(function (e) {\n      if (Array.isArray(e)) return f(e);\n    }(b = M ? [n.default.instanceOf(File)] : []) || function (e) {\n      if (\"undefined\" != typeof Symbol && Symbol.iterator in Object(e)) return Array.from(e);\n    }(b) || g(b) || function () {\n      throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }())),\n    border: n.default.oneOfType([n.default.number, n.default.arrayOf(n.default.number)]),\n    borderRadius: n.default.number,\n    width: n.default.number,\n    height: n.default.number,\n    position: n.default.shape({\n      x: n.default.number,\n      y: n.default.number\n    }),\n    color: n.default.arrayOf(n.default.number),\n    backgroundColor: n.default.string,\n    crossOrigin: n.default.oneOf([\"\", \"anonymous\", \"use-credentials\"]),\n    onLoadFailure: n.default.func,\n    onLoadSuccess: n.default.func,\n    onImageReady: n.default.func,\n    onImageChange: n.default.func,\n    onMouseUp: n.default.func,\n    onMouseMove: n.default.func,\n    onPositionChange: n.default.func,\n    disableBoundaryChecks: n.default.bool,\n    disableHiDPIScaling: n.default.bool,\n    disableCanvasRotation: n.default.bool\n  }), s(x, \"defaultProps\", {\n    scale: 1,\n    rotate: 0,\n    border: 25,\n    borderRadius: 0,\n    width: 200,\n    height: 200,\n    color: [0, 0, 0, .5],\n    onLoadFailure: function () {},\n    onLoadSuccess: function () {},\n    onImageReady: function () {},\n    onImageChange: function () {},\n    onMouseUp: function () {},\n    onMouseMove: function () {},\n    onPositionChange: function () {},\n    disableBoundaryChecks: !1,\n    disableHiDPIScaling: !1,\n    disableCanvasRotation: !0\n  }), x;\n});","map":{"version":3,"sources":["/Users/Gary 1/Desktop/Code stuff/資策會/專題/大專/artddict-react/node_modules/react-avatar-editor/dist/index.js"],"names":["e","t","exports","module","require","define","amd","globalThis","self","AvatarEditor","PropTypes","React","o","default","n","i","r","length","enumerable","configurable","writable","Object","defineProperty","key","s","value","u","assign","arguments","prototype","hasOwnProperty","call","apply","a","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","push","y","forEach","getOwnPropertyDescriptors","defineProperties","h","setPrototypeOf","getPrototypeOf","__proto__","c","l","indexOf","propertyIsEnumerable","d","ReferenceError","p","Reflect","construct","sham","Proxy","Date","toString","constructor","m","Array","isArray","Symbol","iterator","next","done","return","g","TypeError","f","slice","name","from","test","v","Promise","Image","onload","onerror","match","crossOrigin","src","b","w","window","navigator","msMaxTouchPoints","M","File","O","touch","react","down","mouseDown","drag","move","mouseMove","up","mouseUp","native","desktop","I","P","devicePixelRatio","C","x","create","Component","my","mx","image","getInitialSize","width","height","resource","backgroundColor","props","setState","onImageReady","onLoadSuccess","canvas","getContext","clearRect","event","preventDefault","state","onMouseUp","targetTouches","pageX","clientX","pageY","clientY","rotate","scale","getCroppingRect","Math","PI","cos","sin","getXScale","getYScale","onPositionChange","onMouseMove","disableHiDPIScaling","loadImage","paint","document","get","addEventListener","removeEventListener","passive","handleMouseMove","handleMouseUp","clearImage","paintImage","border","position","onImageChange","disableCanvasRotation","getBorders","isVertical","createElement","translate","fillStyle","fillRect","drawImage","getDimensions","min","disableBoundaryChecks","max","loadingImage","FileReader","target","result","readAsDataURL","then","handleImageReady","catch","onLoadFailure","calculatePosition","save","globalCompositeOperation","restore","color","join","borderRadius","beginPath","rect","arc","lineTo","fill","style","cursor","touchAction","handleMouseDown","ref","setCanvas","number","oneOfType","string","concat","instanceOf","arrayOf","shape","oneOf","func","bool"],"mappings":"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","sourcesContent":["!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t(require(\"prop-types\"),require(\"react\")):\"function\"==typeof define&&define.amd?define([\"prop-types\",\"react\"],t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).AvatarEditor=t(e.PropTypes,e.React)}(this,function(e,t){\"use strict\";function o(e){return e&&\"object\"==typeof e&&\"default\"in e?e:{default:e}}var n=o(e),i=o(t);function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function a(t,e){var o,n=Object.keys(t);return Object.getOwnPropertySymbols&&(o=Object.getOwnPropertySymbols(t),e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)),n}function y(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?a(Object(o),!0).forEach(function(e){s(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){if(null==e)return{};var o,n=function(e,t){if(null==e)return{};for(var o,n={},a=Object.keys(e),r=0;r<a.length;r++)o=a[r],0<=t.indexOf(o)||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),r=0;r<a.length;r++)o=a[r],0<=t.indexOf(o)||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o]);return n}function d(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function p(r){var i=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,o,n,a=h(r);return t=i?(e=h(this).constructor,Reflect.construct(a,arguments,e)):a.apply(this,arguments),o=this,!(n=t)||\"object\"!=typeof n&&\"function\"!=typeof n?d(o):n}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(\"undefined\"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var o=[],n=!0,a=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(o.push(i.value),!t||o.length!==t);n=!0);}catch(e){a=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}return o}(e,t)||g(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function g(e,t){if(e){if(\"string\"==typeof e)return f(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===o&&e.constructor&&(o=e.constructor.name),\"Map\"===o||\"Set\"===o?Array.from(e):\"Arguments\"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function v(a,r){return new Promise(function(e,t){var o,n=new Image;n.onload=function(){return e(n)},n.onerror=t,!1==(null!==(o=a)&&!!o.match(/^\\s*data:([a-z]+\\/[a-z]+(;[a-z-]+=[a-z-]+)?)?(;base64)?,[a-z0-9!$&',()*+;=\\-._~:@/?%\\s]*\\s*$/i))&&r&&(n.crossOrigin=r),n.src=a})}var b,w=!(\"undefined\"==typeof window||\"undefined\"==typeof navigator||!(\"ontouchstart\"in window||0<navigator.msMaxTouchPoints)),M=\"undefined\"!=typeof File,O={touch:{react:{down:\"onTouchStart\",mouseDown:\"onMouseDown\",drag:\"onTouchMove\",move:\"onTouchMove\",mouseMove:\"onMouseMove\",up:\"onTouchEnd\",mouseUp:\"onMouseUp\"},native:{down:\"touchstart\",mouseDown:\"mousedown\",drag:\"touchmove\",move:\"touchmove\",mouseMove:\"mousemove\",up:\"touchend\",mouseUp:\"mouseup\"}},desktop:{react:{down:\"onMouseDown\",drag:\"onDragOver\",move:\"onMouseMove\",up:\"onMouseUp\"},native:{down:\"mousedown\",drag:\"dragStart\",move:\"mousemove\",up:\"mouseup\"}}},I=w?O.touch:O.desktop,P=\"undefined\"!=typeof window&&window.devicePixelRatio?window.devicePixelRatio:1,C={x:.5,y:.5},x=function(){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(a,i[\"default\"].Component);var e,t,o,n=p(a);function a(e){var v;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),s(d(v=n.call(this,e)),\"state\",{drag:!1,my:null,mx:null,image:C}),s(d(v),\"handleImageReady\",function(e){var t=v.getInitialSize(e.width,e.height);t.resource=e,t.x=.5,t.y=.5,t.backgroundColor=v.props.backgroundColor,v.setState({drag:!1,image:t},v.props.onImageReady),v.props.onLoadSuccess(t)}),s(d(v),\"clearImage\",function(){v.canvas.getContext(\"2d\").clearRect(0,0,v.canvas.width,v.canvas.height),v.setState({image:C})}),s(d(v),\"handleMouseDown\",function(e){(e=e||window.event).preventDefault(),v.setState({drag:!0,mx:null,my:null})}),s(d(v),\"handleMouseUp\",function(){v.state.drag&&(v.setState({drag:!1}),v.props.onMouseUp())}),s(d(v),\"handleMouseMove\",function(e){var t,o,n,a,r,i,s,u,h,c,l,d,p,g,f,m;e=e||window.event,!1!==v.state.drag&&(e.preventDefault(),n={mx:t=e.targetTouches?e.targetTouches[0].pageX:e.clientX,my:o=e.targetTouches?e.targetTouches[0].pageY:e.clientY},m=v.props.rotate,m=(m%=360)<0?m+360:m,v.state.mx&&v.state.my&&(a=v.state.mx-t,r=v.state.my-o,i=v.state.image.width*v.props.scale,s=v.state.image.height*v.props.scale,h=(u=v.getCroppingRect()).x,c=u.y,h*=i,c*=s,l=function(e){return e*(Math.PI/180)},d=Math.cos(l(m)),g=c+-a*(p=Math.sin(l(m)))+r*d,f={x:(h+a*d+r*p)/i+1/v.props.scale*v.getXScale()/2,y:g/s+1/v.props.scale*v.getYScale()/2},v.props.onPositionChange(f),n.image=y(y({},v.state.image),f)),v.setState(n),v.props.onMouseMove(e))}),s(d(v),\"setCanvas\",function(e){v.canvas=e}),v.canvas=null,v}return e=a,(t=[{key:\"componentDidMount\",value:function(){this.props.disableHiDPIScaling&&(P=1);var e,t,o=this.canvas.getContext(\"2d\");this.props.image&&this.loadImage(this.props.image),this.paint(o),document&&(e=!!function(){var t=!1;try{var e=Object.defineProperty({},\"passive\",{get:function(){t=!0}});window.addEventListener(\"test\",e,e),window.removeEventListener(\"test\",e,e)}catch(e){t=!1}return t}()&&{passive:!1},t=I.native,document.addEventListener(t.move,this.handleMouseMove,e),document.addEventListener(t.up,this.handleMouseUp,e),w&&(document.addEventListener(t.mouseMove,this.handleMouseMove,e),document.addEventListener(t.mouseUp,this.handleMouseUp,e)))}},{key:\"componentDidUpdate\",value:function(e,t){this.props.image&&this.props.image!==e.image||this.props.width!==e.width||this.props.height!==e.height||this.props.backgroundColor!==e.backgroundColor?this.loadImage(this.props.image):this.props.image||t.image===C||this.clearImage();var o=this.canvas.getContext(\"2d\");o.clearRect(0,0,this.canvas.width,this.canvas.height),this.paint(o),this.paintImage(o,this.state.image,this.props.border),e.image===this.props.image&&e.width===this.props.width&&e.height===this.props.height&&e.position===this.props.position&&e.scale===this.props.scale&&e.rotate===this.props.rotate&&t.my===this.state.my&&t.mx===this.state.mx&&t.image.x===this.state.image.x&&t.image.y===this.state.image.y&&t.backgroundColor===this.state.backgroundColor||this.props.onImageChange()}},{key:\"componentWillUnmount\",value:function(){var e;document&&(e=I.native,document.removeEventListener(e.move,this.handleMouseMove,!1),document.removeEventListener(e.up,this.handleMouseUp,!1),w&&(document.removeEventListener(e.mouseMove,this.handleMouseMove,!1),document.removeEventListener(e.mouseUp,this.handleMouseUp,!1)))}},{key:\"isVertical\",value:function(){return!this.props.disableCanvasRotation&&this.props.rotate%180!=0}},{key:\"getBorders\",value:function(e){var t=0<arguments.length&&void 0!==e?e:this.props.border;return Array.isArray(t)?t:[t,t]}},{key:\"getDimensions\",value:function(){var e=this.props,t=e.width,o=e.height,n=e.rotate,a=e.border,r={},i=m(this.getBorders(a),2),s=i[0],u=i[1],h=t,c=o;return this.isVertical()?(r.width=c,r.height=h):(r.width=h,r.height=c),r.width+=2*s,r.height+=2*u,{canvas:r,rotate:n,width:t,height:o,border:a}}},{key:\"getImage\",value:function(){var e=this.getCroppingRect(),t=this.state.image;e.x*=t.resource.width,e.y*=t.resource.height,e.width*=t.resource.width,e.height*=t.resource.height;var o=document.createElement(\"canvas\");this.isVertical()?(o.width=e.height,o.height=e.width):(o.width=e.width,o.height=e.height);var n=o.getContext(\"2d\");return n.translate(o.width/2,o.height/2),n.rotate(this.props.rotate*Math.PI/180),n.translate(-o.width/2,-o.height/2),this.isVertical()&&n.translate((o.width-o.height)/2,(o.height-o.width)/2),t.backgroundColor&&(n.fillStyle=t.backgroundColor,n.fillRect(-e.x,-e.y,t.resource.width,t.resource.height)),n.drawImage(t.resource,-e.x,-e.y),o}},{key:\"getImageScaledToCanvas\",value:function(){var e=this.getDimensions(),t=e.width,o=e.height,n=document.createElement(\"canvas\");return this.isVertical()?(n.width=o,n.height=t):(n.width=t,n.height=o),this.paintImage(n.getContext(\"2d\"),this.state.image,0,1),n}},{key:\"getXScale\",value:function(){var e=this.props.width/this.props.height,t=this.state.image.width/this.state.image.height;return Math.min(1,e/t)}},{key:\"getYScale\",value:function(){var e=this.props.height/this.props.width,t=this.state.image.height/this.state.image.width;return Math.min(1,e/t)}},{key:\"getCroppingRect\",value:function(){var e=this.props.position||{x:this.state.image.x,y:this.state.image.y},t=1/this.props.scale*this.getXScale(),o=1/this.props.scale*this.getYScale(),n={x:e.x-t/2,y:e.y-o/2,width:t,height:o},a=0,r=1-n.width,i=0,s=1-n.height;return(this.props.disableBoundaryChecks||1<t||1<o)&&(a=-n.width,i=-n.height,s=r=1),y(y({},n),{},{x:Math.max(a,Math.min(n.x,r)),y:Math.max(i,Math.min(n.y,s))})}},{key:\"loadImage\",value:function(e){var t;M&&e instanceof File?this.loadingImage=(t=e,new Promise(function(o,n){var e=new FileReader;e.onload=function(e){try{var t=v(e.target.result);o(t)}catch(e){n(e)}},e.readAsDataURL(t)}).then(this.handleImageReady).catch(this.props.onLoadFailure)):\"string\"==typeof e&&(this.loadingImage=v(e,this.props.crossOrigin).then(this.handleImageReady).catch(this.props.onLoadFailure))}},{key:\"getInitialSize\",value:function(e,t){var o,n,a=this.getDimensions();return t/e<a.height/a.width?n=e*((o=this.getDimensions().height)/t):o=t*((n=this.getDimensions().width)/e),{height:o,width:n}}},{key:\"paintImage\",value:function(e,t,o,n){var a,r=3<arguments.length&&void 0!==n?n:P;t.resource&&(a=this.calculatePosition(t,o),e.save(),e.translate(e.canvas.width/2,e.canvas.height/2),e.rotate(this.props.rotate*Math.PI/180),e.translate(-e.canvas.width/2,-e.canvas.height/2),this.isVertical()&&e.translate((e.canvas.width-e.canvas.height)/2,(e.canvas.height-e.canvas.width)/2),e.scale(r,r),e.globalCompositeOperation=\"destination-over\",e.drawImage(t.resource,a.x,a.y,a.width,a.height),t.backgroundColor&&(e.fillStyle=t.backgroundColor,e.fillRect(a.x,a.y,a.width,a.height)),e.restore())}},{key:\"calculatePosition\",value:function(e,t){e=e||this.state.image;var o=m(this.getBorders(t),2),n=o[0],a=o[1],r=this.getCroppingRect(),i=e.width*this.props.scale,s=e.height*this.props.scale,u=-r.x*i,h=-r.y*s;return this.isVertical()?(u+=a,h+=n):(u+=n,h+=a),{x:u,y:h,height:s,width:i}}},{key:\"paint\",value:function(e){e.save(),e.scale(P,P),e.translate(0,0),e.fillStyle=\"rgba(\"+this.props.color.slice(0,4).join(\",\")+\")\";var t,o,n,a,r,i,s,u,h=this.props.borderRadius,c=this.getDimensions(),l=m(this.getBorders(c.border),2),d=l[0],p=l[1],g=c.canvas.height,f=c.canvas.width,h=Math.max(h,0);h=Math.min(h,f/2-d,g/2-p),e.beginPath(),t=e,a=f-2*(o=d),r=g-2*(n=p),0===(i=h)?t.rect(o,n,a,r):(s=a-i,u=r-i,t.translate(o,n),t.arc(i,i,i,Math.PI,1.5*Math.PI),t.lineTo(s,0),t.arc(s,i,i,1.5*Math.PI,2*Math.PI),t.lineTo(a,u),t.arc(s,u,i,2*Math.PI,.5*Math.PI),t.lineTo(i,r),t.arc(i,u,i,.5*Math.PI,Math.PI),t.translate(-o,-n)),e.rect(f,0,-f,g),e.fill(\"evenodd\"),e.restore()}},{key:\"render\",value:function(){var e=this.props,t=(e.scale,e.rotate,e.image,e.border,e.borderRadius,e.width,e.height,e.position,e.color,e.backgroundColor,e.style),o=(e.crossOrigin,e.onLoadFailure,e.onLoadSuccess,e.onImageReady,e.onImageChange,e.onMouseUp,e.onMouseMove,e.onPositionChange,e.disableBoundaryChecks,e.disableHiDPIScaling,e.disableCanvasRotation,l(e,[\"scale\",\"rotate\",\"image\",\"border\",\"borderRadius\",\"width\",\"height\",\"position\",\"color\",\"backgroundColor\",\"style\",\"crossOrigin\",\"onLoadFailure\",\"onLoadSuccess\",\"onImageReady\",\"onImageChange\",\"onMouseUp\",\"onMouseMove\",\"onPositionChange\",\"disableBoundaryChecks\",\"disableHiDPIScaling\",\"disableCanvasRotation\"])),n=this.getDimensions(),a={width:n.canvas.width,height:n.canvas.height,cursor:this.state.drag?\"grabbing\":\"grab\",touchAction:\"none\"},r={width:n.canvas.width*P,height:n.canvas.height*P,style:y(y({},a),t)};return r[I.react.down]=this.handleMouseDown,w&&(r[I.react.mouseDown]=this.handleMouseDown),i.default.createElement(\"canvas\",u({ref:this.setCanvas},r,o))}}])&&r(e.prototype,t),o&&r(e,o),a}();return s(x,\"propTypes\",{scale:n.default.number,rotate:n.default.number,image:n.default.oneOfType([n.default.string].concat(function(e){if(Array.isArray(e))return f(e)}(b=M?[n.default.instanceOf(File)]:[])||function(e){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(b)||g(b)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}())),border:n.default.oneOfType([n.default.number,n.default.arrayOf(n.default.number)]),borderRadius:n.default.number,width:n.default.number,height:n.default.number,position:n.default.shape({x:n.default.number,y:n.default.number}),color:n.default.arrayOf(n.default.number),backgroundColor:n.default.string,crossOrigin:n.default.oneOf([\"\",\"anonymous\",\"use-credentials\"]),onLoadFailure:n.default.func,onLoadSuccess:n.default.func,onImageReady:n.default.func,onImageChange:n.default.func,onMouseUp:n.default.func,onMouseMove:n.default.func,onPositionChange:n.default.func,disableBoundaryChecks:n.default.bool,disableHiDPIScaling:n.default.bool,disableCanvasRotation:n.default.bool}),s(x,\"defaultProps\",{scale:1,rotate:0,border:25,borderRadius:0,width:200,height:200,color:[0,0,0,.5],onLoadFailure:function(){},onLoadSuccess:function(){},onImageReady:function(){},onImageChange:function(){},onMouseUp:function(){},onMouseMove:function(){},onPositionChange:function(){},disableBoundaryChecks:!1,disableHiDPIScaling:!1,disableCanvasRotation:!0}),x});\n"]},"metadata":{},"sourceType":"script"}