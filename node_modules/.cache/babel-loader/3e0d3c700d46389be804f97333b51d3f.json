{"ast":null,"code":"var _jsxFileName = \"/Users/Gary 1/Desktop/Code stuff/\\u8CC7\\u7B56\\u6703/\\u5C08\\u984C/\\u5927\\u5C08/artddict-react/src/pages/user/Login.js\",\n    _s = $RefreshSig$();\n\nimport { Carousel, Container } from 'react-bootstrap';\nimport React, { useState } from 'react';\nimport './styles/Login.scss';\nimport { Link } from 'react-router-dom';\nimport Logoheader from './components/Logoheader';\nimport swal from 'sweetalert'; // images\n\nimport pic1 from './img/1.png';\nimport pic2 from './img/2.png';\nimport pic3 from './img/3.png';\nimport pic4 from './img/4.png';\nimport pic5 from './img/5.png';\nimport pic6 from './img/6.png';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Login(props) {\n  _s();\n\n  const [dataLoading, setDataLoading] = useState(false);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n\n  async function loginToServer() {\n    // 開啟載入指示\n    setDataLoading(true);\n    const newData = {\n      username,\n      password\n    }; // 連接的伺服器資料網址\n\n    const url = 'http://localhost:6005/users/login';\n    console.log(JSON.stringify(newData)); // 用axios登入\n    // const data = {}\n\n    const data = await axios.post(url, newData).then(function (response) {\n      console.log(response.data); // const data = response.data\n\n      localStorage.setItem('token', response.data.token);\n      return response.data;\n    }).catch(function (error) {\n      console.log(error);\n    });\n    console.log('response = ', data); // console.log('伺服器回傳的json資料', data)\n\n    console.log('data = ', data); // 要等驗証過，再設定資料(簡單的直接設定)\n\n    if (data.id) {\n      swal({\n        text: '登入成功！',\n        icon: 'success',\n        button: false,\n        timer: 1500\n      }); // 如果登入成功\n      // 改動react App母層變數以紀錄現在的用戶登入狀態\n      // setCurrentUser(data.id)\n    } else {\n      swal({\n        text: '帳號或密碼有誤，請重新登入',\n        icon: 'error',\n        button: false,\n        timer: 1500\n      });\n    } //直接在一段x秒關掉指示器\n\n\n    setTimeout(() => {\n      setDataLoading(false); // if (data.id != undefined) {\n\n      if (data.success == true) {\n        window.location.replace(`../user-msgedit/${data.id}`);\n        return data.id;\n      } else {\n        setUsername('');\n        setPassword('');\n        return 0;\n      }\n    }, 1000);\n  }\n\n  async function getjwtvertifyFromServer() {\n    // 檢查瀏覽器 token\n    const token = localStorage.getItem('token');\n    const response = await fetch('http://localhost:6005/users/checklogin', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        token\n      })\n    });\n    const data = await response.json();\n    console.log('check login response = ', data);\n    console.log('data.id = ', data.id);\n\n    if (data.success == true) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  const fastuserlogin = () => {\n    setUsername('artddict123@gmail.com');\n    setPassword('556788123');\n  };\n\n  const userData = () => {\n    setUsername('test123@gmail.com');\n    setPassword('1234567');\n  };\n\n  const loading = /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"u-body\",\n      children: [/*#__PURE__*/_jsxDEV(Logoheader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner-border\",\n          role: \"status\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"sr-only\",\n            children: \"Loading...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n\n  const display = /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"u-body\",\n      children: [/*#__PURE__*/_jsxDEV(Logoheader, {\n        show_user_name: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        className: \"d-flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"u-contanier1 col-lg-6 d-none d-lg-block d-xl-block\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"u-img-carousel\",\n            children: /*#__PURE__*/_jsxDEV(Carousel, {\n              fade: true,\n              controls: false,\n              indicators: false,\n              children: [/*#__PURE__*/_jsxDEV(Carousel.Item, {\n                interval: 3000,\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"d-block w-100 \",\n                  src: pic1,\n                  alt: \"First slide\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 147,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Carousel.Item, {\n                interval: 3000,\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"d-block w-100 \",\n                  src: pic6,\n                  alt: \"Second slide\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Carousel.Item, {\n                interval: 3000,\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"d-block w-100\",\n                  src: pic3,\n                  alt: \"Third slide\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Carousel.Item, {\n                interval: 3000,\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"d-block w-100 \",\n                  src: pic4,\n                  alt: \"Third slide\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Carousel.Item, {\n                interval: 3000,\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"d-block w-100\",\n                  src: pic5,\n                  alt: \"Third slide\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Carousel.Item, {\n                interval: 3000,\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"d-block w-100\",\n                  src: pic2,\n                  alt: \"Third slide\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"u-title01\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u52A0\\u5165\\u6703\\u54E1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"fastuserlogin\",\n              onClick: fastuserlogin\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"u-title02\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u7CBE\\u9078\\u597D\\u7269\\u76E1\\u5728ArtDDICT\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"u-title03\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u85DD\\u6587\\u6D3B\\u52D5\\u6436\\u5148\\u77E5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"u-container2  col-lg-6 col-sm-12\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"u-membertile\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"MEMBERSHIP\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"u-addInput\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"u-addbutton d-flex justify-content-around\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"u-loginbtn\",\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/user-login\",\n                  children: \"\\u767B\\u5165\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"u-addbtn\",\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/user-add\",\n                  children: \"\\u8A3B\\u518A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              action: \"\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"form-group u-form\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  value: username,\n                  type: \"email\",\n                  class: \"form-control\",\n                  id: \"email\",\n                  \"aria-describedby\": \"emailHelp\",\n                  placeholder: \"\\u8ACB\\u8F38\\u5165\\u4FE1\\u7BB1\",\n                  onChange: event => {\n                    setUsername(event.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"form-group u-form\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  value: password,\n                  type: \"password\",\n                  class: \"form-control\",\n                  id: \"password1\",\n                  placeholder: \"\\u8ACB\\u8F38\\u5165\\u5BC6\\u78BC\",\n                  onChange: event => {\n                    setPassword(event.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"small\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"u-forgetPwd\",\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: \"#/\",\n                      children: \"\\u5FD8\\u8A18\\u5BC6\\u78BC\\uFF1F\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 249,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 248,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"u-AddBtn fastuserloginup\",\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  onClick: () => {\n                    loginToServer();\n                  },\n                  className: \"u-link1\",\n                  style: {\n                    textDecoration: 'none'\n                  },\n                  children: \"\\u767B\\u5165\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"userData\",\n              onClick: userData\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: dataLoading ? loading : display\n  }, void 0, false);\n}\n\n_s(Login, \"KqgiFLnyb1+MQt6M+kkf8Swjm/I=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/Gary 1/Desktop/Code stuff/資策會/專題/大專/artddict-react/src/pages/user/Login.js"],"names":["Carousel","Container","React","useState","Link","Logoheader","swal","pic1","pic2","pic3","pic4","pic5","pic6","axios","Login","props","dataLoading","setDataLoading","username","setUsername","password","setPassword","loginToServer","newData","url","console","log","JSON","stringify","data","post","then","response","localStorage","setItem","token","catch","error","id","text","icon","button","timer","setTimeout","success","window","location","replace","getjwtvertifyFromServer","getItem","fetch","method","headers","body","json","fastuserlogin","userData","loading","display","event","target","value","textDecoration"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,iBAApC;AACA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAO,qBAAP;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,IAAP,MAAiB,YAAjB,C,CACA;;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;;AAEA,SAASC,KAAT,CAAeC,KAAf,EAAsB;AAAA;;AACpB,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCd,QAAQ,CAAC,KAAD,CAA9C;AACA,QAAM,CAACe,QAAD,EAAWC,WAAX,IAA0BhB,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACiB,QAAD,EAAWC,WAAX,IAA0BlB,QAAQ,CAAC,EAAD,CAAxC;;AAEA,iBAAemB,aAAf,GAA+B;AAC7B;AACAL,IAAAA,cAAc,CAAC,IAAD,CAAd;AAEA,UAAMM,OAAO,GAAG;AAAEL,MAAAA,QAAF;AAAYE,MAAAA;AAAZ,KAAhB,CAJ6B,CAM7B;;AACA,UAAMI,GAAG,GAAG,mCAAZ;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAeL,OAAf,CAAZ,EAR6B,CAU7B;AACA;;AACA,UAAMM,IAAI,GAAG,MAAMhB,KAAK,CACrBiB,IADgB,CACXN,GADW,EACND,OADM,EAEhBQ,IAFgB,CAEX,UAAUC,QAAV,EAAoB;AACxBP,MAAAA,OAAO,CAACC,GAAR,CAAYM,QAAQ,CAACH,IAArB,EADwB,CAExB;;AACAI,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,QAAQ,CAACH,IAAT,CAAcM,KAA5C;AACA,aAAOH,QAAQ,CAACH,IAAhB;AACD,KAPgB,EAQhBO,KARgB,CAQV,UAAUC,KAAV,EAAiB;AACtBZ,MAAAA,OAAO,CAACC,GAAR,CAAYW,KAAZ;AACD,KAVgB,CAAnB;AAWAZ,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BG,IAA3B,EAvB6B,CAyB7B;;AACAJ,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBG,IAAvB,EA1B6B,CA2B7B;;AACA,QAAIA,IAAI,CAACS,EAAT,EAAa;AACXhC,MAAAA,IAAI,CAAC;AACHiC,QAAAA,IAAI,EAAE,OADH;AAEHC,QAAAA,IAAI,EAAE,SAFH;AAGHC,QAAAA,MAAM,EAAE,KAHL;AAIHC,QAAAA,KAAK,EAAE;AAJJ,OAAD,CAAJ,CADW,CAOX;AACA;AACA;AACD,KAVD,MAUO;AACLpC,MAAAA,IAAI,CAAC;AACHiC,QAAAA,IAAI,EAAE,eADH;AAEHC,QAAAA,IAAI,EAAE,OAFH;AAGHC,QAAAA,MAAM,EAAE,KAHL;AAIHC,QAAAA,KAAK,EAAE;AAJJ,OAAD,CAAJ;AAMD,KA7C4B,CA+C7B;;;AACAC,IAAAA,UAAU,CAAC,MAAM;AACf1B,MAAAA,cAAc,CAAC,KAAD,CAAd,CADe,CAEf;;AACA,UAAIY,IAAI,CAACe,OAAL,IAAgB,IAApB,EAA0B;AACxBC,QAAAA,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CACG,mBAAkBlB,IAAI,CAACS,EAAG,EAD7B;AAGA,eAAOT,IAAI,CAACS,EAAZ;AACD,OALD,MAKO;AACLnB,QAAAA,WAAW,CAAC,EAAD,CAAX;AACAE,QAAAA,WAAW,CAAC,EAAD,CAAX;AACA,eAAO,CAAP;AACD;AACF,KAbS,EAaP,IAbO,CAAV;AAcD;;AAED,iBAAe2B,uBAAf,GAAyC;AACvC;AACA,UAAMb,KAAK,GAAGF,YAAY,CAACgB,OAAb,CAAqB,OAArB,CAAd;AAEA,UAAMjB,QAAQ,GAAG,MAAMkB,KAAK,CAC1B,wCAD0B,EAE1B;AACEC,MAAAA,MAAM,EAAE,MADV;AAEEC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFX;AAKEC,MAAAA,IAAI,EAAE1B,IAAI,CAACC,SAAL,CAAe;AACnBO,QAAAA;AADmB,OAAf;AALR,KAF0B,CAA5B;AAaA,UAAMN,IAAI,GAAG,MAAMG,QAAQ,CAACsB,IAAT,EAAnB;AACA7B,IAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCG,IAAvC;AACAJ,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BG,IAAI,CAACS,EAA/B;;AACA,QAAIT,IAAI,CAACe,OAAL,IAAgB,IAApB,EAA0B;AACxB,aAAO,IAAP;AACD,KAFD,MAEO;AACL,aAAO,KAAP;AACD;AACF;;AACD,QAAMW,aAAa,GAAG,MAAM;AAC1BpC,IAAAA,WAAW,CAAC,uBAAD,CAAX;AACAE,IAAAA,WAAW,CAAC,WAAD,CAAX;AACD,GAHD;;AAKA,QAAMmC,QAAQ,GAAG,MAAM;AACrBrC,IAAAA,WAAW,CAAC,mBAAD,CAAX;AACAE,IAAAA,WAAW,CAAC,SAAD,CAAX;AACD,GAHD;;AAKA,QAAMoC,OAAO,gBACX;AAAA,2BACE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA,8BACE,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAK,QAAA,SAAS,EAAC,+BAAf;AAAA,+BACE;AAAK,UAAA,SAAS,EAAC,gBAAf;AAAgC,UAAA,IAAI,EAAC,QAArC;AAAA,iCACE;AAAM,YAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF,mBADF;;AAaA,QAAMC,OAAO,gBACX;AAAA,2BACE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA,8BACE,QAAC,UAAD;AAAY,QAAA,cAAc,EAAE;AAA5B;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,SAAD;AAAW,QAAA,SAAS,EAAC,QAArB;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,oDAAf;AAAA,kCACE;AAAK,YAAA,SAAS,EAAC,gBAAf;AAAA,mCACE,QAAC,QAAD;AACE,cAAA,IAAI,MADN;AAEE,cAAA,QAAQ,EAAE,KAFZ;AAGE,cAAA,UAAU,EAAE,KAHd;AAAA,sCAKE,QAAC,QAAD,CAAU,IAAV;AAAe,gBAAA,QAAQ,EAAE,IAAzB;AAAA,uCACE;AACE,kBAAA,SAAS,EAAC,gBADZ;AAEE,kBAAA,GAAG,EAAEnD,IAFP;AAGE,kBAAA,GAAG,EAAC;AAHN;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBALF,eAYE,QAAC,QAAD,CAAU,IAAV;AAAe,gBAAA,QAAQ,EAAE,IAAzB;AAAA,uCACE;AACE,kBAAA,SAAS,EAAC,gBADZ;AAEE,kBAAA,GAAG,EAAEK,IAFP;AAGE,kBAAA,GAAG,EAAC;AAHN;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBAZF,eAmBE,QAAC,QAAD,CAAU,IAAV;AAAe,gBAAA,QAAQ,EAAE,IAAzB;AAAA,uCACE;AACE,kBAAA,SAAS,EAAC,eADZ;AAEE,kBAAA,GAAG,EAAEH,IAFP;AAGE,kBAAA,GAAG,EAAC;AAHN;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBAnBF,eA0BE,QAAC,QAAD,CAAU,IAAV;AAAe,gBAAA,QAAQ,EAAE,IAAzB;AAAA,uCACE;AACE,kBAAA,SAAS,EAAC,gBADZ;AAEE,kBAAA,GAAG,EAAEC,IAFP;AAGE,kBAAA,GAAG,EAAC;AAHN;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBA1BF,eAiCE,QAAC,QAAD,CAAU,IAAV;AAAe,gBAAA,QAAQ,EAAE,IAAzB;AAAA,uCACE;AACE,kBAAA,SAAS,EAAC,eADZ;AAEE,kBAAA,GAAG,EAAEC,IAFP;AAGE,kBAAA,GAAG,EAAC;AAHN;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBAjCF,eAwCE,QAAC,QAAD,CAAU,IAAV;AAAe,gBAAA,QAAQ,EAAE,IAAzB;AAAA,uCACE;AACE,kBAAA,SAAS,EAAC,eADZ;AAEE,kBAAA,GAAG,EAAEH,IAFP;AAGE,kBAAA,GAAG,EAAC;AAHN;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBAxCF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eAmDE;AAAK,YAAA,SAAS,EAAC,WAAf;AAAA,oCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AACE,cAAA,SAAS,EAAC,eADZ;AAEE,cAAA,OAAO,EAAE+C;AAFX;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAnDF,eA0DE;AAAK,YAAA,SAAS,EAAC,WAAf;AAAA,mCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBA1DF,eA6DE;AAAK,YAAA,SAAS,EAAC,WAAf;AAAA,mCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBA7DF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAmEE;AAAK,UAAA,SAAS,EAAC,kCAAf;AAAA,kCACE;AAAK,YAAA,SAAS,EAAC,cAAf;AAAA,mCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eAIE;AAAK,YAAA,SAAS,EAAC,YAAf;AAAA,oCACE;AAAK,cAAA,SAAS,EAAC,2CAAf;AAAA,sCACE;AAAK,gBAAA,SAAS,EAAC,YAAf;AAAA,uCACE,QAAC,IAAD;AAAM,kBAAA,EAAE,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBADF,eAIE;AAAK,gBAAA,SAAS,EAAC,UAAf;AAAA,uCACE,QAAC,IAAD;AAAM,kBAAA,EAAE,EAAC,WAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAUE;AAAM,cAAA,MAAM,EAAC,EAAb;AAAA,sCACE;AAAK,gBAAA,KAAK,EAAC,mBAAX;AAAA,uCACE;AACE,kBAAA,KAAK,EAAErC,QADT;AAEE,kBAAA,IAAI,EAAC,OAFP;AAGE,kBAAA,KAAK,EAAC,cAHR;AAIE,kBAAA,EAAE,EAAC,OAJL;AAKE,sCAAiB,WALnB;AAME,kBAAA,WAAW,EAAC,gCANd;AAOE,kBAAA,QAAQ,EAAGyC,KAAD,IAAW;AACnBxC,oBAAAA,WAAW,CAACwC,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX;AACD;AATH;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBADF,eAeE;AAAK,gBAAA,KAAK,EAAC,mBAAX;AAAA,uCACE;AACE,kBAAA,KAAK,EAAEzC,QADT;AAEE,kBAAA,IAAI,EAAC,UAFP;AAGE,kBAAA,KAAK,EAAC,cAHR;AAIE,kBAAA,EAAE,EAAC,WAJL;AAKE,kBAAA,WAAW,EAAC,gCALd;AAME,kBAAA,QAAQ,EAAGuC,KAAD,IAAW;AACnBtC,oBAAAA,WAAW,CAACsC,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX;AACD;AARH;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBAfF,eA2BE;AAAA,uCACE;AAAA,yCACE;AAAK,oBAAA,SAAS,EAAC,aAAf;AAAA,2CACE;AAAG,sBAAA,IAAI,EAAC,IAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBA3BF,eAkCE;AAAK,gBAAA,SAAS,EAAC,0BAAf;AAAA,uCACE,QAAC,IAAD;AACE,kBAAA,OAAO,EAAE,MAAM;AACbvC,oBAAAA,aAAa;AACd,mBAHH;AAIE,kBAAA,SAAS,EAAC,SAJZ;AAKE,kBAAA,KAAK,EAAE;AAAEwC,oBAAAA,cAAc,EAAE;AAAlB,mBALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBAlCF;AAAA;AAAA;AAAA;AAAA;AAAA,oBAVF,eAwDE;AACE,cAAA,SAAS,EAAC,UADZ;AAEE,cAAA,OAAO,EAAEN;AAFX;AAAA;AAAA;AAAA;AAAA,oBAxDF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAnEF;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF,mBADF;;AA8IA,sBAAO;AAAA,cAAGxC,WAAW,GAAGyC,OAAH,GAAaC;AAA3B,mBAAP;AACD;;GArQQ5C,K;;KAAAA,K;AAuQT,eAAeA,KAAf","sourcesContent":["import { Carousel, Container } from 'react-bootstrap'\nimport React, { useState } from 'react'\nimport './styles/Login.scss'\nimport { Link } from 'react-router-dom'\nimport Logoheader from './components/Logoheader'\nimport swal from 'sweetalert'\n// images\nimport pic1 from './img/1.png'\nimport pic2 from './img/2.png'\nimport pic3 from './img/3.png'\nimport pic4 from './img/4.png'\nimport pic5 from './img/5.png'\nimport pic6 from './img/6.png'\nimport axios from 'axios'\n\nfunction Login(props) {\n  const [dataLoading, setDataLoading] = useState(false)\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n\n  async function loginToServer() {\n    // 開啟載入指示\n    setDataLoading(true)\n\n    const newData = { username, password }\n\n    // 連接的伺服器資料網址\n    const url = 'http://localhost:6005/users/login'\n    console.log(JSON.stringify(newData))\n\n    // 用axios登入\n    // const data = {}\n    const data = await axios\n      .post(url, newData)\n      .then(function (response) {\n        console.log(response.data)\n        // const data = response.data\n        localStorage.setItem('token', response.data.token)\n        return response.data\n      })\n      .catch(function (error) {\n        console.log(error)\n      })\n    console.log('response = ', data)\n\n    // console.log('伺服器回傳的json資料', data)\n    console.log('data = ', data)\n    // 要等驗証過，再設定資料(簡單的直接設定)\n    if (data.id) {\n      swal({\n        text: '登入成功！',\n        icon: 'success',\n        button: false,\n        timer: 1500,\n      })\n      // 如果登入成功\n      // 改動react App母層變數以紀錄現在的用戶登入狀態\n      // setCurrentUser(data.id)\n    } else {\n      swal({\n        text: '帳號或密碼有誤，請重新登入',\n        icon: 'error',\n        button: false,\n        timer: 1500,\n      })\n    }\n\n    //直接在一段x秒關掉指示器\n    setTimeout(() => {\n      setDataLoading(false)\n      // if (data.id != undefined) {\n      if (data.success == true) {\n        window.location.replace(\n          `../user-msgedit/${data.id}`\n        )\n        return data.id\n      } else {\n        setUsername('')\n        setPassword('')\n        return 0\n      }\n    }, 1000)\n  }\n\n  async function getjwtvertifyFromServer() {\n    // 檢查瀏覽器 token\n    const token = localStorage.getItem('token')\n\n    const response = await fetch(\n      'http://localhost:6005/users/checklogin',\n      {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          token,\n        }),\n      }\n    )\n\n    const data = await response.json()\n    console.log('check login response = ', data)\n    console.log('data.id = ', data.id)\n    if (data.success == true) {\n      return true\n    } else {\n      return false\n    }\n  }\n  const fastuserlogin = () => {\n    setUsername('artddict123@gmail.com')\n    setPassword('556788123')\n  }\n\n  const userData = () => {\n    setUsername('test123@gmail.com')\n    setPassword('1234567')\n  }\n\n  const loading = (\n    <>\n      <div className=\"u-body\">\n        <Logoheader />\n        <div className=\"d-flex justify-content-center\">\n          <div className=\"spinner-border\" role=\"status\">\n            <span className=\"sr-only\">Loading...</span>\n          </div>\n        </div>\n      </div>\n    </>\n  )\n\n  const display = (\n    <>\n      <div className=\"u-body\">\n        <Logoheader show_user_name={false} />\n        <Container className=\"d-flex\">\n          <div className=\"u-contanier1 col-lg-6 d-none d-lg-block d-xl-block\">\n            <div className=\"u-img-carousel\">\n              <Carousel\n                fade\n                controls={false}\n                indicators={false}\n              >\n                <Carousel.Item interval={3000}>\n                  <img\n                    className=\"d-block w-100 \"\n                    src={pic1}\n                    alt=\"First slide\"\n                  />\n                </Carousel.Item>\n                <Carousel.Item interval={3000}>\n                  <img\n                    className=\"d-block w-100 \"\n                    src={pic6}\n                    alt=\"Second slide\"\n                  />\n                </Carousel.Item>\n                <Carousel.Item interval={3000}>\n                  <img\n                    className=\"d-block w-100\"\n                    src={pic3}\n                    alt=\"Third slide\"\n                  />\n                </Carousel.Item>\n                <Carousel.Item interval={3000}>\n                  <img\n                    className=\"d-block w-100 \"\n                    src={pic4}\n                    alt=\"Third slide\"\n                  />\n                </Carousel.Item>\n                <Carousel.Item interval={3000}>\n                  <img\n                    className=\"d-block w-100\"\n                    src={pic5}\n                    alt=\"Third slide\"\n                  />\n                </Carousel.Item>\n                <Carousel.Item interval={3000}>\n                  <img\n                    className=\"d-block w-100\"\n                    src={pic2}\n                    alt=\"Third slide\"\n                  />\n                </Carousel.Item>\n              </Carousel>\n            </div>\n            <div className=\"u-title01\">\n              <span>加入會員</span>\n              <button\n                className=\"fastuserlogin\"\n                onClick={fastuserlogin}\n              ></button>\n            </div>\n            <div className=\"u-title02\">\n              <span>精選好物盡在ArtDDICT</span>\n            </div>\n            <div className=\"u-title03\">\n              <span>藝文活動搶先知</span>\n            </div>\n          </div>\n\n          <div className=\"u-container2  col-lg-6 col-sm-12\">\n            <div className=\"u-membertile\">\n              <p>MEMBERSHIP</p>\n            </div>\n            <div className=\"u-addInput\">\n              <div className=\"u-addbutton d-flex justify-content-around\">\n                <div className=\"u-loginbtn\">\n                  <Link to=\"/user-login\">登入</Link>\n                </div>\n                <div className=\"u-addbtn\">\n                  <Link to=\"/user-add\">註冊</Link>\n                </div>\n              </div>\n\n              <form action=\"\">\n                <div class=\"form-group u-form\">\n                  <input\n                    value={username}\n                    type=\"email\"\n                    class=\"form-control\"\n                    id=\"email\"\n                    aria-describedby=\"emailHelp\"\n                    placeholder=\"請輸入信箱\"\n                    onChange={(event) => {\n                      setUsername(event.target.value)\n                    }}\n                  />\n                </div>\n\n                <div class=\"form-group u-form\">\n                  <input\n                    value={password}\n                    type=\"password\"\n                    class=\"form-control\"\n                    id=\"password1\"\n                    placeholder=\"請輸入密碼\"\n                    onChange={(event) => {\n                      setPassword(event.target.value)\n                    }}\n                  />\n                </div>\n                <div>\n                  <small>\n                    <div className=\"u-forgetPwd\">\n                      <a href=\"#/\">忘記密碼？</a>\n                    </div>\n                  </small>\n                </div>\n                <div className=\"u-AddBtn fastuserloginup\">\n                  <Link\n                    onClick={() => {\n                      loginToServer()\n                    }}\n                    className=\"u-link1\"\n                    style={{ textDecoration: 'none' }}\n                  >\n                    登入\n                  </Link>\n                </div>\n              </form>\n              <button\n                className=\"userData\"\n                onClick={userData}\n              ></button>\n            </div>\n          </div>\n        </Container>\n      </div>\n    </>\n  )\n\n  return <>{dataLoading ? loading : display}</>\n}\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}