{"ast":null,"code":"var _jsxFileName = \"/Users/Gary 1/Desktop/Code stuff/\\u8CC7\\u7B56\\u6703/\\u5C08\\u984C/\\u5927\\u5C08/artddict-react/src/pages/Auction/Auction.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport './style/auction.scss';\nimport { withRouter, Link } from 'react-router-dom';\nimport { Container, Row, Button, Collapse } from 'react-bootstrap';\nimport { data } from './data/data.js';\nimport AuctionProductList from './components/AuctionProductList';\nimport AuctionSlider from './components/AuctionSlider';\nimport AucBreadcrumb from './components/AucBreadcrumb';\nimport PageNumber from './components/pageNumber'; // import Breadcrumb from './components/UserBreadcrumb'\n\nimport auctionLogo from \"./images/auctionLogo.svg\";\nimport auctionarrow from \"./images/arrow.svg\";\nimport selectArrow from \"./images/selectArrow.svg\";\nimport $ from 'jquery'; // react icons\n\nimport { IoIosArrowBack, IoIosArrowForward, IoIosArrowRoundDown, IoIosSearch, IoIosHeart, IoMdAdd, IoMdRemove } from 'react-icons/io';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Auction(props) {\n  _s();\n\n  const [search, setSearch] = useState('');\n  const [arrangement, setArrangement] = useState('');\n  const [category, setCategory] = useState([]);\n  const [aucInfo, setAucInfo] = useState([]);\n  const [count, setCount] = useState(0);\n  const [aucRemainT, setAucRemainT] = useState([]);\n  const [colorChange, setColorChange] = useState(''); //頁碼\n  //該頁頁碼\n\n  const [pages, setPages] = useState([]); //頁碼資料\n\n  const [pagesinfo, setPagesInfo] = useState(''); //顯示的頁碼\n\n  const [showPages, setShowPages] = useState([1, 2, 3, 4, 5]);\n  const [priceRange, setPriceRange] = useState('0,38000');\n  const [priceRange2, setPriceRange2] = useState(8000); //選擇排列順序\n\n  const handleChangeSelect = e => {\n    // console.log(\"選擇的順序\",e.target.value)\n    setArrangement(e.target.value);\n  };\n\n  const changecolor = () => {// $('.colorChange').onclick(function () {\n    //     const bgColor = $(this).css('black');\n    //     $('.colorChange').css('background-color', 'black').css('fontSize', '2rem');\n    // });\n  }; //下一頁\n\n\n  const nextpage = () => {\n    if (pages < pagesinfo.totalPages) {\n      let nowcurrentPage = pages + 1;\n      setPages(pages + 1);\n\n      if (nowcurrentPage > 2 && nowcurrentPage < pagesinfo.totalPages - 1 && pagesinfo.totalPages > 5) {\n        setShowPages([nowcurrentPage - 2, nowcurrentPage - 1, nowcurrentPage, nowcurrentPage + 1, nowcurrentPage + 2]);\n      }\n    }\n  }; //上一頁\n\n\n  const previouspage = () => {\n    if (pages > 1) {\n      let nowcurrentPage = pages - 1;\n      setPages(pages - 1);\n\n      if (nowcurrentPage > 2 && nowcurrentPage < pagesinfo.totalPages - 1 && pagesinfo.totalPages > 5) {\n        setShowPages([nowcurrentPage - 2, nowcurrentPage - 1, nowcurrentPage, nowcurrentPage + 1, nowcurrentPage + 2]);\n      }\n    }\n  };\n\n  $('.auc_siblings').click(function () {\n    $(this).addClass('changeColors').parent().siblings().children().removeClass('changeColors');\n  }); //初始化資料\n\n  async function getAucProFromServer() {\n    // 連接的伺服器資料網址\n    const url = 'http://localhost:6005/auctoin/auction-list'; // 注意header資料格式要設定，伺服器才知道是json格式\n\n    const request = new Request(url, {\n      method: 'GET',\n      headers: new Headers({\n        Accept: 'application/json',\n        'Content-Type': 'appliaction/json'\n      })\n    });\n    const response = await fetch(request);\n    const data = await response.json(); // 設定資料\n\n    setAucInfo(data);\n  } //撈資料\n\n\n  async function getAucProArrFromServer() {\n    // 連接的伺服器資料網址\n    const url = 'http://localhost:6005/auctoin/aucSeaArr' + `?search=${search}` + `&arrangement=${arrangement}` + `&category=${category}` + `&pages=${pages}` + `&priceRange=${priceRange}`; // 注意header資料格式要設定，伺服器才知道是json格式\n\n    const request = new Request(url, {\n      method: 'GET',\n      headers: new Headers({\n        Accept: 'application/json',\n        'Content-Type': 'appliaction/json'\n      })\n    }); // console.log(pages)\n\n    const response = await fetch(request);\n    const data = await response.json(); //設定page的資料\n\n    setPagesInfo(data[0]); //設定顯示幾個頁碼\n    // console.log(data[0].totalPages)\n\n    if (data[0].totalPages < 6) {\n      let pagelength = [];\n\n      for (let i = 0; i < data[0].totalPages; i++) {\n        pagelength.push(i + 1);\n      }\n\n      console.log(pagelength);\n      setShowPages(pagelength);\n    } //拿掉page資料\n\n\n    data.shift(); // 設定資料\n\n    setAucInfo(data);\n  } //執行查詢排列頁碼更換\n\n\n  useEffect(() => {\n    getAucProFromServer();\n  }, []); //如果選到頁數以外的 重置頁數\n\n  useEffect(() => {\n    setPages(1);\n    setShowPages([1, 2, 3, 4, 5]);\n  }, [search, arrangement, category]);\n  useEffect(() => {\n    getAucProArrFromServer();\n  }, [search, arrangement, category, pages, priceRange]); //計算剩餘時間\n\n  const TimeRemaining = deadline => {\n    //截止時間(毫秒)\n    // 將資料拿到資料庫截止日期 從字串轉換成數字\n    const deadlineMin = parseInt(deadline); //現在時間(毫秒)\n\n    const timeRightNowA = new Date();\n    const timeRightNow = timeRightNowA.getTime();\n    const TimeRemaining = deadlineMin - timeRightNow;\n    const seconds = Math.floor(TimeRemaining / 1000 % 60);\n    const minutes = Math.floor(TimeRemaining / 1000 / 60 % 60);\n    const hours = Math.floor(TimeRemaining / (1000 * 60 * 60) % 24);\n    const days = Math.floor(TimeRemaining / (1000 * 60 * 60 * 24)); // console.log(days, \"天\", hours, '小時', minutes, '分鐘', seconds, '秒')\n\n    if (TimeRemaining < 0) {\n      return '競標結束';\n    }\n\n    if (days > 0) {\n      if (String(days).length < 2) {\n        return `截標倒數0${days}天${hours}小時${seconds}`;\n      } else {\n        return `截標倒數${days}天${hours}小時${seconds}`;\n      }\n    }\n\n    if (days < 1) if (String(hours).length < 2) {\n      return `截標倒數0${hours}小時${minutes}分鐘${seconds}`;\n    } else {\n      return `截標倒數${hours}小時${minutes}分鐘${seconds}`;\n    }\n  }; //倒數計時器\n\n\n  useEffect(() => {\n    let remainTime = []; //把所有deadline取出來計算剩餘時間\n\n    if (aucInfo.length > 0) {\n      for (let i = 0; i < aucInfo.length; i++) {\n        let deadlineA = new Date(aucInfo[i].aucDeadline).getTime();\n        remainTime.push(TimeRemaining(deadlineA));\n      }\n\n      setAucRemainT(remainTime);\n    }\n\n    let test = setInterval(() => {\n      setCount(count => count + 1);\n    }, 1000); // console.log('+++++++++++++++++++++++', count)\n\n    return () => clearInterval(test);\n  }, [count]); // 一開始就會開始載入資料\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auctionPage\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auctionHeroSection\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"auctionHeroSectionLogo\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: auctionLogo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"auctionTitleOne cn-font\",\n          children: \"\\u85DD\\u8853\\u7AF6\\u6A19\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"auctionTitleTwo cn-font\",\n          children: \"ArtDDICT  \\u76F8\\u4FE1\\u85DD\\u8853\\u4E0D\\u53EA\\u6709\\u55AE\\u4E00\\u50F9\\u503C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"auctiondecorationA auctiondecoration eng-font-bold\",\n          children: \"A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"auctiondecorationT auctiondecoration eng-font-bold\",\n          children: \"T\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"auctiondecorationR auctiondecoration eng-font-bold\",\n          children: \"R\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"marquee\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"auctionMarquee eng-font-bold\",\n          children: [\"AUCTION  \\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"img\", {\n            src: auctionarrow\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 25\n          }, this), \"\\xA0\\xA0\\xA0 ArtDDICT \\xA0\\xA0\\xA0 AUCTION  \\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"img\", {\n            src: auctionarrow\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 25\n          }, this), \"\\xA0\\xA0\\xA0 ArtDDICT\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auctionMain\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"auctionMainWrap\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"auctionMainFilter\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"auctionMainFilterLeft\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"auctionBreadcrumb\",\n                children: /*#__PURE__*/_jsxDEV(AucBreadcrumb, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"auctionArrangement cn-font\",\n                children: \"\\u6392\\u5217\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"auctionArrangementInput\",\n                children: /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"auc-select pl-1 cn-font\",\n                  onChange: handleChangeSelect,\n                  name: \"name\",\n                  id: \"name\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    style: {\n                      color: '#707070'\n                    },\n                    value: \"\",\n                    children: \"\\u63A8\\u85A6\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"t-more\",\n                    children: \"\\u5269\\u9918\\u6642\\u9593(\\u591A\\u81F3\\u5C11)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 286,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"t-less\",\n                    children: \"\\u5269\\u9918\\u6642\\u9593(\\u5C11\\u81F3\\u591A)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 287,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"p-less\",\n                    children: \"\\u50F9\\u683C(\\u4F4E\\u81F3\\u9AD8)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 288,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"p-high\",\n                    children: \"\\u50F9\\u683C(\\u9AD8\\u81F3\\u4F4E)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 289,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"auc-Search\",\n                children: /*#__PURE__*/_jsxDEV(IoIosSearch, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"auc-Searchbox\",\n                value: search,\n                onChange: event => {\n                  setSearch(event.target.value);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"auctionNumberOfProduct cn-font\",\n                children: [\"Showing 1-9 of \", pagesinfo.totalRows]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"auctionMainFilterRight\",\n              children: /*#__PURE__*/_jsxDEV(AuctionSlider, {\n                priceRange: priceRange,\n                setPriceRange: setPriceRange,\n                priceRange2: priceRange2,\n                setPriceRange2: setPriceRange2\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"auctionMainContent cn-font\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"auctionsidebar cn_font\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"auctionsidebarTitle \",\n                children: \"\\u7F8E\\u8853\\u9928\\u5546\\u54C1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"auc-controlCatCol\",\n                children: [/*#__PURE__*/_jsxDEV(Link, {\n                  style: {\n                    textDecoration: 'none',\n                    color: 'black'\n                  },\n                  onClick: e => {\n                    e.preventDefault();\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"li\", {\n                    onClick: event => {\n                      setCategory('');\n                    },\n                    className: \"changeColors auc_li auc_siblings\",\n                    children: \"\\u5168\\u90E8\\u5546\\u54C1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 322,\n                    columnNumber: 38\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  style: {\n                    textDecoration: 'none',\n                    color: 'black'\n                  },\n                  onClick: e => {\n                    e.preventDefault();\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"li\", {\n                    onClick: event => {\n                      setCategory('Paintings');\n                    },\n                    className: \" auc_siblings auc_li\",\n                    children: \"\\u756B\\u4F5C\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 330,\n                    columnNumber: 38\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  style: {\n                    textDecoration: 'none',\n                    color: 'black'\n                  },\n                  onClick: e => {\n                    e.preventDefault();\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"li\", {\n                    onClick: event => {\n                      setCategory('clothes');\n                    },\n                    className: \"auc_siblings auc_li\",\n                    children: \"\\u670D\\u98FE\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 336,\n                    columnNumber: 38\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  style: {\n                    textDecoration: 'none',\n                    color: 'black'\n                  },\n                  onClick: e => {\n                    e.preventDefault();\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"li\", {\n                    onClick: event => {\n                      setCategory('furniture');\n                    },\n                    className: \"auc_siblings auc_li\",\n                    children: \"\\u5BB6\\u98FE\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 342,\n                    columnNumber: 38\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  style: {\n                    textDecoration: 'none',\n                    color: 'black'\n                  },\n                  onClick: e => {\n                    e.preventDefault();\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"li\", {\n                    onClick: event => {\n                      setCategory('stationery');\n                    },\n                    className: \"auc_siblings auc_li\",\n                    children: \"\\u6587\\u5177\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 348,\n                    columnNumber: 38\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 344,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  style: {\n                    textDecoration: 'none',\n                    color: 'black'\n                  },\n                  onClick: e => {\n                    e.preventDefault();\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"li\", {\n                    onClick: event => {\n                      setCategory('books');\n                    },\n                    className: \"auc_siblings auc_li\",\n                    children: \"\\u66F8\\u7C4D\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 354,\n                    columnNumber: 38\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  style: {\n                    textDecoration: 'none',\n                    color: 'black'\n                  },\n                  onClick: e => {\n                    e.preventDefault();\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"li\", {\n                    onClick: event => {\n                      setCategory('accessories');\n                    },\n                    className: \"auc_siblings auc_li\",\n                    children: \"\\u914D\\u4EF6\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 360,\n                    columnNumber: 38\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 356,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(AuctionProductList // data={data}\n              , {\n                search: search,\n                setSearch: setSearch,\n                arrangement: arrangement,\n                getAucProFromServer: getAucProFromServer,\n                getAucProArrFromServer: getAucProArrFromServer,\n                aucInfo: aucInfo,\n                setAucInfo: setAucInfo,\n                TimeRemaining: TimeRemaining,\n                aucRemainT: aucRemainT,\n                category: category\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  className: \"justify-content-center eng-font-regular mt-5 py-5\",\n                  children: [/*#__PURE__*/_jsxDEV(Link, {\n                    className: \"ed-pagenum mx-3\",\n                    onClick: previouspage,\n                    children: /*#__PURE__*/_jsxDEV(IoIosArrowBack, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 382,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 381,\n                    columnNumber: 41\n                  }, this), showPages.map((pageNumber, i) => /*#__PURE__*/_jsxDEV(PageNumber, {\n                    pages: pages,\n                    setPages: setPages,\n                    pagesinfo: pagesinfo,\n                    currentPage: showPages[i],\n                    showPages: showPages,\n                    setShowPages: setShowPages\n                  }, i, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 385,\n                    columnNumber: 45\n                  }, this)), /*#__PURE__*/_jsxDEV(Link, {\n                    className: \"ed-pagenum mx-3\",\n                    onClick: nextpage,\n                    children: /*#__PURE__*/_jsxDEV(IoIosArrowForward, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 395,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 394,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 380,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(Auction, \"4WqBDa8mQVO44pnt5ERdqndFGYI=\");\n\n_c = Auction;\nexport default _c2 = withRouter(Auction);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Auction\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/Users/Gary 1/Desktop/Code stuff/資策會/專題/大專/artddict-react/src/pages/Auction/Auction.js"],"names":["React","useEffect","useState","withRouter","Link","Container","Row","Button","Collapse","data","AuctionProductList","AuctionSlider","AucBreadcrumb","PageNumber","$","IoIosArrowBack","IoIosArrowForward","IoIosArrowRoundDown","IoIosSearch","IoIosHeart","IoMdAdd","IoMdRemove","Auction","props","search","setSearch","arrangement","setArrangement","category","setCategory","aucInfo","setAucInfo","count","setCount","aucRemainT","setAucRemainT","colorChange","setColorChange","pages","setPages","pagesinfo","setPagesInfo","showPages","setShowPages","priceRange","setPriceRange","priceRange2","setPriceRange2","handleChangeSelect","e","target","value","changecolor","nextpage","totalPages","nowcurrentPage","previouspage","click","addClass","parent","siblings","children","removeClass","getAucProFromServer","url","request","Request","method","headers","Headers","Accept","response","fetch","json","getAucProArrFromServer","pagelength","i","push","console","log","shift","TimeRemaining","deadline","deadlineMin","parseInt","timeRightNowA","Date","timeRightNow","getTime","seconds","Math","floor","minutes","hours","days","String","length","remainTime","deadlineA","aucDeadline","test","setInterval","clearInterval","auctionLogo","auctionarrow","color","event","totalRows","textDecoration","preventDefault","map","pageNumber"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './style/auction.scss'\nimport { withRouter, Link } from 'react-router-dom'\nimport { Container, Row, Button, Collapse, } from 'react-bootstrap'\n\nimport { data } from './data/data.js'\n\nimport AuctionProductList from './components/AuctionProductList'\nimport AuctionSlider from './components/AuctionSlider'\nimport AucBreadcrumb from './components/AucBreadcrumb'\nimport PageNumber from './components/pageNumber'\n\n// import Breadcrumb from './components/UserBreadcrumb'\n\nimport auctionLogo from './images/auctionLogo.svg'\nimport auctionarrow from './images/arrow.svg'\nimport selectArrow from './images/selectArrow.svg'\nimport $ from 'jquery'\n\n\n// react icons\nimport {\n    IoIosArrowBack,\n    IoIosArrowForward,\n    IoIosArrowRoundDown,\n    IoIosSearch,\n    IoIosHeart,\n    IoMdAdd,\n    IoMdRemove,\n} from 'react-icons/io'\n\nfunction Auction(props) {\n\n    const [search, setSearch] = useState('')\n    const [arrangement, setArrangement] = useState('')\n    const [category, setCategory] = useState([])\n    const [aucInfo, setAucInfo] = useState([])\n\n    const [count, setCount] = useState(0)\n    const [aucRemainT, setAucRemainT] = useState([])\n\n    const [colorChange, setColorChange] = useState('')\n\n    //頁碼\n    //該頁頁碼\n    const [pages, setPages] = useState([])\n    //頁碼資料\n    const [pagesinfo, setPagesInfo] = useState('')\n    //顯示的頁碼\n    const [showPages, setShowPages] = useState([1, 2, 3, 4, 5])\n\n\n    const [priceRange, setPriceRange] = useState('0,38000')\n    const [priceRange2, setPriceRange2] = useState(8000)\n\n\n    //選擇排列順序\n    const handleChangeSelect = (e) => {\n        // console.log(\"選擇的順序\",e.target.value)\n        setArrangement(e.target.value)\n    }\n\n\n    const changecolor = () => {\n        // $('.colorChange').onclick(function () {\n        //     const bgColor = $(this).css('black');\n        //     $('.colorChange').css('background-color', 'black').css('fontSize', '2rem');\n        // });\n    }\n\n    //下一頁\n    const nextpage = () => {\n        if (pages < pagesinfo.totalPages) {\n            let nowcurrentPage = pages + 1\n            setPages(pages + 1)\n            if (nowcurrentPage > 2 && nowcurrentPage < (pagesinfo.totalPages - 1) && pagesinfo.totalPages > 5) {\n                setShowPages([nowcurrentPage - 2, nowcurrentPage - 1, nowcurrentPage, nowcurrentPage + 1, nowcurrentPage + 2])\n            }\n        }\n    }\n\n    //上一頁\n    const previouspage = () => {\n        if (pages > 1) {\n            let nowcurrentPage = pages - 1\n            setPages(pages - 1)\n            if (nowcurrentPage > 2 && nowcurrentPage < (pagesinfo.totalPages - 1) && pagesinfo.totalPages > 5) {\n                setShowPages([nowcurrentPage - 2, nowcurrentPage - 1, nowcurrentPage, nowcurrentPage + 1, nowcurrentPage + 2])\n            }\n        }\n    }\n\n    $('.auc_siblings').click(function () {\n        $(this)\n            .addClass('changeColors')\n            .parent()\n            .siblings()\n            .children()\n            .removeClass('changeColors')\n    })\n\n    //初始化資料\n    async function getAucProFromServer() {\n\n        // 連接的伺服器資料網址\n        const url = 'http://localhost:6005/auctoin/auction-list'\n\n        // 注意header資料格式要設定，伺服器才知道是json格式\n        const request = new Request(url, {\n            method: 'GET',\n            headers: new Headers({\n                Accept: 'application/json',\n                'Content-Type': 'appliaction/json',\n            }),\n        })\n        const response = await fetch(request)\n        const data = await response.json()\n        // 設定資料\n        setAucInfo(data)\n    }\n\n    //撈資料\n    async function getAucProArrFromServer() {\n        // 連接的伺服器資料網址\n        const url = 'http://localhost:6005/auctoin/aucSeaArr' + `?search=${search}` + `&arrangement=${arrangement}` + `&category=${category}` + `&pages=${pages}` + `&priceRange=${priceRange}`\n        // 注意header資料格式要設定，伺服器才知道是json格式\n        const request = new Request(url, {\n            method: 'GET',\n            headers: new Headers({\n                Accept: 'application/json',\n                'Content-Type': 'appliaction/json',\n            }),\n        })\n\n        // console.log(pages)\n        const response = await fetch(request)\n        const data = await response.json()\n\n        //設定page的資料\n        setPagesInfo(data[0])\n\n        //設定顯示幾個頁碼\n        // console.log(data[0].totalPages)\n        if (data[0].totalPages < 6) {\n            let pagelength = []\n            for (let i = 0; i < data[0].totalPages; i++) {\n                pagelength.push(i + 1)\n            }\n            console.log(pagelength)\n            setShowPages(pagelength)\n        }\n\n        //拿掉page資料\n        data.shift()\n\n        // 設定資料\n        setAucInfo(data)\n    }\n\n    //執行查詢排列頁碼更換\n    useEffect(() => {\n        getAucProFromServer()\n    }, [])\n\n    //如果選到頁數以外的 重置頁數\n    useEffect(() => {\n        setPages(1)\n        setShowPages([1, 2, 3, 4, 5])\n    }, [search, arrangement, category])\n\n    useEffect(() => {\n        getAucProArrFromServer()\n    }, [search, arrangement, category, pages, priceRange])\n\n    //計算剩餘時間\n    const TimeRemaining = (deadline) => {\n        //截止時間(毫秒)\n        // 將資料拿到資料庫截止日期 從字串轉換成數字\n        const deadlineMin = parseInt(deadline)\n        //現在時間(毫秒)\n        const timeRightNowA = new Date()\n        const timeRightNow = timeRightNowA.getTime()\n\n        const TimeRemaining = deadlineMin - timeRightNow\n\n        const seconds = Math.floor((TimeRemaining / 1000) % 60);\n        const minutes = Math.floor((TimeRemaining / 1000 / 60) % 60);\n        const hours = Math.floor((TimeRemaining / (1000 * 60 * 60)) % 24);\n        const days = Math.floor(TimeRemaining / (1000 * 60 * 60 * 24));\n        // console.log(days, \"天\", hours, '小時', minutes, '分鐘', seconds, '秒')\n        if (TimeRemaining < 0) {\n            return '競標結束'\n        }\n\n        if (days > 0) {\n            if (String(days).length < 2) {\n                return `截標倒數0${days}天${hours}小時${seconds}`\n            } else {\n                return `截標倒數${days}天${hours}小時${seconds}`\n            }\n        }\n        if (days < 1)\n            if (String(hours).length < 2) {\n                return `截標倒數0${hours}小時${minutes}分鐘${seconds}`\n            } else {\n                return `截標倒數${hours}小時${minutes}分鐘${seconds}`\n            }\n\n    }\n\n    //倒數計時器\n    useEffect(() => {\n        let remainTime = []\n        //把所有deadline取出來計算剩餘時間\n        if (aucInfo.length > 0) {\n            for (let i = 0; i < (aucInfo.length); i++) {\n                let deadlineA = new Date(aucInfo[i].aucDeadline).getTime()\n                remainTime.push(TimeRemaining(deadlineA))\n            }\n\n            setAucRemainT(remainTime)\n        }\n        let test = setInterval(() => {\n            setCount(count => count + 1)\n        }, 1000)\n        // console.log('+++++++++++++++++++++++', count)\n        return () => clearInterval(test)\n    }, [count])\n\n    // 一開始就會開始載入資料\n\n    return (\n        <>\n            <div className=\"auctionPage\">\n                <div className=\"auctionHeroSection\">\n                    <div className=\"auctionHeroSectionLogo\">\n                        <img src={auctionLogo} />\n                    </div>\n                    <div className=\"auctionTitleOne cn-font\">\n                        藝術競標\n                    </div>\n                    <div className=\"auctionTitleTwo cn-font\">\n                        ArtDDICT  相信藝術不只有單一價值\n                    </div>\n                    <div className=\"auctiondecorationA auctiondecoration eng-font-bold\">\n                        A\n                    </div>\n                    <div className=\"auctiondecorationT auctiondecoration eng-font-bold\">\n                        T\n                    </div>\n                    <div className=\"auctiondecorationR auctiondecoration eng-font-bold\">\n                        R\n                    </div>\n                </div>\n                <marquee>\n                    <div className=\"auctionMarquee eng-font-bold\">\n                        AUCTION  &nbsp;&nbsp;&nbsp;\n                        <img src={auctionarrow} />\n                        &nbsp;&nbsp;&nbsp;\n                        ArtDDICT\n                        &nbsp;&nbsp;&nbsp;\n                        AUCTION  &nbsp;&nbsp;&nbsp;\n                        <img src={auctionarrow} />\n                        &nbsp;&nbsp;&nbsp;\n                        ArtDDICT\n                    </div></marquee>\n                <div className=\"auctionMain\">\n                    <div className=\"auctionMainWrap\">\n                        <div className=\"auctionMainFilter\">\n                            <div className=\"auctionMainFilterLeft\">\n                                <div className=\"auctionBreadcrumb\">\n                                    <AucBreadcrumb />\n                                </div>\n                                <div className=\"auctionArrangement cn-font\">\n                                    排列\n                                </div>\n                                <div className=\"auctionArrangementInput\">\n                                    <select\n                                        className=\"auc-select pl-1 cn-font\"\n                                        onChange={handleChangeSelect}\n                                        name=\"name\"\n                                        id=\"name\">\n                                        <option style={{ color: '#707070' }} value=\"\">\n                                            推薦\n                                        </option>\n                                        <option value=\"t-more\">剩餘時間(多至少)</option>\n                                        <option value=\"t-less\">剩餘時間(少至多)</option>\n                                        <option value=\"p-less\">價格(低至高)</option>\n                                        <option value=\"p-high\">價格(高至低)</option>\n                                    </select>\n                                </div>\n                                <button className=\"auc-Search\">\n                                    <IoIosSearch />\n                                </button>\n                                <input\n                                    className=\"auc-Searchbox\"\n                                    value={search}\n                                    onChange={(event) => { setSearch(event.target.value) }}\n                                />\n                                <div className=\"auctionNumberOfProduct cn-font\">\n                                    Showing 1-9 of {pagesinfo.totalRows}\n                                </div>\n                            </div>\n                            <div className=\"auctionMainFilterRight\">\n                                <AuctionSlider\n                                    priceRange={priceRange}\n                                    setPriceRange={setPriceRange}\n                                    priceRange2={priceRange2}\n                                    setPriceRange2={setPriceRange2}\n                                />\n                            </div>\n                        </div>\n                        <div className=\"auctionMainContent cn-font\">\n                            <div className=\"auctionsidebar cn_font\">\n                                <div className=\"auctionsidebarTitle \"\n                                >美術館商品</div>\n                                <div className=\"auc-controlCatCol\">\n                                    <Link style={{ textDecoration: 'none', color:'black' }}\n                                        onClick={(e) => {\n                                            e.preventDefault()\n                                        }}\n                                    ><li onClick={\n                                        (event) => { setCategory('') }\n                                    } className=\"changeColors auc_li auc_siblings\">全部商品</li></Link>\n\n                                    <Link style={{ textDecoration: 'none', color:'black' }}\n                                        onClick={(e) => {\n                                            e.preventDefault()\n                                        }}\n                                    ><li onClick={(event) => { setCategory('Paintings') }} className=\" auc_siblings auc_li\">畫作</li></Link>\n\n                                    <Link style={{ textDecoration: 'none', color:'black' }}\n                                        onClick={(e) => {\n                                            e.preventDefault()\n                                        }}\n                                    ><li onClick={(event) => { setCategory('clothes') }} className=\"auc_siblings auc_li\">服飾</li></Link>\n\n                                    <Link style={{ textDecoration: 'none', color:'black' }}\n                                        onClick={(e) => {\n                                            e.preventDefault()\n                                        }}\n                                    ><li onClick={(event) => { setCategory('furniture') }} className=\"auc_siblings auc_li\">家飾</li></Link>\n\n                                    <Link style={{ textDecoration: 'none', color:'black' }}\n                                        onClick={(e) => {\n                                            e.preventDefault()\n                                        }}\n                                    ><li onClick={(event) => { setCategory('stationery') }} className=\"auc_siblings auc_li\">文具</li></Link>\n\n                                    <Link style={{ textDecoration: 'none', color:'black' }}\n                                        onClick={(e) => {\n                                            e.preventDefault()\n                                        }}\n                                    ><li onClick={(event) => { setCategory('books') }} className=\"auc_siblings auc_li\">書籍</li></Link>\n\n                                    <Link style={{ textDecoration: 'none', color:'black' }}\n                                        onClick={(e) => {\n                                            e.preventDefault()\n                                        }}\n                                    ><li onClick={(event) => { setCategory('accessories') }} className=\"auc_siblings auc_li\">配件</li></Link>\n                                    \n                                    {/* {console.log(category)} */}\n                                </div>\n                            </div>\n                            <div>\n                                <AuctionProductList\n                                    // data={data}\n                                    search={search}\n                                    setSearch={setSearch}\n                                    arrangement={arrangement}\n                                    getAucProFromServer={getAucProFromServer}\n                                    getAucProArrFromServer={getAucProArrFromServer}\n                                    aucInfo={aucInfo}\n                                    setAucInfo={setAucInfo}\n                                    TimeRemaining={TimeRemaining}\n                                    aucRemainT={aucRemainT}\n                                    category={category}\n                                />\n                                <div>\n                                    <Row className=\"justify-content-center eng-font-regular mt-5 py-5\">\n                                        <Link className=\"ed-pagenum mx-3\" onClick={previouspage}>\n                                            <IoIosArrowBack />\n                                        </Link>\n                                        {showPages.map((pageNumber, i) => (\n                                            <PageNumber key={i}\n                                                pages={pages}\n                                                setPages={setPages}\n                                                pagesinfo={pagesinfo}\n                                                currentPage={showPages[i]}\n                                                showPages={showPages}\n                                                setShowPages={setShowPages}\n                                            />\n                                        ))}\n                                        <Link className=\"ed-pagenum mx-3\" onClick={nextpage}>\n                                            <IoIosArrowForward />\n                                        </Link>\n                                    </Row>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        </>\n    );\n}\n\nexport default withRouter(Auction);"]},"metadata":{},"sourceType":"module"}