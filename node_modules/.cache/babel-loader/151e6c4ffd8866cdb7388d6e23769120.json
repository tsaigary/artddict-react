{"ast":null,"code":"var _jsxFileName = \"/Users/Gary 1/Desktop/Code stuff/\\u8CC7\\u7B56\\u6703/\\u5C08\\u984C/\\u5927\\u5C08/artddict-react/src/pages/Auction/components/AuctionProductList.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport '../style/AuctionProductList.scss';\nimport { withRouter, Link } from 'react-router-dom';\nimport '../../../bootstrap/css/bootstrap.css';\nimport AuctionProductCard from './AuctionProductCard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction AuctionProductList(props) {\n  _s();\n\n  const {\n    search,\n    setSearch,\n    arrangement\n  } = props; //用來放資料\n\n  const [aucInfo, setAucInfo] = useState([]);\n  const [a, seta] = useState('');\n\n  async function getAucProFromServer() {\n    // 連接的伺服器資料網址\n    const url = 'http://localhost:6005/auctoin/auction-list'; // 注意header資料格式要設定，伺服器才知道是json格式\n\n    const request = new Request(url, {\n      method: 'GET',\n      headers: new Headers({\n        Accept: 'application/json',\n        'Content-Type': 'appliaction/json'\n      })\n    });\n    const response = await fetch(request);\n    const data = await response.json(); // 設定資料\n\n    setAucInfo(data);\n  }\n\n  async function getAucProArrFromServer() {\n    // 連接的伺服器資料網址\n    const url = 'http://localhost:6005/auctoin/aucSeaArr' + `?search=${search}` + `&arrangement=${arrangement}`; // 注意header資料格式要設定，伺服器才知道是json格式\n\n    const request = new Request(url, {\n      method: 'GET',\n      headers: new Headers({\n        Accept: 'application/json',\n        'Content-Type': 'appliaction/json'\n      })\n    });\n    const response = await fetch(request);\n    const data = await response.json();\n    console.log('發送資料時的a', a);\n    console.log('收到的資料', data, \"AUCINFO\", aucInfo); // 設定資料\n\n    setAucInfo(data);\n    console.log('收到的資料a', data, \"AUCINFO666\", aucInfo);\n  } // 一開始就會開始載入資料\n\n\n  useEffect(() => {\n    getAucProFromServer();\n  }, []);\n  useEffect(() => {\n    getAucProArrFromServer(); // console.log('呼叫資料')\n  }, [search, arrangement]); // useEffect(() => {\n  //     getAucProArrFromServer()\n  // }, [arrangement])\n\n  function TimeRemaining(deadline) {\n    //截止時間(毫秒)\n    // 將資料拿到資料庫截止日期 從字串轉換成數字\n    const deadlineMin = parseInt(deadline); //現在時間(毫秒)\n\n    const timeRightNowA = new Date();\n    const timeRightNow = timeRightNowA.getTime();\n    const TimeRemaining = deadlineMin - timeRightNow;\n    const seconds = Math.floor(TimeRemaining / 1000 % 60);\n    const minutes = Math.floor(TimeRemaining / 1000 / 60 % 60);\n    const hours = Math.floor(TimeRemaining / (1000 * 60 * 60) % 24);\n    const days = Math.floor(TimeRemaining / (1000 * 60 * 60 * 24)); // console.log(days, \"天\", hours, '小時', minutes, '分鐘', seconds, '秒')\n\n    return [days, hours, minutes, seconds];\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [console.log(\"render時商品名稱\", aucInfo), aucInfo.map((auctionProduct, index) => /*#__PURE__*/_jsxDEV(AuctionProductCard, {\n          aucId: auctionProduct.aucId,\n          aucName: auctionProduct.aucName,\n          aucPriceNow: auctionProduct.aucPriceNow,\n          deadline: auctionProduct.aucDeadline,\n          aucImg: auctionProduct.aucImg,\n          TimeRemaining: TimeRemaining,\n          search: search,\n          arrangement: arrangement,\n          aucInfo: aucInfo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 25\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(AuctionProductList, \"pxIJp999QF4TTfC9ZD9AlI7coPE=\");\n\n_c = AuctionProductList;\nexport default _c2 = withRouter(AuctionProductList);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"AuctionProductList\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/Users/Gary 1/Desktop/Code stuff/資策會/專題/大專/artddict-react/src/pages/Auction/components/AuctionProductList.js"],"names":["React","useState","useEffect","withRouter","Link","AuctionProductCard","AuctionProductList","props","search","setSearch","arrangement","aucInfo","setAucInfo","a","seta","getAucProFromServer","url","request","Request","method","headers","Headers","Accept","response","fetch","data","json","getAucProArrFromServer","console","log","TimeRemaining","deadline","deadlineMin","parseInt","timeRightNowA","Date","timeRightNow","getTime","seconds","Math","floor","minutes","hours","days","map","auctionProduct","index","aucId","aucName","aucPriceNow","aucDeadline","aucImg"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useState, useEffect } from 'react';\nimport '../style/AuctionProductList.scss';\nimport { withRouter, Link } from 'react-router-dom'\nimport '../../../bootstrap/css/bootstrap.css'\nimport AuctionProductCard from './AuctionProductCard'\n\n\nfunction AuctionProductList(props) {\n\n    const { search, setSearch, arrangement } = props\n    //用來放資料\n    const [aucInfo, setAucInfo] = useState([])\n    const [a,seta] = useState('')\n\n    async function getAucProFromServer() {\n\n        // 連接的伺服器資料網址\n        const url = 'http://localhost:6005/auctoin/auction-list'\n\n        // 注意header資料格式要設定，伺服器才知道是json格式\n        const request = new Request(url, {\n            method: 'GET',\n            headers: new Headers({\n                Accept: 'application/json',\n                'Content-Type': 'appliaction/json',\n            }),\n        })\n\n        const response = await fetch(request)\n        const data = await response.json()\n        // 設定資料\n        setAucInfo(data)\n    }\n\n    async function getAucProArrFromServer() {\n\n        // 連接的伺服器資料網址\n        const url = 'http://localhost:6005/auctoin/aucSeaArr' + `?search=${search}` + `&arrangement=${arrangement}`\n\n        // 注意header資料格式要設定，伺服器才知道是json格式\n        const request = new Request(url, {\n            method: 'GET',\n            headers: new Headers({\n                Accept: 'application/json',\n                'Content-Type': 'appliaction/json',\n            }),\n        })\n\n        const response = await fetch(request)\n        const data = await response.json()\n        console.log('發送資料時的a',a)\n        console.log('收到的資料',data,\"AUCINFO\",aucInfo)\n        // 設定資料\n        setAucInfo(data)\n        console.log('收到的資料a',data,\"AUCINFO666\",aucInfo)\n    }\n\n    // 一開始就會開始載入資料\n    useEffect(() => {\n        getAucProFromServer()\n    }, [])\n\n    useEffect(() => {\n        getAucProArrFromServer()\n        // console.log('呼叫資料')\n    }, [search,arrangement])\n\n    // useEffect(() => {\n    //     getAucProArrFromServer()\n    // }, [arrangement])\n\n\n\n    function TimeRemaining(deadline) {\n        //截止時間(毫秒)\n        // 將資料拿到資料庫截止日期 從字串轉換成數字\n        const deadlineMin = parseInt(deadline)\n\n        //現在時間(毫秒)\n        const timeRightNowA = new Date()\n        const timeRightNow = timeRightNowA.getTime()\n\n        const TimeRemaining = deadlineMin - timeRightNow\n\n        const seconds = Math.floor((TimeRemaining / 1000) % 60);\n        const minutes = Math.floor((TimeRemaining / 1000 / 60) % 60);\n        const hours = Math.floor((TimeRemaining / (1000 * 60 * 60)) % 24);\n        const days = Math.floor(TimeRemaining / (1000 * 60 * 60 * 24));\n        // console.log(days, \"天\", hours, '小時', minutes, '分鐘', seconds, '秒')\n\n\n        return [days, hours, minutes, seconds]\n\n    }\n\n    return (\n        <>  \n        {/* {console.log('-----------------------------')} */}\n            <div className=\"container\">\n                <div className=\"row\">\n                    {console.log(\"render時商品名稱\",aucInfo)}\n                    {/* const eventDisplay = events.map((event) => { */}\n                    {aucInfo.map((auctionProduct, index) => (\n                        <AuctionProductCard\n                            aucId={auctionProduct.aucId}\n                            aucName={auctionProduct.aucName}\n                            aucPriceNow={auctionProduct.aucPriceNow}\n                            deadline={auctionProduct.aucDeadline}\n                            aucImg={auctionProduct.aucImg}\n                            TimeRemaining={TimeRemaining}\n                            search={search}\n                            arrangement={arrangement}\n                            aucInfo={aucInfo}\n                        />\n                    ))}\n                </div>\n            </div>\n        </>\n    );\n}\n\nexport default withRouter(AuctionProductList);"]},"metadata":{},"sourceType":"module"}